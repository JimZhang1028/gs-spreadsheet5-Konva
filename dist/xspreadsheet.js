!function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=60)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),r=n(2);e.Factory={addGetterSetter:function(t,e,n,i,r){this.addGetter(t,e,n),this.addSetter(t,e,i,r),this.addOverloadedGetterSetter(t,e)},addGetter:function(t,e,n){var r="get"+i.Util._capitalize(e);t.prototype[r]=t.prototype[r]||function(){var t=this.attrs[e];return void 0===t?n:t}},addSetter:function(t,n,r,o){var a="set"+i.Util._capitalize(n);t.prototype[a]||e.Factory.overWriteSetter(t,n,r,o)},overWriteSetter:function(t,e,n,r){var o="set"+i.Util._capitalize(e);t.prototype[o]=function(t){return n&&null!=t&&(t=n.call(this,t,e)),this._setAttr(e,t),r&&r.call(this),this}},addComponentsGetterSetter:function(t,e,n,o,a){var s,l,c=n.length,u=i.Util._capitalize,h="get"+u(e),f="set"+u(e);t.prototype[h]=function(){var t={};for(s=0;s<c;s++)t[l=n[s]]=this.getAttr(e+u(l));return t};var d=r.getComponentValidator(n);t.prototype[f]=function(t){var n,i=this.attrs[e];for(n in o&&(t=o.call(this,t)),d&&d.call(this,t,e),t)t.hasOwnProperty(n)&&this._setAttr(e+u(n),t[n]);return this._fireChangeEvent(e,i,t),a&&a.call(this),this},this.addOverloadedGetterSetter(t,e)},addOverloadedGetterSetter:function(t,e){var n=i.Util._capitalize(e),r="set"+n,o="get"+n;t.prototype[e]=function(){return arguments.length?(this[r](arguments[0]),this):this[o]()}},addDeprecatedGetterSetter:function(t,e,n,r){i.Util.error("Adding deprecated "+e);var o="get"+i.Util._capitalize(e),a=e+" property is deprecated and will be removed soon. Look at Konva change log for more information.";t.prototype[o]=function(){i.Util.error(a);var t=this.attrs[e];return void 0===t?n:t},this.addSetter(t,e,r,(function(){i.Util.error(a)})),this.addOverloadedGetterSetter(t,e)},backCompat:function(t,e){i.Util.each(e,(function(e,n){var r=t.prototype[n],o="get"+i.Util._capitalize(e),a="set"+i.Util._capitalize(e);function s(){r.apply(this,arguments),i.Util.error('"'+e+'" method is deprecated and will be removed soon. Use ""'+n+'" instead.')}t.prototype[e]=s,t.prototype[o]=s,t.prototype[a]=s}))},afterSetFilter:function(){this._filterUpToDate=!1}}},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var n=Math.PI/180;var i=function(t){var e=t.indexOf("msie ");if(e>0)return parseInt(t.substring(e+5,t.indexOf(".",e)),10);if(t.indexOf("trident/")>0){var n=t.indexOf("rv:");return parseInt(t.substring(n+3,t.indexOf(".",n)),10)}var i=t.indexOf("edge/");return i>0&&parseInt(t.substring(i+5,t.indexOf(".",i)),10)};e._parseUA=function(t){var e=t.toLowerCase(),n=/(chrome)[ /]([\w.]+)/.exec(e)||/(webkit)[ /]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ /]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[],r=!!t.match(/Android|BlackBerry|iPhone|iPad|iPod|Opera Mini|IEMobile/i),o=!!t.match(/IEMobile/i);return{browser:n[1]||"",version:n[2]||"0",isIE:i(e),mobile:r,ieMobile:o}},e.glob=void 0!==t?t:"undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope?self:{},e.Konva={_global:e.glob,version:"4.0.12",isBrowser:"undefined"!=typeof window&&("[object Window]"==={}.toString.call(window)||"[object global]"==={}.toString.call(window)),isUnminified:/param/.test(function(t){}.toString()),dblClickWindow:400,getAngle:function(t){return e.Konva.angleDeg?t*n:t},enableTrace:!1,_pointerEventsEnabled:!1,hitOnDragEnabled:!1,captureTouchEventsEnabled:!1,listenClickTap:!1,inDblClickWindow:!1,pixelRatio:void 0,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging:function(){return e.Konva.DD.isDragging},isDragReady:function(){return!!e.Konva.DD.node},UA:e._parseUA(e.glob.navigator&&e.glob.navigator.userAgent||""),document:e.glob.document,_injectGlobal:function(t){e.glob.Konva=t},_parseUA:e._parseUA},e._NODES_REGISTRY={},e._registerNode=function(t){e._NODES_REGISTRY[t.prototype.getClassName()]=t,e.Konva[t.prototype.getClassName()]=t}}).call(this,n(22))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),r=n(3);function o(t){return r.Util._isString(t)?'"'+t+'"':"[object Number]"===Object.prototype.toString.call(t)?t:r.Util._isBoolean(t)?t:Object.prototype.toString.call(t)}e.RGBComponent=function(t){return t>255?255:t<0?0:Math.round(t)},e.alphaComponent=function(t){return t>1?1:t<1e-4?1e-4:t},e.getNumberValidator=function(){if(i.Konva.isUnminified)return function(t,e){return r.Util._isNumber(t)||r.Util.warn(o(t)+' is a not valid value for "'+e+'" attribute. The value should be a number.'),t}},e.getNumberOrAutoValidator=function(){if(i.Konva.isUnminified)return function(t,e){return r.Util._isNumber(t)||"auto"===t||r.Util.warn(o(t)+' is a not valid value for "'+e+'" attribute. The value should be a number or "auto".'),t}},e.getStringValidator=function(){if(i.Konva.isUnminified)return function(t,e){return r.Util._isString(t)||r.Util.warn(o(t)+' is a not valid value for "'+e+'" attribute. The value should be a string.'),t}},e.getFunctionValidator=function(){if(i.Konva.isUnminified)return function(t,e){return r.Util._isFunction(t)||r.Util.warn(o(t)+' is a not valid value for "'+e+'" attribute. The value should be a function.'),t}},e.getNumberArrayValidator=function(){if(i.Konva.isUnminified)return function(t,e){return r.Util._isArray(t)?t.forEach((function(t){r.Util._isNumber(t)||r.Util.warn('"'+e+'" attribute has non numeric element '+t+". Make sure that all elements are numbers.")})):r.Util.warn(o(t)+' is a not valid value for "'+e+'" attribute. The value should be a array of numbers.'),t}},e.getBooleanValidator=function(){if(i.Konva.isUnminified)return function(t,e){return!0===t||!1===t||r.Util.warn(o(t)+' is a not valid value for "'+e+'" attribute. The value should be a boolean.'),t}},e.getComponentValidator=function(t){if(i.Konva.isUnminified)return function(e,n){return r.Util.isObject(e)||r.Util.warn(o(e)+' is a not valid value for "'+n+'" attribute. The value should be an object with properties '+t),e}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),r=function(){function t(){}return t.toCollection=function(e){var n,i=new t,r=e.length;for(n=0;n<r;n++)i.push(e[n]);return i},t._mapMethod=function(e){t.prototype[e]=function(){var t,n=this.length,i=[].slice.call(arguments);for(t=0;t<n;t++)this[t][e].apply(this[t],i);return this}},t.mapMethods=function(e){var n=e.prototype;for(var i in n)t._mapMethod(i)},t}();e.Collection=r,r.prototype=[],r.prototype.each=function(t){for(var e=0;e<this.length;e++)t(this[e],e)},r.prototype.toArray=function(){var t,e=[],n=this.length;for(t=0;t<n;t++)e.push(this[t]);return e};var o=function(){function t(t){void 0===t&&(t=[1,0,0,1,0,0]),this.m=t&&t.slice()||[1,0,0,1,0,0]}return t.prototype.copy=function(){return new t(this.m)},t.prototype.point=function(t){var e=this.m;return{x:e[0]*t.x+e[2]*t.y+e[4],y:e[1]*t.x+e[3]*t.y+e[5]}},t.prototype.translate=function(t,e){return this.m[4]+=this.m[0]*t+this.m[2]*e,this.m[5]+=this.m[1]*t+this.m[3]*e,this},t.prototype.scale=function(t,e){return this.m[0]*=t,this.m[1]*=t,this.m[2]*=e,this.m[3]*=e,this},t.prototype.rotate=function(t){var e=Math.cos(t),n=Math.sin(t),i=this.m[0]*e+this.m[2]*n,r=this.m[1]*e+this.m[3]*n,o=this.m[0]*-n+this.m[2]*e,a=this.m[1]*-n+this.m[3]*e;return this.m[0]=i,this.m[1]=r,this.m[2]=o,this.m[3]=a,this},t.prototype.getTranslation=function(){return{x:this.m[4],y:this.m[5]}},t.prototype.skew=function(t,e){var n=this.m[0]+this.m[2]*e,i=this.m[1]+this.m[3]*e,r=this.m[2]+this.m[0]*t,o=this.m[3]+this.m[1]*t;return this.m[0]=n,this.m[1]=i,this.m[2]=r,this.m[3]=o,this},t.prototype.multiply=function(t){var e=this.m[0]*t.m[0]+this.m[2]*t.m[1],n=this.m[1]*t.m[0]+this.m[3]*t.m[1],i=this.m[0]*t.m[2]+this.m[2]*t.m[3],r=this.m[1]*t.m[2]+this.m[3]*t.m[3],o=this.m[0]*t.m[4]+this.m[2]*t.m[5]+this.m[4],a=this.m[1]*t.m[4]+this.m[3]*t.m[5]+this.m[5];return this.m[0]=e,this.m[1]=n,this.m[2]=i,this.m[3]=r,this.m[4]=o,this.m[5]=a,this},t.prototype.invert=function(){var t=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),e=this.m[3]*t,n=-this.m[1]*t,i=-this.m[2]*t,r=this.m[0]*t,o=t*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),a=t*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=e,this.m[1]=n,this.m[2]=i,this.m[3]=r,this.m[4]=o,this.m[5]=a,this},t.prototype.getMatrix=function(){return this.m},t.prototype.setAbsolutePosition=function(t,e){var n=this.m[0],i=this.m[1],r=this.m[2],o=this.m[3],a=this.m[4],s=(n*(e-this.m[5])-i*(t-a))/(n*o-i*r),l=(t-a-r*s)/n;return this.translate(l,s)},t}();e.Transform=o;var a=Math.PI/180,s=180/Math.PI,l={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},c=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/,u=[];e.Util={_isElement:function(t){return!(!t||1!=t.nodeType)},_isFunction:function(t){return!!(t&&t.constructor&&t.call&&t.apply)},_isPlainObject:function(t){return!!t&&t.constructor===Object},_isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},_isNumber:function(t){return"[object Number]"===Object.prototype.toString.call(t)&&!isNaN(t)&&isFinite(t)},_isString:function(t){return"[object String]"===Object.prototype.toString.call(t)},_isBoolean:function(t){return"[object Boolean]"===Object.prototype.toString.call(t)},isObject:function(t){return t instanceof Object},isValidSelector:function(t){if("string"!=typeof t)return!1;var e=t[0];return"#"===e||"."===e||e===e.toUpperCase()},_sign:function(t){return 0===t?0:t>0?1:-1},requestAnimFrame:function(t){u.push(t),1===u.length&&requestAnimationFrame((function(){var t=u;u=[],t.forEach((function(t){t()}))}))},createCanvasElement:function(){var t=document.createElement("canvas");try{t.style=t.style||{}}catch(t){}return t},createImageElement:function(){return document.createElement("img")},_isInDocument:function(t){for(;t=t.parentNode;)if(t==document)return!0;return!1},_simplifyArray:function(t){var n,i,r=[],o=t.length,a=e.Util;for(n=0;n<o;n++)i=t[n],a._isNumber(i)?i=Math.round(1e3*i)/1e3:a._isString(i)||(i=i.toString()),r.push(i);return r},_urlToImage:function(t,e){var n=new i.glob.Image;n.onload=function(){e(n)},n.src=t},_rgbToHex:function(t,e,n){return((1<<24)+(t<<16)+(e<<8)+n).toString(16).slice(1)},_hexToRgb:function(t){t=t.replace("#","");var e=parseInt(t,16);return{r:e>>16&255,g:e>>8&255,b:255&e}},getRandomColor:function(){for(var t=(16777215*Math.random()<<0).toString(16);t.length<6;)t="0"+t;return"#"+t},get:function(t,e){return void 0===t?e:t},getRGB:function(t){var e;return t in l?{r:(e=l[t])[0],g:e[1],b:e[2]}:"#"===t[0]?this._hexToRgb(t.substring(1)):"rgb("===t.substr(0,4)?(e=c.exec(t.replace(/ /g,"")),{r:parseInt(e[1],10),g:parseInt(e[2],10),b:parseInt(e[3],10)}):{r:0,g:0,b:0}},colorToRGBA:function(t){return t=t||"black",e.Util._namedColorToRBA(t)||e.Util._hex3ColorToRGBA(t)||e.Util._hex6ColorToRGBA(t)||e.Util._rgbColorToRGBA(t)||e.Util._rgbaColorToRGBA(t)||e.Util._hslColorToRGBA(t)},_namedColorToRBA:function(t){var e=l[t.toLowerCase()];return e?{r:e[0],g:e[1],b:e[2],a:1}:null},_rgbColorToRGBA:function(t){if(0===t.indexOf("rgb(")){var e=(t=t.match(/rgb\(([^)]+)\)/)[1]).split(/ *, */).map(Number);return{r:e[0],g:e[1],b:e[2],a:1}}},_rgbaColorToRGBA:function(t){if(0===t.indexOf("rgba(")){var e=(t=t.match(/rgba\(([^)]+)\)/)[1]).split(/ *, */).map(Number);return{r:e[0],g:e[1],b:e[2],a:e[3]}}},_hex6ColorToRGBA:function(t){if("#"===t[0]&&7===t.length)return{r:parseInt(t.slice(1,3),16),g:parseInt(t.slice(3,5),16),b:parseInt(t.slice(5,7),16),a:1}},_hex3ColorToRGBA:function(t){if("#"===t[0]&&4===t.length)return{r:parseInt(t[1]+t[1],16),g:parseInt(t[2]+t[2],16),b:parseInt(t[3]+t[3],16),a:1}},_hslColorToRGBA:function(t){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(t)){var e=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t),n=(e[0],e.slice(1)),i=Number(n[0])/360,r=Number(n[1])/100,o=Number(n[2])/100,a=void 0,s=void 0,l=void 0;if(0===r)return l=255*o,{r:Math.round(l),g:Math.round(l),b:Math.round(l),a:1};for(var c=2*o-(a=o<.5?o*(1+r):o+r-o*r),u=[0,0,0],h=0;h<3;h++)(s=i+1/3*-(h-1))<0&&s++,s>1&&s--,l=6*s<1?c+6*(a-c)*s:2*s<1?a:3*s<2?c+(a-c)*(2/3-s)*6:c,u[h]=255*l;return{r:Math.round(u[0]),g:Math.round(u[1]),b:Math.round(u[2]),a:1}}},haveIntersection:function(t,e){return!(e.x>t.x+t.width||e.x+e.width<t.x||e.y>t.y+t.height||e.y+e.height<t.y)},cloneObject:function(t){var e={};for(var n in t)this._isPlainObject(t[n])?e[n]=this.cloneObject(t[n]):this._isArray(t[n])?e[n]=this.cloneArray(t[n]):e[n]=t[n];return e},cloneArray:function(t){return t.slice(0)},_degToRad:function(t){return t*a},_radToDeg:function(t){return t*s},_capitalize:function(t){return t.charAt(0).toUpperCase()+t.slice(1)},throw:function(t){throw new Error("Konva error: "+t)},error:function(t){console.error("Konva error: "+t)},warn:function(t){i.Konva.showWarnings&&console.warn("Konva warning: "+t)},extend:function(t,e){function n(){this.constructor=t}n.prototype=e.prototype;var i=t.prototype;for(var r in t.prototype=new n,i)i.hasOwnProperty(r)&&(t.prototype[r]=i[r]);t.__super__=e.prototype,t.super=e},_getControlPoints:function(t,e,n,i,r,o,a){var s=Math.sqrt(Math.pow(n-t,2)+Math.pow(i-e,2)),l=Math.sqrt(Math.pow(r-n,2)+Math.pow(o-i,2)),c=a*s/(s+l),u=a*l/(s+l);return[n-c*(r-t),i-c*(o-e),n+u*(r-t),i+u*(o-e)]},_expandPoints:function(t,n){var i,r,o=t.length,a=[];for(i=2;i<o-2;i+=2)r=e.Util._getControlPoints(t[i-2],t[i-1],t[i],t[i+1],t[i+2],t[i+3],n),a.push(r[0]),a.push(r[1]),a.push(t[i]),a.push(t[i+1]),a.push(r[2]),a.push(r[3]);return a},each:function(t,e){for(var n in t)e(n,t[n])},_inRange:function(t,e,n){return e<=t&&t<n},_getProjectionToSegment:function(t,e,n,i,r,o){var a,s,l,c=(t-n)*(t-n)+(e-i)*(e-i);if(0==c)a=t,s=e,l=(r-n)*(r-n)+(o-i)*(o-i);else{var u=((r-t)*(n-t)+(o-e)*(i-e))/c;u<0?(a=t,s=e,l=(t-r)*(t-r)+(e-o)*(e-o)):u>1?(a=n,s=i,l=(n-r)*(n-r)+(i-o)*(i-o)):l=((a=t+u*(n-t))-r)*(a-r)+((s=e+u*(i-e))-o)*(s-o)}return[a,s,l]},_getProjectionToLine:function(t,n,i){var r=e.Util.cloneObject(t),o=Number.MAX_VALUE;return n.forEach((function(a,s){if(i||s!==n.length-1){var l=n[(s+1)%n.length],c=e.Util._getProjectionToSegment(a.x,a.y,l.x,l.y,t.x,t.y),u=c[0],h=c[1],f=c[2];f<o&&(r.x=u,r.y=h,o=f)}})),r},_prepareArrayForTween:function(t,n,i){var r,o=[],a=[];if(t.length>n.length){var s=n;n=t,t=s}for(r=0;r<t.length;r+=2)o.push({x:t[r],y:t[r+1]});for(r=0;r<n.length;r+=2)a.push({x:n[r],y:n[r+1]});var l=[];return a.forEach((function(t){var n=e.Util._getProjectionToLine(t,o,i);l.push(n.x),l.push(n.y)})),l},_prepareToStringify:function(t){var n;for(var i in t.visitedByCircularReferenceRemoval=!0,t)if(t.hasOwnProperty(i)&&t[i]&&"object"==typeof t[i])if(n=Object.getOwnPropertyDescriptor(t,i),t[i].visitedByCircularReferenceRemoval||e.Util._isElement(t[i])){if(!n.configurable)return null;delete t[i]}else if(null===e.Util._prepareToStringify(t[i])){if(!n.configurable)return null;delete t[i]}return delete t.visitedByCircularReferenceRemoval,t},_assign:function(t,e){for(var n in e)t[n]=e[n];return t},_getFirstPointerId:function(t){return t.touches?t.changedTouches[0].identifier:999}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),r=n(0),o=n(8),a=n(1),s=n(9),l=n(2);e.ids={},e.names={};e._removeId=function(t,n){t&&e.ids[t]===n&&delete e.ids[t]},e._addName=function(t,n){n&&(e.names[n]||(e.names[n]=[]),e.names[n].push(t))},e._removeName=function(t,n){if(t){var i=e.names[t];if(i){for(var r=0;r<i.length;r++){i[r]._id===n&&i.splice(r,1)}0===i.length&&delete e.names[t]}}};var c="absoluteOpacity",u="absoluteTransform",h="absoluteScale",f="listening",d="Shape",p="transform",v="visible",g=["id"],y=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(" "),m=["scaleXChange.konva","scaleYChange.konva"].join(" "),b=new i.Collection,_=1,w=function(){function t(t){var e=this;this._id=_++,this.eventListeners={},this.attrs={},this.index=0,this.parent=null,this._cache=new Map,this._lastPos=null,this._filterUpToDate=!1,this._isUnderCache=!1,this.children=b,this._dragEventId=null,this.setAttrs(t),this.on(y,(function(){e._clearCache(p),e._clearSelfAndDescendantCache(u)})),this.on(m,(function(){e._clearSelfAndDescendantCache(h)})),this.on("visibleChange.konva",(function(){e._clearSelfAndDescendantCache(v)})),this.on("listeningChange.konva",(function(){e._clearSelfAndDescendantCache(f)})),this.on("opacityChange.konva",(function(){e._clearSelfAndDescendantCache(c)}))}return t.prototype.hasChildren=function(){return!1},t.prototype.getChildren=function(){return b},t.prototype._clearCache=function(t){t?this._cache.delete(t):this._cache.clear()},t.prototype._getCache=function(t,e){var n=this._cache.get(t);return void 0===n&&(n=e.call(this),this._cache.set(t,n)),n},t.prototype._getCanvasCache=function(){return this._cache.get("canvas")},t.prototype._clearSelfAndDescendantCache=function(t){this._clearCache(t),this._getCanvasCache()||this.children&&this.children.each((function(e){e._clearSelfAndDescendantCache(t)}))},t.prototype.clearCache=function(){return this._cache.delete("canvas"),this._clearSelfAndDescendantCache(),this},t.prototype.cache=function(t){var e=t||{},n={};void 0!==e.x&&void 0!==e.y&&void 0!==e.width&&void 0!==e.height||(n=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()}));var r=e.width||n.width,a=e.height||n.height,s=e.pixelRatio,l=void 0===e.x?n.x:e.x,u=void 0===e.y?n.y:e.y,f=e.offset||0,d=e.drawBorder||!1;if(r&&a){r+=2*f,a+=2*f,l-=f,u-=f;var p=new o.SceneCanvas({pixelRatio:s,width:r,height:a}),v=new o.SceneCanvas({pixelRatio:s,width:r,height:a}),g=new o.HitCanvas({pixelRatio:1,width:r,height:a}),y=p.getContext(),m=g.getContext();return g.isCache=!0,this._cache.delete("canvas"),this._filterUpToDate=!1,!1===e.imageSmoothingEnabled&&(p.getContext()._context.imageSmoothingEnabled=!1,v.getContext()._context.imageSmoothingEnabled=!1,g.getContext()._context.imageSmoothingEnabled=!1),y.save(),m.save(),y.translate(-l,-u),m.translate(-l,-u),this._isUnderCache=!0,this._clearSelfAndDescendantCache(c),this._clearSelfAndDescendantCache(h),this.drawScene(p,this,!0),this.drawHit(g,this,!0),this._isUnderCache=!1,y.restore(),m.restore(),d&&(y.save(),y.beginPath(),y.rect(0,0,r,a),y.closePath(),y.setAttr("strokeStyle","red"),y.setAttr("lineWidth",5),y.stroke(),y.restore()),this._cache.set("canvas",{scene:p,filter:v,hit:g,x:l,y:u}),this}i.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.")},t.prototype.isCached=function(){return this._cache.has("canvas")},t.prototype.getClientRect=function(t){throw new Error('abstract "getClientRect" method call')},t.prototype._transformedRect=function(t,e){var n,i,r,o,a=[{x:t.x,y:t.y},{x:t.x+t.width,y:t.y},{x:t.x+t.width,y:t.y+t.height},{x:t.x,y:t.y+t.height}],s=this.getAbsoluteTransform(e);return a.forEach((function(t){var e=s.point(t);void 0===n&&(n=r=e.x,i=o=e.y),n=Math.min(n,e.x),i=Math.min(i,e.y),r=Math.max(r,e.x),o=Math.max(o,e.y)})),{x:n,y:i,width:r-n,height:o-i}},t.prototype._drawCachedSceneCanvas=function(t){t.save(),t._applyOpacity(this),t._applyGlobalCompositeOperation(this);var e=this._getCanvasCache();t.translate(e.x,e.y);var n=this._getCachedSceneCanvas(),i=n.pixelRatio;t.drawImage(n._canvas,0,0,n.width/i,n.height/i),t.restore()},t.prototype._drawCachedHitCanvas=function(t){var e=this._getCanvasCache(),n=e.hit;t.save(),t._applyGlobalCompositeOperation(this),t.translate(e.x,e.y),t.drawImage(n._canvas,0,0),t.restore()},t.prototype._getCachedSceneCanvas=function(){var t,e,n,r,o=this.filters(),a=this._getCanvasCache(),s=a.scene,l=a.filter,c=l.getContext();if(o){if(!this._filterUpToDate){var u=s.pixelRatio;try{for(t=o.length,c.clear(),c.drawImage(s._canvas,0,0,s.getWidth()/u,s.getHeight()/u),e=c.getImageData(0,0,l.getWidth(),l.getHeight()),n=0;n<t;n++)"function"==typeof(r=o[n])?(r.call(this,e),c.putImageData(e,0,0)):i.Util.error("Filter should be type of function, but got "+typeof r+" insted. Please check correct filters")}catch(t){i.Util.error("Unable to apply filter. "+t.message)}this._filterUpToDate=!0}return l}return s},t.prototype.on=function(t,e){if(3===arguments.length)return this._delegate.apply(this,arguments);var n,i,r,o,a=t.split(" "),s=a.length;for(n=0;n<s;n++)r=(i=a[n].split("."))[0],o=i[1]||"",this.eventListeners[r]||(this.eventListeners[r]=[]),this.eventListeners[r].push({name:o,handler:e});return this},t.prototype.off=function(t,e){var n,i,r,o,a,s=(t||"").split(" "),l=s.length;if(!t)for(i in this.eventListeners)this._off(i);for(n=0;n<l;n++)if(o=(r=s[n].split("."))[0],a=r[1],o)this.eventListeners[o]&&this._off(o,a,e);else for(i in this.eventListeners)this._off(i,a,e);return this},t.prototype.dispatchEvent=function(t){var e={target:this,type:t.type,evt:t};return this.fire(t.type,e),this},t.prototype.addEventListener=function(t,e){return this.on(t,(function(t){e.call(this,t.evt)})),this},t.prototype.removeEventListener=function(t){return this.off(t),this},t.prototype._delegate=function(t,e,n){var r=this;this.on(t,(function(t){for(var o=t.target.findAncestors(e,!0,r),a=0;a<o.length;a++)(t=i.Util.cloneObject(t)).currentTarget=o[a],n.call(o[a],t)}))},t.prototype.remove=function(){return this.isDragging()&&this.stopDrag(),s.DD._dragElements.delete(this._id),this._remove(),this},t.prototype._remove=function(){this._clearSelfAndDescendantCache("stage"),this._clearSelfAndDescendantCache(u),this._clearSelfAndDescendantCache(v),this._clearSelfAndDescendantCache(f),this._clearSelfAndDescendantCache(c);var t=this.getParent();t&&t.children&&(t.children.splice(this.index,1),t._setChildrenIndices(),this.parent=null)},t.prototype.destroy=function(){e._removeId(this.id(),this);for(var t=(this.name()||"").split(/\s/g),n=0;n<t.length;n++){var i=t[n];e._removeName(i,this._id)}return this.remove(),this},t.prototype.getAttr=function(t){var e="get"+i.Util._capitalize(t);return i.Util._isFunction(this[e])?this[e]():this.attrs[t]},t.prototype.getAncestors=function(){for(var t=this.getParent(),e=new i.Collection;t;)e.push(t),t=t.getParent();return e},t.prototype.getAttrs=function(){return this.attrs||{}},t.prototype.setAttrs=function(t){var e,n;if(!t)return this;for(e in t)"children"!==e&&(n="set"+i.Util._capitalize(e),i.Util._isFunction(this[n])?this[n](t[e]):this._setAttr(e,t[e]));return this},t.prototype.isListening=function(){return this._getCache(f,this._isListening)},t.prototype._isListening=function(){var t=this.listening(),e=this.getParent();return"inherit"===t?!e||e.isListening():t},t.prototype.isVisible=function(){return this._getCache(v,this._isVisible)},t.prototype._isVisible=function(t){var e=this.visible(),n=this.getParent();return"inherit"===e?!n||n===t||n._isVisible(t):e},t.prototype.shouldDrawHit=function(){var t=this.getLayer();return!t&&this.isListening()&&this.isVisible()||t&&t.hitGraphEnabled()&&this.isListening()&&this.isVisible()},t.prototype.show=function(){return this.visible(!0),this},t.prototype.hide=function(){return this.visible(!1),this},t.prototype.getZIndex=function(){return this.index||0},t.prototype.getAbsoluteZIndex=function(){var t,e,n,i,r=this.getDepth(),o=this,a=0;return"Stage"!==o.nodeType&&function s(l){for(t=[],e=l.length,n=0;n<e;n++)i=l[n],a++,i.nodeType!==d&&(t=t.concat(i.getChildren().toArray())),i._id===o._id&&(n=e);t.length>0&&t[0].getDepth()<=r&&s(t)}(o.getStage().getChildren()),a},t.prototype.getDepth=function(){for(var t=0,e=this.parent;e;)t++,e=e.parent;return t},t.prototype.setPosition=function(t){return this.x(t.x),this.y(t.y),this},t.prototype.getPosition=function(){return{x:this.x(),y:this.y()}},t.prototype.getAbsolutePosition=function(t){var e=this.getAbsoluteTransform(t).getMatrix(),n=new i.Transform,r=this.offset();return n.m=e.slice(),n.translate(r.x,r.y),n.getTranslation()},t.prototype.setAbsolutePosition=function(t){var e,n=this._clearTransform();return this.attrs.x=n.x,this.attrs.y=n.y,delete n.x,delete n.y,(e=this.getAbsoluteTransform()).invert(),e.translate(t.x,t.y),t={x:this.attrs.x+e.getTranslation().x,y:this.attrs.y+e.getTranslation().y},this.setPosition({x:t.x,y:t.y}),this._setTransform(n),this},t.prototype._setTransform=function(t){var e;for(e in t)this.attrs[e]=t[e];this._clearCache(p),this._clearSelfAndDescendantCache(u)},t.prototype._clearTransform=function(){var t={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,this._clearCache(p),this._clearSelfAndDescendantCache(u),t},t.prototype.move=function(t){var e=t.x,n=t.y,i=this.x(),r=this.y();return void 0!==e&&(i+=e),void 0!==n&&(r+=n),this.setPosition({x:i,y:r}),this},t.prototype._eachAncestorReverse=function(t,e){var n,i,r=[],o=this.getParent();if(e&&e._id===this._id)t(this);else{for(r.unshift(this);o&&(!e||o._id!==e._id);)r.unshift(o),o=o.parent;for(n=r.length,i=0;i<n;i++)t(r[i])}},t.prototype.rotate=function(t){return this.rotation(this.rotation()+t),this},t.prototype.moveToTop=function(){if(!this.parent)return i.Util.warn("Node has no parent. moveToTop function is ignored."),!1;var t=this.index;return this.parent.children.splice(t,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0},t.prototype.moveUp=function(){if(!this.parent)return i.Util.warn("Node has no parent. moveUp function is ignored."),!1;var t=this.index;return t<this.parent.getChildren().length-1&&(this.parent.children.splice(t,1),this.parent.children.splice(t+1,0,this),this.parent._setChildrenIndices(),!0)},t.prototype.moveDown=function(){if(!this.parent)return i.Util.warn("Node has no parent. moveDown function is ignored."),!1;var t=this.index;return t>0&&(this.parent.children.splice(t,1),this.parent.children.splice(t-1,0,this),this.parent._setChildrenIndices(),!0)},t.prototype.moveToBottom=function(){if(!this.parent)return i.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;var t=this.index;return t>0&&(this.parent.children.splice(t,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0)},t.prototype.setZIndex=function(t){if(!this.parent)return i.Util.warn("Node has no parent. zIndex parameter is ignored."),this;(t<0||t>=this.parent.children.length)&&i.Util.warn("Unexpected value "+t+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");var e=this.index;return this.parent.children.splice(e,1),this.parent.children.splice(t,0,this),this.parent._setChildrenIndices(),this},t.prototype.getAbsoluteOpacity=function(){return this._getCache(c,this._getAbsoluteOpacity)},t.prototype._getAbsoluteOpacity=function(){var t=this.opacity(),e=this.getParent();return e&&!e._isUnderCache&&(t*=e.getAbsoluteOpacity()),t},t.prototype.moveTo=function(t){return this.getParent()!==t&&(this._remove(),t.add(this)),this},t.prototype.toObject=function(){var t,e,n,r,o={},a=this.getAttrs();for(t in o.attrs={},a)e=a[t],i.Util.isObject(e)&&!i.Util._isPlainObject(e)&&!i.Util._isArray(e)||(n="function"==typeof this[t]&&this[t],delete a[t],r=n?n.call(this):null,a[t]=e,r!==e&&(o.attrs[t]=e));return o.className=this.getClassName(),i.Util._prepareToStringify(o)},t.prototype.toJSON=function(){return JSON.stringify(this.toObject())},t.prototype.getParent=function(){return this.parent},t.prototype.findAncestors=function(t,e,n){var i=[];e&&this._isMatch(t)&&i.push(this);for(var r=this.parent;r;){if(r===n)return i;r._isMatch(t)&&i.push(r),r=r.parent}return i},t.prototype.isAncestorOf=function(t){return!1},t.prototype.findAncestor=function(t,e,n){return this.findAncestors(t,e,n)[0]},t.prototype._isMatch=function(t){if(!t)return!1;if("function"==typeof t)return t(this);var e,n,r=t.replace(/ /g,"").split(","),o=r.length;for(e=0;e<o;e++)if(n=r[e],i.Util.isValidSelector(n)||(i.Util.warn('Selector "'+n+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),i.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),i.Util.warn("Konva is awesome, right?")),"#"===n.charAt(0)){if(this.id()===n.slice(1))return!0}else if("."===n.charAt(0)){if(this.hasName(n.slice(1)))return!0}else if(this.className===n||this.nodeType===n)return!0;return!1},t.prototype.getLayer=function(){var t=this.getParent();return t?t.getLayer():null},t.prototype.getStage=function(){return this._getCache("stage",this._getStage)},t.prototype._getStage=function(){var t=this.getParent();return t?t.getStage():void 0},t.prototype.fire=function(t,e,n){return(e=e||{}).target=e.target||this,n?this._fireAndBubble(t,e):this._fire(t,e),this},t.prototype.getAbsoluteTransform=function(t){return t?this._getAbsoluteTransform(t):this._getCache(u,this._getAbsoluteTransform)},t.prototype._getAbsoluteTransform=function(t){var e=new i.Transform;return this._eachAncestorReverse((function(t){var n=t.getTransformsEnabled();"all"===n?e.multiply(t.getTransform()):"position"===n&&e.translate(t.getX()-t.getOffsetX(),t.getY()-t.getOffsetY())}),t),e},t.prototype.getAbsoluteScale=function(t){return t?this._getAbsoluteScale(t):this._getCache(h,this._getAbsoluteScale)},t.prototype._getAbsoluteScale=function(t){for(var e=this;e;)e._isUnderCache&&(t=e),e=e.getParent();var n=1,i=1;return this._eachAncestorReverse((function(t){n*=t.scaleX(),i*=t.scaleY()}),t),{x:n,y:i}},t.prototype.getTransform=function(){return this._getCache(p,this._getTransform)},t.prototype._getTransform=function(){var t=new i.Transform,e=this.x(),n=this.y(),r=a.Konva.getAngle(this.rotation()),o=this.scaleX(),s=this.scaleY(),l=this.skewX(),c=this.skewY(),u=this.offsetX(),h=this.offsetY();return 0===e&&0===n||t.translate(e,n),0!==r&&t.rotate(r),0===l&&0===c||t.skew(l,c),1===o&&1===s||t.scale(o,s),0===u&&0===h||t.translate(-1*u,-1*h),t},t.prototype.clone=function(t){var e,n,r,o,a,s=i.Util.cloneObject(this.attrs);for(var l in g){delete s[g[l]]}for(e in t)s[e]=t[e];var c=new this.constructor(s);for(e in this.eventListeners)for(r=(n=this.eventListeners[e]).length,o=0;o<r;o++)(a=n[o]).name.indexOf("konva")<0&&(c.eventListeners[e]||(c.eventListeners[e]=[]),c.eventListeners[e].push(a));return c},t.prototype._toKonvaCanvas=function(t){t=t||{};var e=this.getClientRect(),n=this.getStage(),i=void 0!==t.x?t.x:e.x,r=void 0!==t.y?t.y:e.y,a=t.pixelRatio||1,s=new o.SceneCanvas({width:t.width||e.width||(n?n.width():0),height:t.height||e.height||(n?n.height():0),pixelRatio:a}),l=s.getContext();return l.save(),(i||r)&&l.translate(-1*i,-1*r),this.drawScene(s),l.restore(),s},t.prototype.toCanvas=function(t){return this._toKonvaCanvas(t)._canvas},t.prototype.toDataURL=function(t){var e=(t=t||{}).mimeType||null,n=t.quality||null,i=this._toKonvaCanvas(t).toDataURL(e,n);return t.callback&&t.callback(i),i},t.prototype.toImage=function(t){if(!t||!t.callback)throw"callback required for toImage method config argument";var e=t.callback;delete t.callback,i.Util._urlToImage(this.toDataURL(t),(function(t){e(t)}))},t.prototype.setSize=function(t){return this.width(t.width),this.height(t.height),this},t.prototype.getSize=function(){return{width:this.width(),height:this.height()}},t.prototype.getClassName=function(){return this.className||this.nodeType},t.prototype.getType=function(){return this.nodeType},t.prototype.getDragDistance=function(){return void 0!==this.attrs.dragDistance?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():a.Konva.dragDistance},t.prototype._off=function(t,e,n){var i,r,o,a=this.eventListeners[t];for(i=0;i<a.length;i++)if(r=a[i].name,o=a[i].handler,!("konva"===r&&"konva"!==e||e&&r!==e||n&&n!==o)){if(a.splice(i,1),0===a.length){delete this.eventListeners[t];break}i--}},t.prototype._fireChangeEvent=function(t,e,n){this._fire(t+"Change",{oldVal:e,newVal:n})},t.prototype.setId=function(t){var n=this.id();return e._removeId(n,this),function(t,n){n&&(e.ids[n]=t)}(this,t),this._setAttr("id",t),this},t.prototype.setName=function(t){var n,i,r=(this.name()||"").split(/\s/g),o=(t||"").split(/\s/g);for(i=0;i<r.length;i++)n=r[i],-1===o.indexOf(n)&&n&&e._removeName(n,this._id);for(i=0;i<o.length;i++)n=o[i],-1===r.indexOf(n)&&n&&e._addName(this,n);return this._setAttr("name",t),this},t.prototype.addName=function(t){if(!this.hasName(t)){var e=this.name(),n=e?e+" "+t:t;this.setName(n)}return this},t.prototype.hasName=function(t){if(!t)return!1;var e=this.name();return!!e&&-1!==(e||"").split(/\s/g).indexOf(t)},t.prototype.removeName=function(t){var e=(this.name()||"").split(/\s/g),n=e.indexOf(t);return-1!==n&&(e.splice(n,1),this.setName(e.join(" "))),this},t.prototype.setAttr=function(t,e){var n=this["set"+i.Util._capitalize(t)];return i.Util._isFunction(n)?n.call(this,e):this._setAttr(t,e),this},t.prototype._setAttr=function(t,e){var n=this.attrs[t];(n!==e||i.Util.isObject(e))&&(null==e?delete this.attrs[t]:this.attrs[t]=e,this._fireChangeEvent(t,n,e))},t.prototype._setComponentAttr=function(t,e,n){var i;void 0!==n&&((i=this.attrs[t])||(this.attrs[t]=this.getAttr(t)),this.attrs[t][e]=n,this._fireChangeEvent(t,i,n))},t.prototype._fireAndBubble=function(t,e,n){if(e&&this.nodeType===d&&(e.target=this),!(("mouseenter"===t||"mouseleave"===t)&&(n&&(this===n||this.isAncestorOf&&this.isAncestorOf(n))||"Stage"===this.nodeType&&!n))){this._fire(t,e);var i=("mouseenter"===t||"mouseleave"===t)&&n&&n.isAncestorOf&&n.isAncestorOf(this)&&!n.isAncestorOf(this.parent);(e&&!e.cancelBubble||!e)&&this.parent&&this.parent.isListening()&&!i&&(n&&n.parent?this._fireAndBubble.call(this.parent,t,e,n.parent):this._fireAndBubble.call(this.parent,t,e))}},t.prototype._fire=function(t,e){var n,i=this.eventListeners[t];if(i)for((e=e||{}).currentTarget=this,e.type=t,n=0;n<i.length;n++)i[n].handler.call(this,e)},t.prototype.draw=function(){return this.drawScene(),this.drawHit(),this},t.prototype._createDragElement=function(t){var e=t?t.pointerId:void 0,n=this.getStage(),i=this.getAbsolutePosition(),r=n._getPointerById(e)||n._changedPointerPositions[0]||i;s.DD._dragElements.set(this._id,{node:this,startPointerPos:r,offset:{x:r.x-i.x,y:r.y-i.y},dragStatus:"ready",pointerId:e})},t.prototype.startDrag=function(t){s.DD._dragElements.has(this._id)||this._createDragElement(t),s.DD._dragElements.get(this._id).dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:t&&t.evt},!0)},t.prototype._setDragPosition=function(t,e){var n=this.getStage()._getPointerById(e.pointerId),i=this.dragBoundFunc();if(n){var r={x:n.x-e.offset.x,y:n.y-e.offset.y};void 0!==i&&(r=i.call(this,r,t)),this._lastPos&&this._lastPos.x===r.x&&this._lastPos.y===r.y||(this.setAbsolutePosition(r),this.getLayer()?this.getLayer().batchDraw():this.getStage()&&this.getStage().batchDraw()),this._lastPos=r}},t.prototype.stopDrag=function(t){var e=s.DD._dragElements.get(this._id);e&&(e.dragStatus="stopped"),s.DD._endDragBefore(t),s.DD._endDragAfter(t)},t.prototype.setDraggable=function(t){this._setAttr("draggable",t),this._dragChange()},t.prototype.isDragging=function(){var t=s.DD._dragElements.get(this._id);return!!t&&"dragging"===t.dragStatus},t.prototype._listenDrag=function(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",(function(t){var e=this;if((!(void 0!==t.evt.button)||a.Konva.dragButtons.indexOf(t.evt.button)>=0)&&!this.isDragging()){var n=!1;s.DD._dragElements.forEach((function(t){e.isAncestorOf(t.node)&&(n=!0)})),n||this._createDragElement(t)}}))},t.prototype._dragChange=function(){this.attrs.draggable?this._listenDrag():(this._dragCleanup(),this.getStage()&&s.DD._dragElements.has(this._id)&&this.stopDrag())},t.prototype._dragCleanup=function(){this.off("mousedown.konva"),this.off("touchstart.konva")},t.create=function(t,e){return i.Util._isString(t)&&(t=JSON.parse(t)),this._createNode(t,e)},t._createNode=function(e,n){var r,o,s,l=t.prototype.getClassName.call(e),c=e.children;if(n&&(e.attrs.container=n),a._NODES_REGISTRY[l]||(i.Util.warn('Can not find a node with class name "'+l+'". Fallback to "Shape".'),l="Shape"),r=new(0,a._NODES_REGISTRY[l])(e.attrs),c)for(o=c.length,s=0;s<o;s++)r.add(t._createNode(c[s]));return r},t}();e.Node=w,w.prototype.nodeType="Node",w.prototype._attrsAffectingSize=[],r.Factory.addGetterSetter(w,"zIndex"),r.Factory.addGetterSetter(w,"absolutePosition"),r.Factory.addGetterSetter(w,"position"),r.Factory.addGetterSetter(w,"x",0,l.getNumberValidator()),r.Factory.addGetterSetter(w,"y",0,l.getNumberValidator()),r.Factory.addGetterSetter(w,"globalCompositeOperation","source-over",l.getStringValidator()),r.Factory.addGetterSetter(w,"opacity",1,l.getNumberValidator()),r.Factory.addGetterSetter(w,"name","",l.getStringValidator()),r.Factory.addGetterSetter(w,"id","",l.getStringValidator()),r.Factory.addGetterSetter(w,"rotation",0,l.getNumberValidator()),r.Factory.addComponentsGetterSetter(w,"scale",["x","y"]),r.Factory.addGetterSetter(w,"scaleX",1,l.getNumberValidator()),r.Factory.addGetterSetter(w,"scaleY",1,l.getNumberValidator()),r.Factory.addComponentsGetterSetter(w,"skew",["x","y"]),r.Factory.addGetterSetter(w,"skewX",0,l.getNumberValidator()),r.Factory.addGetterSetter(w,"skewY",0,l.getNumberValidator()),r.Factory.addComponentsGetterSetter(w,"offset",["x","y"]),r.Factory.addGetterSetter(w,"offsetX",0,l.getNumberValidator()),r.Factory.addGetterSetter(w,"offsetY",0,l.getNumberValidator()),r.Factory.addGetterSetter(w,"dragDistance",null,l.getNumberValidator()),r.Factory.addGetterSetter(w,"width",0,l.getNumberValidator()),r.Factory.addGetterSetter(w,"height",0,l.getNumberValidator()),r.Factory.addGetterSetter(w,"listening","inherit",(function(t){return!0===t||!1===t||"inherit"===t||i.Util.warn(t+' is a not valid value for "listening" attribute. The value may be true, false or "inherit".'),t})),r.Factory.addGetterSetter(w,"preventDefault",!0,l.getBooleanValidator()),r.Factory.addGetterSetter(w,"filters",null,(function(t){return this._filterUpToDate=!1,t})),r.Factory.addGetterSetter(w,"visible","inherit",(function(t){return!0===t||!1===t||"inherit"===t||i.Util.warn(t+' is a not valid value for "visible" attribute. The value may be true, false or "inherit".'),t})),r.Factory.addGetterSetter(w,"transformsEnabled","all",l.getStringValidator()),r.Factory.addGetterSetter(w,"size"),r.Factory.addGetterSetter(w,"dragBoundFunc"),r.Factory.addGetterSetter(w,"draggable",!1,l.getBooleanValidator()),r.Factory.backCompat(w,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"}),i.Collection.mapMethods(w)},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o,a=n(3),s=n(0),l=n(4),c=n(2),u=n(1),h=n(13),f="hasShadow",d="shadowRGBA",p="patternImage",v="linearGradient",g="radialGradient";function y(){return o||(o=a.Util.createCanvasElement().getContext("2d"))}function m(){this._clearCache(f)}function b(){this._clearCache(d)}function _(){this._clearCache(p)}function w(){this._clearCache(v)}function x(){this._clearCache(g)}e.shapes={};var k=function(t){function n(n){for(var i,r=t.call(this,n)||this;!(i=a.Util.getRandomColor())||i in e.shapes;);return r.colorKey=i,e.shapes[i]=r,r.on("shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",m),r.on("shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",b),r.on("fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva",_),r.on("fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",w),r.on("fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",x),r}return r(n,t),n.prototype.getContext=function(){return this.getLayer().getContext()},n.prototype.getCanvas=function(){return this.getLayer().getCanvas()},n.prototype.getSceneFunc=function(){return this.attrs.sceneFunc||this._sceneFunc},n.prototype.getHitFunc=function(){return this.attrs.hitFunc||this._hitFunc},n.prototype.hasShadow=function(){return this._getCache(f,this._hasShadow)},n.prototype._hasShadow=function(){return this.shadowEnabled()&&0!==this.shadowOpacity()&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())},n.prototype._getFillPattern=function(){return this._getCache(p,this.__getFillPattern)},n.prototype.__getFillPattern=function(){if(this.fillPatternImage())return y().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat")},n.prototype._getLinearGradient=function(){return this._getCache(v,this.__getLinearGradient)},n.prototype.__getLinearGradient=function(){var t=this.fillLinearGradientColorStops();if(t){for(var e=y(),n=this.fillLinearGradientStartPoint(),i=this.fillLinearGradientEndPoint(),r=e.createLinearGradient(n.x,n.y,i.x,i.y),o=0;o<t.length;o+=2)r.addColorStop(t[o],t[o+1]);return r}},n.prototype._getRadialGradient=function(){return this._getCache(g,this.__getRadialGradient)},n.prototype.__getRadialGradient=function(){var t=this.fillRadialGradientColorStops();if(t){for(var e=y(),n=this.fillRadialGradientStartPoint(),i=this.fillRadialGradientEndPoint(),r=e.createRadialGradient(n.x,n.y,this.fillRadialGradientStartRadius(),i.x,i.y,this.fillRadialGradientEndRadius()),o=0;o<t.length;o+=2)r.addColorStop(t[o],t[o+1]);return r}},n.prototype.getShadowRGBA=function(){return this._getCache(d,this._getShadowRGBA)},n.prototype._getShadowRGBA=function(){if(this.hasShadow()){var t=a.Util.colorToRGBA(this.shadowColor());return"rgba("+t.r+","+t.g+","+t.b+","+t.a*(this.shadowOpacity()||1)+")"}},n.prototype.hasFill=function(){return!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops())},n.prototype.hasStroke=function(){return this.strokeEnabled()&&this.strokeWidth()&&!(!this.stroke()&&!this.strokeLinearGradientColorStops())},n.prototype.intersects=function(t){var e=this.getStage().bufferHitCanvas;return e.getContext().clear(),this.drawHit(e),e.context.getImageData(Math.round(t.x),Math.round(t.y),1,1).data[3]>0},n.prototype.destroy=function(){return l.Node.prototype.destroy.call(this),delete e.shapes[this.colorKey],delete this.colorKey,this},n.prototype._useBufferCanvas=function(t){return!(t&&!this.hasShadow()||!this.perfectDrawEnabled()||1===this.getAbsoluteOpacity()||!this.hasFill()||!this.hasStroke()||!this.getStage())},n.prototype.setStrokeHitEnabled=function(t){t?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)},n.prototype.getStrokeHitEnabled=function(){return 0!==this.hitStrokeWidth()},n.prototype.getSelfRect=function(){var t=this.size();return{x:this._centroid?Math.round(-t.width/2):0,y:this._centroid?Math.round(-t.height/2):0,width:t.width,height:t.height}},n.prototype.getClientRect=function(t){var e=(t=t||{}).skipTransform,n=t.relativeTo,i=this.getSelfRect(),r=!t.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,o=i.width+r,a=i.height+r,s=!t.skipShadow&&this.hasShadow(),l=s?this.shadowOffsetX():0,c=s?this.shadowOffsetY():0,u=o+Math.abs(l),h=a+Math.abs(c),f=s&&this.shadowBlur()||0,d=u+2*f,p=h+2*f,v=0;Math.round(r/2)!==r/2&&(v=1);var g={width:d+v,height:p+v,x:-Math.round(r/2+f)+Math.min(l,0)+i.x,y:-Math.round(r/2+f)+Math.min(c,0)+i.y};return e?g:this._transformedRect(g,n)},n.prototype.drawScene=function(t,e,n,i){var r,o,a=this.getLayer(),s=t||a.getCanvas(),l=s.getContext(),c=this._getCanvasCache(),u=this.sceneFunc(),h=this.hasShadow(),f=this.hasStroke();if(!this.isVisible()&&!n)return this;if(c)return l.save(),a._applyTransform(this,l,e),this._drawCachedSceneCanvas(l),l.restore(),this;if(!u)return this;if(l.save(),this._useBufferCanvas(n)&&!i){if((o=(r=this.getStage().bufferCanvas).getContext()).clear(),o.save(),o._applyLineJoin(this),!n)if(a)a._applyTransform(this,o,e);else{var d=this.getAbsoluteTransform(e).getMatrix();l.transform(d[0],d[1],d[2],d[3],d[4],d[5])}u.call(this,o,this),o.restore();var p=r.pixelRatio;h&&!s.hitCanvas?(l.save(),l._applyShadow(this),l._applyOpacity(this),l._applyGlobalCompositeOperation(this),l.drawImage(r._canvas,0,0,r.width/p,r.height/p),l.restore()):(l._applyOpacity(this),l._applyGlobalCompositeOperation(this),l.drawImage(r._canvas,0,0,r.width/p,r.height/p))}else{if(l._applyLineJoin(this),!n)if(a)a._applyTransform(this,l,e);else{var v=this.getAbsoluteTransform(e).getMatrix();l.transform(v[0],v[1],v[2],v[3],v[4],v[5])}h&&f&&!s.hitCanvas?(l.save(),n||(l._applyOpacity(this),l._applyGlobalCompositeOperation(this)),l._applyShadow(this),u.call(this,l,this),l.restore(),this.hasFill()&&this.shadowForStrokeEnabled()&&u.call(this,l,this)):h&&!s.hitCanvas?(l.save(),n||(l._applyOpacity(this),l._applyGlobalCompositeOperation(this)),l._applyShadow(this),u.call(this,l,this),l.restore()):(n||(l._applyOpacity(this),l._applyGlobalCompositeOperation(this)),u.call(this,l,this))}return l.restore(),this},n.prototype.drawHit=function(t,e,n){var i=this.getLayer(),r=t||i.hitCanvas,o=r&&r.getContext(),s=this.hitFunc()||this.sceneFunc(),l=this._getCanvasCache(),c=l&&l.hit;if(this.colorKey||(console.log(this),a.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. See the shape in logs above. If you want to reuse shape you should call remove() instead of destroy()")),!this.shouldDrawHit()&&!n)return this;if(c)return o.save(),i._applyTransform(this,o,e),this._drawCachedHitCanvas(o),o.restore(),this;if(!s)return this;if(o.save(),o._applyLineJoin(this),!n)if(i)i._applyTransform(this,o,e);else{var u=this.getAbsoluteTransform(e).getMatrix();o.transform(u[0],u[1],u[2],u[3],u[4],u[5])}return s.call(this,o,this),o.restore(),this},n.prototype.drawHitFromCache=function(t){void 0===t&&(t=0);var e,n,i,r,o,s=this._getCanvasCache(),l=this._getCachedSceneCanvas(),c=s.hit,u=c.getContext(),h=c.getWidth(),f=c.getHeight();u.clear(),u.drawImage(l._canvas,0,0,h,f);try{for(i=(n=(e=u.getImageData(0,0,h,f)).data).length,r=a.Util._hexToRgb(this.colorKey),o=0;o<i;o+=4)n[o+3]>t?(n[o]=r.r,n[o+1]=r.g,n[o+2]=r.b,n[o+3]=255):n[o+3]=0;u.putImageData(e,0,0)}catch(t){a.Util.error("Unable to draw hit graph from cached scene canvas. "+t.message)}return this},n.prototype.hasPointerCapture=function(t){return h.hasPointerCapture(t,this)},n.prototype.setPointerCapture=function(t){h.setPointerCapture(t,this)},n.prototype.releaseCapture=function(t){h.releaseCapture(t,this)},n}(l.Node);e.Shape=k,k.prototype._fillFunc=function(t){t.fill()},k.prototype._strokeFunc=function(t){t.stroke()},k.prototype._fillFuncHit=function(t){t.fill()},k.prototype._strokeFuncHit=function(t){t.stroke()},k.prototype._centroid=!1,k.prototype.nodeType="Shape",u._registerNode(k),s.Factory.addGetterSetter(k,"stroke",void 0,c.getStringValidator()),s.Factory.addGetterSetter(k,"strokeWidth",2,c.getNumberValidator()),s.Factory.addGetterSetter(k,"hitStrokeWidth","auto",c.getNumberOrAutoValidator()),s.Factory.addGetterSetter(k,"strokeHitEnabled",!0,c.getBooleanValidator()),s.Factory.addGetterSetter(k,"perfectDrawEnabled",!0,c.getBooleanValidator()),s.Factory.addGetterSetter(k,"shadowForStrokeEnabled",!0,c.getBooleanValidator()),s.Factory.addGetterSetter(k,"lineJoin"),s.Factory.addGetterSetter(k,"lineCap"),s.Factory.addGetterSetter(k,"sceneFunc"),s.Factory.addGetterSetter(k,"hitFunc"),s.Factory.addGetterSetter(k,"dash"),s.Factory.addGetterSetter(k,"dashOffset",0,c.getNumberValidator()),s.Factory.addGetterSetter(k,"shadowColor",void 0,c.getStringValidator()),s.Factory.addGetterSetter(k,"shadowBlur",0,c.getNumberValidator()),s.Factory.addGetterSetter(k,"shadowOpacity",1,c.getNumberValidator()),s.Factory.addComponentsGetterSetter(k,"shadowOffset",["x","y"]),s.Factory.addGetterSetter(k,"shadowOffsetX",0,c.getNumberValidator()),s.Factory.addGetterSetter(k,"shadowOffsetY",0,c.getNumberValidator()),s.Factory.addGetterSetter(k,"fillPatternImage"),s.Factory.addGetterSetter(k,"fill",void 0,c.getStringValidator()),s.Factory.addGetterSetter(k,"fillPatternX",0,c.getNumberValidator()),s.Factory.addGetterSetter(k,"fillPatternY",0,c.getNumberValidator()),s.Factory.addGetterSetter(k,"fillLinearGradientColorStops"),s.Factory.addGetterSetter(k,"strokeLinearGradientColorStops"),s.Factory.addGetterSetter(k,"fillRadialGradientStartRadius",0),s.Factory.addGetterSetter(k,"fillRadialGradientEndRadius",0),s.Factory.addGetterSetter(k,"fillRadialGradientColorStops"),s.Factory.addGetterSetter(k,"fillPatternRepeat","repeat"),s.Factory.addGetterSetter(k,"fillEnabled",!0),s.Factory.addGetterSetter(k,"strokeEnabled",!0),s.Factory.addGetterSetter(k,"shadowEnabled",!0),s.Factory.addGetterSetter(k,"dashEnabled",!0),s.Factory.addGetterSetter(k,"strokeScaleEnabled",!0),s.Factory.addGetterSetter(k,"fillPriority","color"),s.Factory.addComponentsGetterSetter(k,"fillPatternOffset",["x","y"]),s.Factory.addGetterSetter(k,"fillPatternOffsetX",0,c.getNumberValidator()),s.Factory.addGetterSetter(k,"fillPatternOffsetY",0,c.getNumberValidator()),s.Factory.addComponentsGetterSetter(k,"fillPatternScale",["x","y"]),s.Factory.addGetterSetter(k,"fillPatternScaleX",1,c.getNumberValidator()),s.Factory.addGetterSetter(k,"fillPatternScaleY",1,c.getNumberValidator()),s.Factory.addComponentsGetterSetter(k,"fillLinearGradientStartPoint",["x","y"]),s.Factory.addComponentsGetterSetter(k,"strokeLinearGradientStartPoint",["x","y"]),s.Factory.addGetterSetter(k,"fillLinearGradientStartPointX",0),s.Factory.addGetterSetter(k,"strokeLinearGradientStartPointX",0),s.Factory.addGetterSetter(k,"fillLinearGradientStartPointY",0),s.Factory.addGetterSetter(k,"strokeLinearGradientStartPointY",0),s.Factory.addComponentsGetterSetter(k,"fillLinearGradientEndPoint",["x","y"]),s.Factory.addComponentsGetterSetter(k,"strokeLinearGradientEndPoint",["x","y"]),s.Factory.addGetterSetter(k,"fillLinearGradientEndPointX",0),s.Factory.addGetterSetter(k,"strokeLinearGradientEndPointX",0),s.Factory.addGetterSetter(k,"fillLinearGradientEndPointY",0),s.Factory.addGetterSetter(k,"strokeLinearGradientEndPointY",0),s.Factory.addComponentsGetterSetter(k,"fillRadialGradientStartPoint",["x","y"]),s.Factory.addGetterSetter(k,"fillRadialGradientStartPointX",0),s.Factory.addGetterSetter(k,"fillRadialGradientStartPointY",0),s.Factory.addComponentsGetterSetter(k,"fillRadialGradientEndPoint",["x","y"]),s.Factory.addGetterSetter(k,"fillRadialGradientEndPointX",0),s.Factory.addGetterSetter(k,"fillRadialGradientEndPointY",0),s.Factory.addGetterSetter(k,"fillPatternRotation",0),s.Factory.backCompat(k,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"}),a.Collection.mapMethods(k)},function(t,e,n){var i=n(20).Konva;i._injectGlobal(i),e.default=i,t.exports=e.default},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(3),a=n(0),s=n(4),l=n(9),c=n(2),u=n(1),h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.children=new o.Collection,e}return r(e,t),e.prototype.getChildren=function(t){if(!t)return this.children;var e=new o.Collection;return this.children.each((function(n){t(n)&&e.push(n)})),e},e.prototype.hasChildren=function(){return this.getChildren().length>0},e.prototype.removeChildren=function(){for(var t,e=0;e<this.children.length;e++)(t=this.children[e]).parent=null,t.index=0,t.remove();return this.children=new o.Collection,this},e.prototype.destroyChildren=function(){for(var t,e=0;e<this.children.length;e++)(t=this.children[e]).parent=null,t.index=0,t.destroy();return this.children=new o.Collection,this},e.prototype.add=function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.add(arguments[e]);return this}if(t.getParent())return t.moveTo(this),this;var n=this.children;return this._validateAdd(t),t.index=n.length,t.parent=this,n.push(t),this._fire("add",{child:t}),this},e.prototype.destroy=function(){return this.hasChildren()&&this.destroyChildren(),t.prototype.destroy.call(this),this},e.prototype.find=function(t){return this._generalFind(t,!1)},e.prototype.get=function(t){return o.Util.warn("collection.get() method is deprecated. Please use collection.find() instead."),this.find(t)},e.prototype.findOne=function(t){var e=this._generalFind(t,!0);return e.length>0?e[0]:void 0},e.prototype._generalFind=function(t,e){var n=[];return this._descendants((function(i){var r=i._isMatch(t);return r&&n.push(i),!(!r||!e)})),o.Collection.toCollection(n)},e.prototype._descendants=function(t){for(var e=0;e<this.children.length;e++){var n=this.children[e];if(t(n))return!0;if(n.hasChildren()&&n._descendants(t))return!0}return!1},e.prototype.toObject=function(){var t=s.Node.prototype.toObject.call(this);t.children=[];for(var e=this.getChildren(),n=e.length,i=0;i<n;i++){var r=e[i];t.children.push(r.toObject())}return t},e.prototype._getDescendants=function(t){for(var e=[],n=t.length,i=0;i<n;i++){var r=t[i];this.isAncestorOf(r)&&e.push(r)}return e},e.prototype.isAncestorOf=function(t){for(var e=t.getParent();e;){if(e._id===this._id)return!0;e=e.getParent()}return!1},e.prototype.clone=function(t){var e=s.Node.prototype.clone.call(this,t);return this.getChildren().each((function(t){e.add(t.clone())})),e},e.prototype.getAllIntersections=function(t){var e=[];return this.find("Shape").each((function(n){n.isVisible()&&n.intersects(t)&&e.push(n)})),e},e.prototype._setChildrenIndices=function(){this.children.each((function(t,e){t.index=e}))},e.prototype.drawScene=function(t,e,n){var i=this.getLayer(),r=t||i&&i.getCanvas(),o=r&&r.getContext(),a=this._getCanvasCache(),s=a&&a.scene;return(this.isVisible()||n)&&(!n&&s?(o.save(),i._applyTransform(this,o,e),this._drawCachedSceneCanvas(o),o.restore()):this._drawChildren(r,"drawScene",e,!1,n,n)),this},e.prototype.drawHit=function(t,e,n){var i=this.getLayer(),r=t||i&&i.hitCanvas,o=r&&r.getContext(),a=this._getCanvasCache(),s=a&&a.hit;return(this.shouldDrawHit(r)||n)&&(!n&&s?(o.save(),i._applyTransform(this,o,e),this._drawCachedHitCanvas(o),o.restore()):this._drawChildren(r,"drawHit",e,!1,n,n)),this},e.prototype._drawChildren=function(t,e,n,i,r,o){var a,s,l=this.getLayer(),c=t&&t.getContext(),u=this.clipWidth(),h=this.clipHeight(),f=this.clipFunc(),d=u&&h||f;if(d&&l){c.save();var p=this.getAbsoluteTransform(n),v=p.getMatrix();c.transform(v[0],v[1],v[2],v[3],v[4],v[5]),c.beginPath(),f?f.call(this,c,this):(a=this.clipX(),s=this.clipY(),c.rect(a,s,u,h)),c.clip(),v=p.copy().invert().getMatrix(),c.transform(v[0],v[1],v[2],v[3],v[4],v[5])}var g="source-over"!==this.globalCompositeOperation()&&!o;g&&l&&(c.save(),c._applyGlobalCompositeOperation(this)),this.children.each((function(o){o[e](t,n,i,r)})),g&&l&&c.restore(),d&&l&&c.restore()},e.prototype.shouldDrawHit=function(t){if(t&&t.isCache)return!0;var e=this.getLayer(),n=!1;l.DD._dragElements.forEach((function(t){"dragging"===t.dragStatus&&t.node.getLayer()===e&&(n=!0)}));var i=!u.Konva.hitOnDragEnabled&&n;return e&&e.hitGraphEnabled()&&this.isVisible()&&!i},e.prototype.getClientRect=function(t){var e,n,i,r,o=(t=t||{}).skipTransform,a=t.relativeTo,s={x:1/0,y:1/0,width:0,height:0},l=this;this.children.each((function(o){if(o.visible()){var a=o.getClientRect({relativeTo:l,skipShadow:t.skipShadow,skipStroke:t.skipStroke});0===a.width&&0===a.height||(void 0===e?(e=a.x,n=a.y,i=a.x+a.width,r=a.y+a.height):(e=Math.min(e,a.x),n=Math.min(n,a.y),i=Math.max(i,a.x+a.width),r=Math.max(r,a.y+a.height)))}}));for(var c=this.find("Shape"),u=!1,h=0;h<c.length;h++){if(c[h]._isVisible(this)){u=!0;break}}return s=u?{x:e,y:n,width:i-e,height:r-n}:{x:0,y:0,width:0,height:0},o?s:this._transformedRect(s,a)},e}(s.Node);e.Container=h,a.Factory.addComponentsGetterSetter(h,"clip",["x","y","width","height"]),a.Factory.addGetterSetter(h,"clipX",void 0,c.getNumberValidator()),a.Factory.addGetterSetter(h,"clipY",void 0,c.getNumberValidator()),a.Factory.addGetterSetter(h,"clipWidth",void 0,c.getNumberValidator()),a.Factory.addGetterSetter(h,"clipHeight",void 0,c.getNumberValidator()),a.Factory.addGetterSetter(h,"clipFunc"),o.Collection.mapMethods(h)},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o,a=n(3),s=n(12),l=n(1),c=n(0),u=n(2);var h=function(){function t(t){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;var e=(t||{}).pixelRatio||l.Konva.pixelRatio||function(){if(o)return o;var t=a.Util.createCanvasElement().getContext("2d");return o=(l.Konva._global.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)}();this.pixelRatio=e,this._canvas=a.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}return t.prototype.getContext=function(){return this.context},t.prototype.getPixelRatio=function(){return this.pixelRatio},t.prototype.setPixelRatio=function(t){var e=this.pixelRatio;this.pixelRatio=t,this.setSize(this.getWidth()/e,this.getHeight()/e)},t.prototype.setWidth=function(t){this.width=this._canvas.width=t*this.pixelRatio,this._canvas.style.width=t+"px";var e=this.pixelRatio;this.getContext()._context.scale(e,e)},t.prototype.setHeight=function(t){this.height=this._canvas.height=t*this.pixelRatio,this._canvas.style.height=t+"px";var e=this.pixelRatio;this.getContext()._context.scale(e,e)},t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.setSize=function(t,e){this.setWidth(t),this.setHeight(e)},t.prototype.toDataURL=function(t,e){try{return this._canvas.toDataURL(t,e)}catch(t){try{return this._canvas.toDataURL()}catch(t){return a.Util.error("Unable to get data URL. "+t.message),""}}},t}();e.Canvas=h,c.Factory.addGetterSetter(h,"pixelRatio",void 0,u.getNumberValidator());var f=function(t){function e(e){void 0===e&&(e={width:0,height:0});var n=t.call(this,e)||this;return n.context=new s.SceneContext(n),n.setSize(e.width,e.height),n}return r(e,t),e}(h);e.SceneCanvas=f;var d=function(t){function e(e){void 0===e&&(e={width:0,height:0});var n=t.call(this,e)||this;return n.hitCanvas=!0,n.context=new s.HitContext(n),n.setSize(e.width,e.height),n}return r(e,t),e}(h);e.HitCanvas=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),r=n(3);e.DD={get isDragging(){var t=!1;return e.DD._dragElements.forEach((function(e){"dragging"===e.dragStatus&&(t=!0)})),t},justDragged:!1,get node(){var t;return e.DD._dragElements.forEach((function(e){t=e.node})),t},_dragElements:new Map,_drag:function(t){e.DD._dragElements.forEach((function(e,n){var i=e.node,o=i.getStage();o.setPointersPositions(t),void 0===e.pointerId&&(e.pointerId=r.Util._getFirstPointerId(t));var a=o._changedPointerPositions.find((function(t){return t.id===e.pointerId}));if(a){if("dragging"!==e.dragStatus){var s=i.dragDistance();if(Math.max(Math.abs(a.x-e.startPointerPos.x),Math.abs(a.y-e.startPointerPos.y))<s)return;if(i.startDrag({evt:t}),!i.isDragging())return}i._setDragPosition(t,e),i.fire("dragmove",{type:"dragmove",target:i,evt:t},!0)}}))},_endDragBefore:function(t){e.DD._dragElements.forEach((function(n,r){var o=n.node.getStage();if(t&&o.setPointersPositions(t),o._changedPointerPositions.find((function(t){return t.id===n.pointerId}))){"dragging"===n.dragStatus&&(e.DD.justDragged=!0,i.Konva.listenClickTap=!1,n.dragStatus="stopped");var a=n.node.getLayer()||n.node instanceof i.Konva.Stage&&n.node;a&&a.draw()}}))},_endDragAfter:function(t){e.DD._dragElements.forEach((function(n,i){"stopped"===n.dragStatus&&n.node.fire("dragend",{type:"dragend",target:n.node,evt:t},!0),"dragging"!==n.dragStatus&&e.DD._dragElements.delete(i)}))}},i.Konva.isBrowser&&(window.addEventListener("mouseup",e.DD._endDragBefore,!0),window.addEventListener("touchend",e.DD._endDragBefore,!0),window.addEventListener("mousemove",e.DD._drag),window.addEventListener("touchmove",e.DD._drag),window.addEventListener("mouseup",e.DD._endDragAfter,!1),window.addEventListener("touchend",e.DD._endDragAfter,!1))},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(3),a=n(7),s=n(1),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype._validateAdd=function(t){var e=t.getType();"Group"!==e&&"Shape"!==e&&o.Util.throw("You may only add groups and shapes to groups.")},e}(a.Container);e.Group=l,l.prototype.nodeType="Group",s._registerNode(l),o.Collection.mapMethods(l)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),r=i.glob.performance&&i.glob.performance.now?function(){return i.glob.performance.now()}:function(){return(new Date).getTime()},o=function(){function t(e,n){this.id=t.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:r(),frameRate:0},this.func=e,this.setLayers(n)}return t.prototype.setLayers=function(t){var e=[];return e=t?t.length>0?t:[t]:[],this.layers=e,this},t.prototype.getLayers=function(){return this.layers},t.prototype.addLayer=function(t){var e,n=this.layers,i=n.length;for(e=0;e<i;e++)if(n[e]._id===t._id)return!1;return this.layers.push(t),!0},t.prototype.isRunning=function(){var e,n=t.animations,i=n.length;for(e=0;e<i;e++)if(n[e].id===this.id)return!0;return!1},t.prototype.start=function(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=r(),t._addAnimation(this),this},t.prototype.stop=function(){return t._removeAnimation(this),this},t.prototype._updateFrameObject=function(t){this.frame.timeDiff=t-this.frame.lastTime,this.frame.lastTime=t,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff},t._addAnimation=function(t){this.animations.push(t),this._handleAnimation()},t._removeAnimation=function(t){var e,n=t.id,i=this.animations,r=i.length;for(e=0;e<r;e++)if(i[e].id===n){this.animations.splice(e,1);break}},t._runFrames=function(){var t,e,n,i,o,a,s,l,c={},u=this.animations;for(i=0;i<u.length;i++)if(e=(t=u[i]).layers,n=t.func,t._updateFrameObject(r()),a=e.length,!n||!1!==n.call(t,t.frame))for(o=0;o<a;o++)void 0!==(s=e[o])._id&&(c[s._id]=s);for(l in c)c.hasOwnProperty(l)&&c[l].draw()},t._animationLoop=function(){var e=t;e.animations.length?(e._runFrames(),requestAnimationFrame(e._animationLoop)):e.animRunning=!1},t._handleAnimation=function(){this.animRunning||(this.animRunning=!0,requestAnimationFrame(this._animationLoop))},t.animations=[],t.animIdCounter=0,t.animRunning=!1,t}();e.Animation=o},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(3),a=n(1),s=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],l=function(){function t(t){this.canvas=t,this._context=t._canvas.getContext("2d"),a.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}return t.prototype.fillShape=function(t){t.getFillEnabled()&&this._fill(t)},t.prototype._fill=function(t){},t.prototype.strokeShape=function(t){t.getStrokeEnabled()&&this._stroke(t)},t.prototype._stroke=function(t){},t.prototype.fillStrokeShape=function(t){t.getFillEnabled()&&this._fill(t),t.getStrokeEnabled()&&this._stroke(t)},t.prototype.getTrace=function(t){var e,n,i,r,a=this.traceArr,s=a.length,l="";for(e=0;e<s;e++)(i=(n=a[e]).method)?(r=n.args,l+=i,t?l+="()":o.Util._isArray(r[0])?l+="(["+r.join(",")+"])":l+="("+r.join(",")+")"):(l+=n.property,t||(l+="="+n.val)),l+=";";return l},t.prototype.clearTrace=function(){this.traceArr=[]},t.prototype._trace=function(t){var e=this.traceArr;e.push(t),e.length>=100&&e.shift()},t.prototype.reset=function(){var t=this.getCanvas().getPixelRatio();this.setTransform(1*t,0,0,1*t,0,0)},t.prototype.getCanvas=function(){return this.canvas},t.prototype.clear=function(t){var e=this.getCanvas();t?this.clearRect(t.x||0,t.y||0,t.width||0,t.height||0):this.clearRect(0,0,e.getWidth()/e.pixelRatio,e.getHeight()/e.pixelRatio)},t.prototype._applyLineCap=function(t){var e=t.getLineCap();e&&this.setAttr("lineCap",e)},t.prototype._applyOpacity=function(t){var e=t.getAbsoluteOpacity();1!==e&&this.setAttr("globalAlpha",e)},t.prototype._applyLineJoin=function(t){var e=t.getLineJoin();e&&this.setAttr("lineJoin",e)},t.prototype.setAttr=function(t,e){this._context[t]=e},t.prototype.arc=function(t,e,n,i,r,o){this._context.arc(t,e,n,i,r,o)},t.prototype.arcTo=function(t,e,n,i,r){this._context.arcTo(t,e,n,i,r)},t.prototype.beginPath=function(){this._context.beginPath()},t.prototype.bezierCurveTo=function(t,e,n,i,r,o){this._context.bezierCurveTo(t,e,n,i,r,o)},t.prototype.clearRect=function(t,e,n,i){this._context.clearRect(t,e,n,i)},t.prototype.clip=function(){this._context.clip()},t.prototype.closePath=function(){this._context.closePath()},t.prototype.createImageData=function(t,e){var n=arguments;return 2===n.length?this._context.createImageData(t,e):1===n.length?this._context.createImageData(t):void 0},t.prototype.createLinearGradient=function(t,e,n,i){return this._context.createLinearGradient(t,e,n,i)},t.prototype.createPattern=function(t,e){return this._context.createPattern(t,e)},t.prototype.createRadialGradient=function(t,e,n,i,r,o){return this._context.createRadialGradient(t,e,n,i,r,o)},t.prototype.drawImage=function(t,e,n,i,r,o,a,s,l){var c=arguments,u=this._context;3===c.length?u.drawImage(t,e,n):5===c.length?u.drawImage(t,e,n,i,r):9===c.length&&u.drawImage(t,e,n,i,r,o,a,s,l)},t.prototype.ellipse=function(t,e,n,i,r,o,a,s){this._context.ellipse(t,e,n,i,r,o,a,s)},t.prototype.isPointInPath=function(t,e){return this._context.isPointInPath(t,e)},t.prototype.fill=function(){this._context.fill()},t.prototype.fillRect=function(t,e,n,i){this._context.fillRect(t,e,n,i)},t.prototype.strokeRect=function(t,e,n,i){this._context.strokeRect(t,e,n,i)},t.prototype.fillText=function(t,e,n){this._context.fillText(t,e,n)},t.prototype.measureText=function(t){return this._context.measureText(t)},t.prototype.getImageData=function(t,e,n,i){return this._context.getImageData(t,e,n,i)},t.prototype.lineTo=function(t,e){this._context.lineTo(t,e)},t.prototype.moveTo=function(t,e){this._context.moveTo(t,e)},t.prototype.rect=function(t,e,n,i){this._context.rect(t,e,n,i)},t.prototype.putImageData=function(t,e,n){this._context.putImageData(t,e,n)},t.prototype.quadraticCurveTo=function(t,e,n,i){this._context.quadraticCurveTo(t,e,n,i)},t.prototype.restore=function(){this._context.restore()},t.prototype.rotate=function(t){this._context.rotate(t)},t.prototype.save=function(){this._context.save()},t.prototype.scale=function(t,e){this._context.scale(t,e)},t.prototype.setLineDash=function(t){this._context.setLineDash?this._context.setLineDash(t):"mozDash"in this._context?this._context.mozDash=t:"webkitLineDash"in this._context&&(this._context.webkitLineDash=t)},t.prototype.getLineDash=function(){return this._context.getLineDash()},t.prototype.setTransform=function(t,e,n,i,r,o){this._context.setTransform(t,e,n,i,r,o)},t.prototype.stroke=function(){this._context.stroke()},t.prototype.strokeText=function(t,e,n,i){this._context.strokeText(t,e,n,i)},t.prototype.transform=function(t,e,n,i,r,o){this._context.transform(t,e,n,i,r,o)},t.prototype.translate=function(t,e){this._context.translate(t,e)},t.prototype._enableTrace=function(){var t,e,n=this,i=s.length,r=o.Util._simplifyArray,a=this.setAttr,l=function(t){var i,o=n[t];n[t]=function(){return e=r(Array.prototype.slice.call(arguments,0)),i=o.apply(n,arguments),n._trace({method:t,args:e}),i}};for(t=0;t<i;t++)l(s[t]);n.setAttr=function(){a.apply(n,arguments);var t=arguments[0],e=arguments[1];"shadowOffsetX"!==t&&"shadowOffsetY"!==t&&"shadowBlur"!==t||(e/=this.canvas.getPixelRatio()),n._trace({property:t,val:e})}},t.prototype._applyGlobalCompositeOperation=function(t){var e=t.getGlobalCompositeOperation();"source-over"!==e&&this.setAttr("globalCompositeOperation",e)},t}();e.Context=l,["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"].forEach((function(t){Object.defineProperty(l.prototype,t,{get:function(){return this._context[t]},set:function(e){this._context[t]=e}})}));var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype._fillColor=function(t){var e=t.fill();this.setAttr("fillStyle",e),t._fillFunc(this)},e.prototype._fillPattern=function(t){var e=t.getFillPatternX(),n=t.getFillPatternY(),i=a.Konva.getAngle(t.getFillPatternRotation()),r=t.getFillPatternOffsetX(),o=t.getFillPatternOffsetY(),s=t.getFillPatternScaleX(),l=t.getFillPatternScaleY();(e||n)&&this.translate(e||0,n||0),i&&this.rotate(i),(s||l)&&this.scale(s,l),(r||o)&&this.translate(-1*r,-1*o),this.setAttr("fillStyle",t._getFillPattern()),t._fillFunc(this)},e.prototype._fillLinearGradient=function(t){var e=t._getLinearGradient();e&&(this.setAttr("fillStyle",e),t._fillFunc(this))},e.prototype._fillRadialGradient=function(t){var e=t._getRadialGradient();e&&(this.setAttr("fillStyle",e),t._fillFunc(this))},e.prototype._fill=function(t){var e=t.fill(),n=t.getFillPriority();if(e&&"color"===n)this._fillColor(t);else{var i=t.getFillPatternImage();if(i&&"pattern"===n)this._fillPattern(t);else{var r=t.getFillLinearGradientColorStops();if(r&&"linear-gradient"===n)this._fillLinearGradient(t);else{var o=t.getFillRadialGradientColorStops();o&&"radial-gradient"===n?this._fillRadialGradient(t):e?this._fillColor(t):i?this._fillPattern(t):r?this._fillLinearGradient(t):o&&this._fillRadialGradient(t)}}}},e.prototype._strokeLinearGradient=function(t){var e=t.getStrokeLinearGradientStartPoint(),n=t.getStrokeLinearGradientEndPoint(),i=t.getStrokeLinearGradientColorStops(),r=this.createLinearGradient(e.x,e.y,n.x,n.y);if(i){for(var o=0;o<i.length;o+=2)r.addColorStop(i[o],i[o+1]);this.setAttr("strokeStyle",r)}},e.prototype._stroke=function(t){var e=t.dash(),n=t.getStrokeScaleEnabled();if(t.hasStroke()){if(!n){this.save();var i=this.getCanvas().getPixelRatio();this.setTransform(i,0,0,i,0,0)}this._applyLineCap(t),e&&t.dashEnabled()&&(this.setLineDash(e),this.setAttr("lineDashOffset",t.dashOffset())),this.setAttr("lineWidth",t.strokeWidth()),t.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),t.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(t):this.setAttr("strokeStyle",t.stroke()),t._strokeFunc(this),n||this.restore()}},e.prototype._applyShadow=function(t){var e=o.Util,n=e.get(t.getShadowRGBA(),"black"),i=e.get(t.getShadowBlur(),5),r=e.get(t.getShadowOffset(),{x:0,y:0}),a=t.getAbsoluteScale(),s=this.canvas.getPixelRatio(),l=a.x*s,c=a.y*s;this.setAttr("shadowColor",n),this.setAttr("shadowBlur",i*Math.min(Math.abs(l),Math.abs(c))),this.setAttr("shadowOffsetX",r.x*l),this.setAttr("shadowOffsetY",r.y*c)},e}(l);e.SceneContext=c;var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype._fill=function(t){this.save(),this.setAttr("fillStyle",t.colorKey),t._fillFuncHit(this),this.restore()},e.prototype._stroke=function(t){if(t.hasStroke()&&t.hitStrokeWidth()){var e=t.getStrokeScaleEnabled();if(!e){this.save();var n=this.getCanvas().getPixelRatio();this.setTransform(n,0,0,n,0,0)}this._applyLineCap(t);var i=t.hitStrokeWidth(),r="auto"===i?t.strokeWidth():i;this.setAttr("lineWidth",r),this.setAttr("strokeStyle",t.colorKey),t._strokeFuncHit(this),e||this.restore()}},e}(l);e.HitContext=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),r=new Map,o=void 0!==i.Konva._global.PointerEvent;function a(t){return{evt:t,pointerId:t.pointerId}}function s(t,e){var n=r.get(t);if(n){var i=n.getStage();i&&i.content,r.delete(t),o&&n._fire("lostpointercapture",a(new PointerEvent("lostpointercapture")))}}e.getCapturedShape=function(t){return r.get(t)},e.createEvent=a,e.hasPointerCapture=function(t,e){return r.get(t)===e},e.setPointerCapture=function(t,e){s(t),e.getStage()&&(r.set(t,e),o&&e._fire("gotpointercapture",a(new PointerEvent("gotpointercapture"))))},e.releaseCapture=s},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(3),a=n(7),s=n(4),l=n(0),c=n(8),u=function(t){function e(e){var n=t.call(this,e)||this;return n.canvas=new c.SceneCanvas,n._waitingForDraw=!1,n.on("visibleChange",n._checkVisibility),n._checkVisibility(),n.on("imageSmoothingEnabledChange",n._checkSmooth),n._checkSmooth(),n}return r(e,t),e.prototype.createPNGStream=function(){return this.canvas._canvas.createPNGStream()},e.prototype.getCanvas=function(){return this.canvas},e.prototype.getHitCanvas=function(){return this.hitCanvas},e.prototype.getContext=function(){return this.getCanvas().getContext()},e.prototype.clear=function(t){return this.getContext().clear(t),this},e.prototype.setZIndex=function(e){t.prototype.setZIndex.call(this,e);var n=this.getStage();return n&&(n.content.removeChild(this.getCanvas()._canvas),e<n.getChildren().length-1?n.content.insertBefore(this.getCanvas()._canvas,n.getChildren()[e+1].getCanvas()._canvas):n.content.appendChild(this.getCanvas()._canvas)),this},e.prototype.moveToTop=function(){s.Node.prototype.moveToTop.call(this);var t=this.getStage();return t&&(t.content.removeChild(this.getCanvas()._canvas),t.content.appendChild(this.getCanvas()._canvas)),!0},e.prototype.moveUp=function(){if(!s.Node.prototype.moveUp.call(this))return!1;var t=this.getStage();return!!t&&(t.content.removeChild(this.getCanvas()._canvas),this.index<t.getChildren().length-1?t.content.insertBefore(this.getCanvas()._canvas,t.getChildren()[this.index+1].getCanvas()._canvas):t.content.appendChild(this.getCanvas()._canvas),!0)},e.prototype.moveDown=function(){if(s.Node.prototype.moveDown.call(this)){var t=this.getStage();if(t){var e=t.getChildren();t.content.removeChild(this.getCanvas()._canvas),t.content.insertBefore(this.getCanvas()._canvas,e[this.index+1].getCanvas()._canvas)}return!0}return!1},e.prototype.moveToBottom=function(){if(s.Node.prototype.moveToBottom.call(this)){var t=this.getStage();if(t){var e=t.getChildren();t.content.removeChild(this.getCanvas()._canvas),t.content.insertBefore(this.getCanvas()._canvas,e[1].getCanvas()._canvas)}return!0}return!1},e.prototype.getLayer=function(){return this},e.prototype.hitGraphEnabled=function(){return!0},e.prototype.remove=function(){var t=this.getCanvas()._canvas;return s.Node.prototype.remove.call(this),t&&t.parentNode&&o.Util._isInDocument(t)&&t.parentNode.removeChild(t),this},e.prototype.getStage=function(){return this.parent},e.prototype.setSize=function(t){var e=t.width,n=t.height;return this.canvas.setSize(e,n),this},e.prototype._toKonvaCanvas=function(t){return(t=t||{}).width=t.width||this.getWidth(),t.height=t.height||this.getHeight(),t.x=void 0!==t.x?t.x:this.x(),t.y=void 0!==t.y?t.y:this.y(),s.Node.prototype._toKonvaCanvas.call(this,t)},e.prototype._checkVisibility=function(){var t=this.visible();this.canvas._canvas.style.display=t?"block":"none"},e.prototype._checkSmooth=function(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()},e.prototype.getWidth=function(){if(this.parent)return this.parent.width()},e.prototype.setWidth=function(){o.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')},e.prototype.getHeight=function(){if(this.parent)return this.parent.height()},e.prototype.setHeight=function(){o.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')},e.prototype.getIntersection=function(t,e){return null},e.prototype.batchDraw=function(){var t=this;return this._waitingForDraw||(this._waitingForDraw=!0,o.Util.requestAnimFrame((function(){t.draw(),t._waitingForDraw=!1}))),this},e.prototype._applyTransform=function(t,e,n){var i=t.getAbsoluteTransform(n).getMatrix();e.transform(i[0],i[1],i[2],i[3],i[4],i[5])},e}(a.Container);e.BaseLayer=u,u.prototype.nodeType="BaseLayer",l.Factory.addGetterSetter(u,"imageSmoothingEnabled",!0),l.Factory.addGetterSetter(u,"clearBeforeDraw",!0),o.Collection.mapMethods(u)},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(3),a=n(0),s=n(5),l=n(2),c=n(1),u=function(t){function e(e){var n=t.call(this,e)||this;return n.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",(function(){this._clearCache("tensionPoints")})),n}return r(e,t),e.prototype._sceneFunc=function(t){var e,n,i,r=this.points(),o=r.length,a=this.tension(),s=this.closed(),l=this.bezier();if(o){if(t.beginPath(),t.moveTo(r[0],r[1]),0!==a&&o>4){for(n=(e=this.getTensionPoints()).length,i=s?0:4,s||t.quadraticCurveTo(e[0],e[1],e[2],e[3]);i<n-2;)t.bezierCurveTo(e[i++],e[i++],e[i++],e[i++],e[i++],e[i++]);s||t.quadraticCurveTo(e[n-2],e[n-1],r[o-2],r[o-1])}else if(l)for(i=2;i<o;)t.bezierCurveTo(r[i++],r[i++],r[i++],r[i++],r[i++],r[i++]);else for(i=2;i<o;i+=2)t.lineTo(r[i],r[i+1]);s?(t.closePath(),t.fillStrokeShape(this)):t.strokeShape(this)}},e.prototype.getTensionPoints=function(){return this._getCache("tensionPoints",this._getTensionPoints)},e.prototype._getTensionPoints=function(){return this.closed()?this._getTensionPointsClosed():o.Util._expandPoints(this.points(),this.tension())},e.prototype._getTensionPointsClosed=function(){var t=this.points(),e=t.length,n=this.tension(),i=o.Util._getControlPoints(t[e-2],t[e-1],t[0],t[1],t[2],t[3],n),r=o.Util._getControlPoints(t[e-4],t[e-3],t[e-2],t[e-1],t[0],t[1],n),a=o.Util._expandPoints(t,n);return[i[2],i[3]].concat(a).concat([r[0],r[1],t[e-2],t[e-1],r[2],r[3],i[0],i[1],t[0],t[1]])},e.prototype.getWidth=function(){return this.getSelfRect().width},e.prototype.getHeight=function(){return this.getSelfRect().height},e.prototype.getSelfRect=function(){for(var t,e,n,i=(t=0!==this.tension()?this._getTensionPoints():this.points())[0],r=t[0],o=t[1],a=t[1],s=0;s<t.length/2;s++)e=t[2*s],n=t[2*s+1],i=Math.min(i,e),r=Math.max(r,e),o=Math.min(o,n),a=Math.max(a,n);return{x:Math.round(i),y:Math.round(o),width:Math.round(r-i),height:Math.round(a-o)}},e}(s.Shape);e.Line=u,u.prototype.className="Line",u.prototype._attrsAffectingSize=["points","bezier","tension"],c._registerNode(u),a.Factory.addGetterSetter(u,"closed",!1),a.Factory.addGetterSetter(u,"bezier",!1),a.Factory.addGetterSetter(u,"tension",0,l.getNumberValidator()),a.Factory.addGetterSetter(u,"points",[],l.getNumberArrayValidator()),o.Collection.mapMethods(u)},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(3),a=n(0),s=n(5),l=n(1),c=function(t){function e(n){var i=t.call(this,n)||this;i.dataArray=[],i.pathLength=0,i.dataArray=e.parsePathData(i.data()),i.pathLength=0;for(var r=0;r<i.dataArray.length;++r)i.pathLength+=i.dataArray[r].pathLength;return i.on("dataChange.konva",(function(){this.dataArray=e.parsePathData(this.data()),this.pathLength=0;for(var t=0;t<this.dataArray.length;++t)this.pathLength+=this.dataArray[t].pathLength})),i}return r(e,t),e.prototype._sceneFunc=function(t){var e=this.dataArray;t.beginPath();for(var n=0;n<e.length;n++){var i=e[n].command,r=e[n].points;switch(i){case"L":t.lineTo(r[0],r[1]);break;case"M":t.moveTo(r[0],r[1]);break;case"C":t.bezierCurveTo(r[0],r[1],r[2],r[3],r[4],r[5]);break;case"Q":t.quadraticCurveTo(r[0],r[1],r[2],r[3]);break;case"A":var o=r[0],a=r[1],s=r[2],l=r[3],c=r[4],u=r[5],h=r[6],f=r[7],d=s>l?s:l,p=s>l?1:s/l,v=s>l?l/s:1;t.translate(o,a),t.rotate(h),t.scale(p,v),t.arc(0,0,d,c,c+u,1-f),t.scale(1/p,1/v),t.rotate(-h),t.translate(-o,-a);break;case"z":t.closePath()}}t.fillStrokeShape(this)},e.prototype.getSelfRect=function(){var t=[];this.dataArray.forEach((function(e){t=t.concat(e.points)}));for(var e,n,i=t[0],r=t[0],o=t[1],a=t[1],s=0;s<t.length/2;s++)e=t[2*s],n=t[2*s+1],isNaN(e)||(i=Math.min(i,e),r=Math.max(r,e)),isNaN(n)||(o=Math.min(o,n),a=Math.max(a,n));return{x:Math.round(i),y:Math.round(o),width:Math.round(r-i),height:Math.round(a-o)}},e.prototype.getLength=function(){return this.pathLength},e.prototype.getPointAtLength=function(t){var n,i=0,r=this.dataArray.length;if(!r)return null;for(;i<r&&t>this.dataArray[i].pathLength;)t-=this.dataArray[i].pathLength,++i;if(i===r)return{x:(n=this.dataArray[i-1].points.slice(-2))[0],y:n[1]};if(t<.01)return{x:(n=this.dataArray[i].points.slice(0,2))[0],y:n[1]};var o=this.dataArray[i],a=o.points;switch(o.command){case"L":return e.getPointOnLine(t,o.start.x,o.start.y,a[0],a[1]);case"C":return e.getPointOnCubicBezier(t/o.pathLength,o.start.x,o.start.y,a[0],a[1],a[2],a[3],a[4],a[5]);case"Q":return e.getPointOnQuadraticBezier(t/o.pathLength,o.start.x,o.start.y,a[0],a[1],a[2],a[3]);case"A":var s=a[0],l=a[1],c=a[2],u=a[3],h=a[4],f=a[5],d=a[6];return h+=f*t/o.pathLength,e.getPointOnEllipticalArc(s,l,c,u,h,d)}return null},e.getLineLength=function(t,e,n,i){return Math.sqrt((n-t)*(n-t)+(i-e)*(i-e))},e.getPointOnLine=function(t,e,n,i,r,o,a){void 0===o&&(o=e),void 0===a&&(a=n);var s=(r-n)/(i-e+1e-8),l=Math.sqrt(t*t/(1+s*s));i<e&&(l*=-1);var c,u=s*l;if(i===e)c={x:o,y:a+u};else if((a-n)/(o-e+1e-8)===s)c={x:o+l,y:a+u};else{var h,f,d=this.getLineLength(e,n,i,r);if(d<1e-8)return;var p=(o-e)*(i-e)+(a-n)*(r-n);h=e+(p/=d*d)*(i-e),f=n+p*(r-n);var v=this.getLineLength(o,a,h,f),g=Math.sqrt(t*t-v*v);l=Math.sqrt(g*g/(1+s*s)),i<e&&(l*=-1),c={x:h+l,y:f+(u=s*l)}}return c},e.getPointOnCubicBezier=function(t,e,n,i,r,o,a,s,l){function c(t){return t*t*t}function u(t){return 3*t*t*(1-t)}function h(t){return 3*t*(1-t)*(1-t)}function f(t){return(1-t)*(1-t)*(1-t)}return{x:s*c(t)+o*u(t)+i*h(t)+e*f(t),y:l*c(t)+a*u(t)+r*h(t)+n*f(t)}},e.getPointOnQuadraticBezier=function(t,e,n,i,r,o,a){function s(t){return t*t}function l(t){return 2*t*(1-t)}function c(t){return(1-t)*(1-t)}return{x:o*s(t)+i*l(t)+e*c(t),y:a*s(t)+r*l(t)+n*c(t)}},e.getPointOnEllipticalArc=function(t,e,n,i,r,o){var a=Math.cos(o),s=Math.sin(o),l=n*Math.cos(r),c=i*Math.sin(r);return{x:t+(l*a-c*s),y:e+(l*s+c*a)}},e.parsePathData=function(t){if(!t)return[];var e=t,n=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];e=e.replace(new RegExp(" ","g"),",");for(var i=0;i<n.length;i++)e=e.replace(new RegExp(n[i],"g"),"|"+n[i]);var r,o=e.split("|"),a=[],s=[],l=0,c=0,u=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;for(i=1;i<o.length;i++){var h=o[i],f=h.charAt(0);for(h=h.slice(1),s.length=0;r=u.exec(h);)s.push(r[0]);for(var d=[],p=0,v=s.length;p<v;p++){var g=parseFloat(s[p]);isNaN(g)?d.push(0):d.push(g)}for(;d.length>0&&!isNaN(d[0]);){var y,m,b,_,w,x,k,C,S,O,P=null,j=[],T=l,E=c;switch(f){case"l":l+=d.shift(),c+=d.shift(),P="L",j.push(l,c);break;case"L":l=d.shift(),c=d.shift(),j.push(l,c);break;case"m":var M=d.shift(),A=d.shift();if(l+=M,c+=A,P="M",a.length>2&&"z"===a[a.length-1].command)for(var F=a.length-2;F>=0;F--)if("M"===a[F].command){l=a[F].points[0]+M,c=a[F].points[1]+A;break}j.push(l,c),f="l";break;case"M":l=d.shift(),c=d.shift(),P="M",j.push(l,c),f="L";break;case"h":l+=d.shift(),P="L",j.push(l,c);break;case"H":l=d.shift(),P="L",j.push(l,c);break;case"v":c+=d.shift(),P="L",j.push(l,c);break;case"V":c=d.shift(),P="L",j.push(l,c);break;case"C":j.push(d.shift(),d.shift(),d.shift(),d.shift()),l=d.shift(),c=d.shift(),j.push(l,c);break;case"c":j.push(l+d.shift(),c+d.shift(),l+d.shift(),c+d.shift()),l+=d.shift(),c+=d.shift(),P="C",j.push(l,c);break;case"S":m=l,b=c,"C"===(y=a[a.length-1]).command&&(m=l+(l-y.points[2]),b=c+(c-y.points[3])),j.push(m,b,d.shift(),d.shift()),l=d.shift(),c=d.shift(),P="C",j.push(l,c);break;case"s":m=l,b=c,"C"===(y=a[a.length-1]).command&&(m=l+(l-y.points[2]),b=c+(c-y.points[3])),j.push(m,b,l+d.shift(),c+d.shift()),l+=d.shift(),c+=d.shift(),P="C",j.push(l,c);break;case"Q":j.push(d.shift(),d.shift()),l=d.shift(),c=d.shift(),j.push(l,c);break;case"q":j.push(l+d.shift(),c+d.shift()),l+=d.shift(),c+=d.shift(),P="Q",j.push(l,c);break;case"T":m=l,b=c,"Q"===(y=a[a.length-1]).command&&(m=l+(l-y.points[0]),b=c+(c-y.points[1])),l=d.shift(),c=d.shift(),P="Q",j.push(m,b,l,c);break;case"t":m=l,b=c,"Q"===(y=a[a.length-1]).command&&(m=l+(l-y.points[0]),b=c+(c-y.points[1])),l+=d.shift(),c+=d.shift(),P="Q",j.push(m,b,l,c);break;case"A":_=d.shift(),w=d.shift(),x=d.shift(),k=d.shift(),C=d.shift(),S=l,O=c,l=d.shift(),c=d.shift(),P="A",j=this.convertEndpointToCenterParameterization(S,O,l,c,k,C,_,w,x);break;case"a":_=d.shift(),w=d.shift(),x=d.shift(),k=d.shift(),C=d.shift(),S=l,O=c,l+=d.shift(),c+=d.shift(),P="A",j=this.convertEndpointToCenterParameterization(S,O,l,c,k,C,_,w,x)}a.push({command:P||f,points:j,start:{x:T,y:E},pathLength:this.calcLength(T,E,P||f,j)})}"z"!==f&&"Z"!==f||a.push({command:"z",points:[],start:void 0,pathLength:0})}return a},e.calcLength=function(t,n,i,r){var o,a,s,l,c=e;switch(i){case"L":return c.getLineLength(t,n,r[0],r[1]);case"C":for(o=0,a=c.getPointOnCubicBezier(0,t,n,r[0],r[1],r[2],r[3],r[4],r[5]),l=.01;l<=1;l+=.01)s=c.getPointOnCubicBezier(l,t,n,r[0],r[1],r[2],r[3],r[4],r[5]),o+=c.getLineLength(a.x,a.y,s.x,s.y),a=s;return o;case"Q":for(o=0,a=c.getPointOnQuadraticBezier(0,t,n,r[0],r[1],r[2],r[3]),l=.01;l<=1;l+=.01)s=c.getPointOnQuadraticBezier(l,t,n,r[0],r[1],r[2],r[3]),o+=c.getLineLength(a.x,a.y,s.x,s.y),a=s;return o;case"A":o=0;var u=r[4],h=r[5],f=r[4]+h,d=Math.PI/180;if(Math.abs(u-f)<d&&(d=Math.abs(u-f)),a=c.getPointOnEllipticalArc(r[0],r[1],r[2],r[3],u,0),h<0)for(l=u-d;l>f;l-=d)s=c.getPointOnEllipticalArc(r[0],r[1],r[2],r[3],l,0),o+=c.getLineLength(a.x,a.y,s.x,s.y),a=s;else for(l=u+d;l<f;l+=d)s=c.getPointOnEllipticalArc(r[0],r[1],r[2],r[3],l,0),o+=c.getLineLength(a.x,a.y,s.x,s.y),a=s;return s=c.getPointOnEllipticalArc(r[0],r[1],r[2],r[3],f,0),o+=c.getLineLength(a.x,a.y,s.x,s.y)}return 0},e.convertEndpointToCenterParameterization=function(t,e,n,i,r,o,a,s,l){var c=l*(Math.PI/180),u=Math.cos(c)*(t-n)/2+Math.sin(c)*(e-i)/2,h=-1*Math.sin(c)*(t-n)/2+Math.cos(c)*(e-i)/2,f=u*u/(a*a)+h*h/(s*s);f>1&&(a*=Math.sqrt(f),s*=Math.sqrt(f));var d=Math.sqrt((a*a*(s*s)-a*a*(h*h)-s*s*(u*u))/(a*a*(h*h)+s*s*(u*u)));r===o&&(d*=-1),isNaN(d)&&(d=0);var p=d*a*h/s,v=d*-s*u/a,g=(t+n)/2+Math.cos(c)*p-Math.sin(c)*v,y=(e+i)/2+Math.sin(c)*p+Math.cos(c)*v,m=function(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])},b=function(t,e){return(t[0]*e[0]+t[1]*e[1])/(m(t)*m(e))},_=function(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(b(t,e))},w=_([1,0],[(u-p)/a,(h-v)/s]),x=[(u-p)/a,(h-v)/s],k=[(-1*u-p)/a,(-1*h-v)/s],C=_(x,k);return b(x,k)<=-1&&(C=Math.PI),b(x,k)>=1&&(C=0),0===o&&C>0&&(C-=2*Math.PI),1===o&&C<0&&(C+=2*Math.PI),[g,y,a,s,w,C,c,o]},e}(s.Shape);e.Path=c,c.prototype.className="Path",c.prototype._attrsAffectingSize=["data"],l._registerNode(c),a.Factory.addGetterSetter(c,"data"),o.Collection.mapMethods(c)},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(3),a=n(0),s=n(5),l=n(1),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype._sceneFunc=function(t){var e=this.cornerRadius(),n=this.width(),i=this.height();if(t.beginPath(),e){var r=0,o=0,a=0,s=0;"number"==typeof e?r=o=a=s=Math.min(e,n/2,i/2):(r=Math.min(e[0],n/2,i/2),o=Math.min(e[1],n/2,i/2),s=Math.min(e[2],n/2,i/2),a=Math.min(e[3],n/2,i/2)),t.moveTo(r,0),t.lineTo(n-o,0),t.arc(n-o,o,o,3*Math.PI/2,0,!1),t.lineTo(n,i-s),t.arc(n-s,i-s,s,0,Math.PI/2,!1),t.lineTo(a,i),t.arc(a,i-a,a,Math.PI/2,Math.PI,!1),t.lineTo(0,r),t.arc(r,r,r,Math.PI,3*Math.PI/2,!1)}else t.rect(0,0,n,i);t.closePath(),t.fillStrokeShape(this)},e}(s.Shape);e.Rect=c,c.prototype.className="Rect",l._registerNode(c),a.Factory.addGetterSetter(c,"cornerRadius",0),o.Collection.mapMethods(c)},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o,a=n(3),s=n(0),l=n(5),c=n(1),u=n(2),h=n(1),f="Change.konva",d="2d",p=["fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],v=p.length;function g(){return o||(o=a.Util.createCanvasElement().getContext(d))}var y=function(t){function e(e){var n=t.call(this,function(t){return(t=t||{}).fillLinearGradientColorStops||t.fillRadialGradientColorStops||t.fillPatternImage||(t.fill=t.fill||"black"),t}(e))||this;n._partialTextX=0,n._partialTextY=0;for(var i=0;i<v;i++)n.on(p[i]+f,n._setTextData);return n._setTextData(),n}return r(e,t),e.prototype._sceneFunc=function(t){var e,n=this.padding(),i=this.fontSize(),r=this.lineHeight()*i,o=this.textArr,a=o.length,s=this.verticalAlign(),l=0,c=this.align(),u=this.getWidth(),h=this.letterSpacing(),f=this.fill(),d=this.textDecoration(),p=-1!==d.indexOf("underline"),v=-1!==d.indexOf("line-through"),g=0,y=(g=r/2,0),m=0;for(t.setAttr("font",this._getContextFont()),t.setAttr("textBaseline","middle"),t.setAttr("textAlign","left"),"middle"===s?l=(this.getHeight()-a*r-2*n)/2:"bottom"===s&&(l=this.getHeight()-a*r-2*n),t.translate(n,l+n),e=0;e<a;e++){y=0,m=0;var b,_,w,x=o[e],k=x.text,C=x.width,S=e!==a-1;if(t.save(),"right"===c?y+=u-C-2*n:"center"===c&&(y+=(u-C-2*n)/2),p&&(t.save(),t.beginPath(),t.moveTo(y,g+m+Math.round(i/2)),_=0===(b=k.split(" ").length-1),w="justify"===c&&S&&!_?u-2*n:C,t.lineTo(y+Math.round(w),g+m+Math.round(i/2)),t.lineWidth=i/15,t.strokeStyle=f,t.stroke(),t.restore()),v&&(t.save(),t.beginPath(),t.moveTo(y,g+m),_=0===(b=k.split(" ").length-1),w="justify"===c&&S&&!_?u-2*n:C,t.lineTo(y+Math.round(w),g+m),t.lineWidth=i/15,t.strokeStyle=f,t.stroke(),t.restore()),0!==h||"justify"===c){b=k.split(" ").length-1;for(var O=0;O<k.length;O++){var P=k[O];" "===P&&e!==a-1&&"justify"===c&&(y+=Math.floor((u-2*n-C)/b)),this._partialTextX=y,this._partialTextY=g+m,this._partialText=P,t.fillStrokeShape(this),y+=Math.round(this.measureSize(P).width)+h}}else this._partialTextX=y,this._partialTextY=g+m,this._partialText=k,t.fillStrokeShape(this);t.restore(),a>1&&(g+=r)}},e.prototype._hitFunc=function(t){var e=this.getWidth(),n=this.getHeight();t.beginPath(),t.rect(0,0,e,n),t.closePath(),t.fillStrokeShape(this)},e.prototype.setText=function(t){var e=a.Util._isString(t)?t:(t||"").toString();return this._setAttr("text",e),this},e.prototype.getWidth=function(){return"auto"===this.attrs.width||void 0===this.attrs.width?this.getTextWidth()+2*this.padding():this.attrs.width},e.prototype.getHeight=function(){return"auto"===this.attrs.height||void 0===this.attrs.height?this.fontSize()*this.textArr.length*this.lineHeight()+2*this.padding():this.attrs.height},e.prototype.getTextWidth=function(){return this.textWidth},e.prototype.getTextHeight=function(){return a.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight},e.prototype.measureSize=function(t){var e,n=g(),i=this.fontSize();return n.save(),n.font=this._getContextFont(),e=n.measureText(t),n.restore(),{width:e.width,height:i}},e.prototype._getContextFont=function(){return c.Konva.UA.isIE?this.fontStyle()+" "+this.fontSize()+"px "+this.fontFamily():this.fontStyle()+" "+this.fontVariant()+" "+this.fontSize()+"px "+this.fontFamily()},e.prototype._addTextLine=function(t){"justify"===this.align()&&(t=t.trim());var e=this._getTextWidth(t);return this.textArr.push({text:t,width:e})},e.prototype._getTextWidth=function(t){var e=this.letterSpacing(),n=t.length;return g().measureText(t).width+(n?e*(n-1):0)},e.prototype._setTextData=function(){var t=this.text().split("\n"),e=+this.fontSize(),n=0,i=this.lineHeight()*e,r=this.attrs.width,o=this.attrs.height,a="auto"!==r&&void 0!==r,s="auto"!==o&&void 0!==o,l=this.padding(),c=r-2*l,u=o-2*l,h=0,f=this.wrap(),d="none"!==f,p="char"!==f&&d,v=this.ellipsis()&&!d;this.textArr=[],g().font=this._getContextFont();for(var y=v?this._getTextWidth("…"):0,m=0,b=t.length;m<b;++m){var _=t[m],w=this._getTextWidth(_);if(a&&w>c)for(;_.length>0;){for(var x=0,k=_.length,C="",S=0;x<k;){var O=x+k>>>1,P=_.slice(0,O+1),j=this._getTextWidth(P)+y;j<=c?(x=O+1,C=P+(v?"…":""),S=j):k=O}if(!C)break;if(p){var T,E=_[C.length];(T=(" "===E||"-"===E)&&S<=c?C.length:Math.max(C.lastIndexOf(" "),C.lastIndexOf("-"))+1)>0&&(x=T,C=C.slice(0,x),S=this._getTextWidth(C))}if(C=C.trimRight(),this._addTextLine(C),n=Math.max(n,S),h+=i,!d||s&&h+i>u)break;if((_=(_=_.slice(x)).trimLeft()).length>0&&(w=this._getTextWidth(_))<=c){this._addTextLine(_),h+=i,n=Math.max(n,w);break}}else this._addTextLine(_),h+=i,n=Math.max(n,w);if(s&&h+i>u)break}this.textHeight=e,this.textWidth=n},e.prototype.getStrokeScaleEnabled=function(){return!0},e}(l.Shape);e.Text=y,y.prototype._fillFunc=function(t){t.fillText(this._partialText,this._partialTextX,this._partialTextY)},y.prototype._strokeFunc=function(t){t.strokeText(this._partialText,this._partialTextX,this._partialTextY)},y.prototype.className="Text",y.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight"],h._registerNode(y),s.Factory.overWriteSetter(y,"width",u.getNumberOrAutoValidator()),s.Factory.overWriteSetter(y,"height",u.getNumberOrAutoValidator()),s.Factory.addGetterSetter(y,"fontFamily","Arial"),s.Factory.addGetterSetter(y,"fontSize",12,u.getNumberValidator()),s.Factory.addGetterSetter(y,"fontStyle","normal"),s.Factory.addGetterSetter(y,"fontVariant","normal"),s.Factory.addGetterSetter(y,"padding",0,u.getNumberValidator()),s.Factory.addGetterSetter(y,"align","left"),s.Factory.addGetterSetter(y,"verticalAlign","top"),s.Factory.addGetterSetter(y,"lineHeight",1,u.getNumberValidator()),s.Factory.addGetterSetter(y,"wrap","word"),s.Factory.addGetterSetter(y,"ellipsis",!1),s.Factory.addGetterSetter(y,"letterSpacing",0,u.getNumberValidator()),s.Factory.addGetterSetter(y,"text","",u.getStringValidator()),s.Factory.addGetterSetter(y,"textDecoration",""),a.Collection.mapMethods(y)},function(t,e,n){var i;"undefined"!=typeof self&&self,i=function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s="./src/main/js/index.ts")}({"./node_modules/css-loader/lib/css-base.js":
/*!*************************************************!*\
  !*** ./node_modules/css-loader/lib/css-base.js ***!
  \*************************************************/
/*! no static exports found */function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=function(t,e){var n,i=t[1]||"",r=t[3];if(!r)return i;if(e&&"function"==typeof btoa){var o=(n=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */"),a=r.sources.map((function(t){return"/*# sourceURL="+r.sourceRoot+t+" */"}));return[i].concat(a).concat([o]).join("\n")}return[i].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n})).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var i={},r=0;r<this.length;r++){var o=this[r][0];"number"==typeof o&&(i[o]=!0)}for(r=0;r<t.length;r++){var a=t[r];"number"==typeof a[0]&&i[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},"./node_modules/process/browser.js":
/*!*****************************************!*\
  !*** ./node_modules/process/browser.js ***!
  \*****************************************/
/*! no static exports found */function(t,e){var n,i,r=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(t){i=a}}();var l,c=[],u=!1,h=-1;function f(){u&&l&&(u=!1,l.length?c=l.concat(c):h=-1,c.length&&d())}function d(){if(!u){var t=s(f);u=!0;for(var e=c.length;e;){for(l=c,c=[];++h<e;)l&&l[h].run();h=-1,e=c.length}l=null,u=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function v(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new p(t,e)),1!==c.length||u||s(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=v,r.addListener=v,r.once=v,r.off=v,r.removeListener=v,r.removeAllListeners=v,r.emit=v,r.prependListener=v,r.prependOnceListener=v,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},"./src/main/js/api/button.ts":
/*!***********************************!*\
  !*** ./src/main/js/api/button.ts ***!
  \***********************************/
/*! no static exports found */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t){this.controller=t}return t.prototype.dispose=function(){this.controller.dispose()},t.prototype.on=function(t,e){this.controller.button.emitter.on(t,e)},t}();e.default=i},"./src/main/js/api/folder.ts":
/*!***********************************!*\
  !*** ./src/main/js/api/folder.ts ***!
  \***********************************/
/*! no static exports found */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(/*! ../controller/binding-creators/input */"./src/main/js/controller/binding-creators/input.ts"),r=n(/*! ../controller/binding-creators/monitor */"./src/main/js/controller/binding-creators/monitor.ts"),o=n(/*! ../controller/button */"./src/main/js/controller/button.ts"),a=n(/*! ../controller/separator */"./src/main/js/controller/separator.ts"),s=n(/*! ../model/target */"./src/main/js/model/target.ts"),l=n(/*! ./button */"./src/main/js/api/button.ts"),c=n(/*! ./input-binding */"./src/main/js/api/input-binding.ts"),u=n(/*! ./monitor-binding */"./src/main/js/api/monitor-binding.ts"),h={change:"inputchange",fold:"fold",update:"monitorupdate"},f=function(){function t(t){this.controller=t}return Object.defineProperty(t.prototype,"expanded",{get:function(){return this.controller.folder.expanded},set:function(t){this.controller.folder.expanded=t},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this.controller.dispose()},t.prototype.addInput=function(t,e,n){var r=n||{},o=i.create(this.controller.document,new s.default(t,e,r.presetKey),r);return this.controller.uiControllerList.append(o),new c.default(o)},t.prototype.addMonitor=function(t,e,n){var i=n||{},o=r.create(this.controller.document,new s.default(t,e),i);return this.controller.uiControllerList.append(o),new u.default(o)},t.prototype.addButton=function(t){var e=new o.default(this.controller.document,t);return this.controller.uiControllerList.append(e),new l.default(e)},t.prototype.addSeparator=function(){var t=new a.default(this.controller.document);this.controller.uiControllerList.append(t)},t.prototype.on=function(t,e){var n=h[t];return n&&this.controller.emitter.on(n,e),this},t}();e.default=f},"./src/main/js/api/input-binding.ts":
/*!******************************************!*\
  !*** ./src/main/js/api/input-binding.ts ***!
  \******************************************/
/*! no static exports found */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t){this.controller=t}return t.prototype.dispose=function(){this.controller.dispose()},t.prototype.on=function(t,e){return this.controller.binding.value.emitter.on(t,e),this},t.prototype.refresh=function(){this.controller.binding.read()},t}();e.default=i},"./src/main/js/api/monitor-binding.ts":
/*!********************************************!*\
  !*** ./src/main/js/api/monitor-binding.ts ***!
  \********************************************/
/*! no static exports found */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t){this.controller=t}return t.prototype.dispose=function(){this.controller.dispose()},t.prototype.on=function(t,e){return this.controller.binding.value.emitter.on(t,e),this},t.prototype.refresh=function(){this.controller.binding.read()},t}();e.default=i},"./src/main/js/api/preset.ts":
/*!***********************************!*\
  !*** ./src/main/js/api/preset.ts ***!
  \***********************************/
/*! no static exports found */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.exportJson=function(t){return t.reduce((function(t,e){var n;return Object.assign(t,((n={})[e.presetKey]=e.read(),n))}),{})},e.importJson=function(t,e){t.forEach((function(t){var n=e[t.presetKey];void 0!==n&&t.write(n)}))}},"./src/main/js/api/root.ts":
/*!*********************************!*\
  !*** ./src/main/js/api/root.ts ***!
  \*********************************/
/*! no static exports found */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(/*! ../controller/binding-creators/input */"./src/main/js/controller/binding-creators/input.ts"),r=n(/*! ../controller/binding-creators/monitor */"./src/main/js/controller/binding-creators/monitor.ts"),o=n(/*! ../controller/button */"./src/main/js/controller/button.ts"),a=n(/*! ../controller/folder */"./src/main/js/controller/folder.ts"),s=n(/*! ../controller/input-binding */"./src/main/js/controller/input-binding.ts"),l=n(/*! ../controller/monitor-binding */"./src/main/js/controller/monitor-binding.ts"),c=n(/*! ../controller/separator */"./src/main/js/controller/separator.ts"),u=n(/*! ../controller/ui-util */"./src/main/js/controller/ui-util.ts"),h=n(/*! ../model/target */"./src/main/js/model/target.ts"),f=n(/*! ./button */"./src/main/js/api/button.ts"),d=n(/*! ./folder */"./src/main/js/api/folder.ts"),p=n(/*! ./input-binding */"./src/main/js/api/input-binding.ts"),v=n(/*! ./monitor-binding */"./src/main/js/api/monitor-binding.ts"),g=n(/*! ./preset */"./src/main/js/api/preset.ts"),y={change:"inputchange",fold:"fold",update:"monitorupdate"},m=function(){function t(t){this.controller=t}return Object.defineProperty(t.prototype,"element",{get:function(){return this.controller.view.element},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"expanded",{get:function(){var t=this.controller.folder;return!t||t.expanded},set:function(t){var e=this.controller.folder;e&&(e.expanded=t)},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this.controller.dispose()},t.prototype.addInput=function(t,e,n){var r=n||{},o=i.create(this.controller.document,new h.default(t,e,r.presetKey),r);return this.controller.uiControllerList.append(o),new p.default(o)},t.prototype.addMonitor=function(t,e,n){var i=n||{},o=r.create(this.controller.document,new h.default(t,e),i);return this.controller.uiControllerList.append(o),new v.default(o)},t.prototype.addButton=function(t){var e=new o.default(this.controller.document,t);return this.controller.uiControllerList.append(e),new f.default(e)},t.prototype.addFolder=function(t){var e=new a.default(this.controller.document,t);return this.controller.uiControllerList.append(e),new d.default(e)},t.prototype.addSeparator=function(){var t=new c.default(this.controller.document);this.controller.uiControllerList.append(t)},t.prototype.importPreset=function(t){var e=u.findControllers(this.controller.uiControllerList.items,s.default).map((function(t){return t.binding.target}));g.importJson(e,t),this.refresh()},t.prototype.exportPreset=function(){var t=u.findControllers(this.controller.uiControllerList.items,s.default).map((function(t){return t.binding.target}));return g.exportJson(t)},t.prototype.on=function(t,e){var n=y[t];return n&&this.controller.emitter.on(n,e),this},t.prototype.refresh=function(){u.findControllers(this.controller.uiControllerList.items,s.default).forEach((function(t){t.binding.read()})),u.findControllers(this.controller.uiControllerList.items,l.default).forEach((function(t){t.binding.read()}))},t}();e.default=m},"./src/main/js/binding/input.ts":
/*!**************************************!*\
  !*** ./src/main/js/binding/input.ts ***!
  \**************************************/
/*! no static exports found */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t){this.onValueChange_=this.onValueChange_.bind(this),this.reader_=t.reader,this.writer_=t.writer,this.value=t.value,this.value.emitter.on("change",this.onValueChange_),this.target=t.target,this.read()}return t.prototype.read=function(){var t=this.target.read();void 0!==t&&(this.value.rawValue=this.reader_(t))},t.prototype.write_=function(t){var e=this.writer_(t);this.target.write(e)},t.prototype.onValueChange_=function(t){this.write_(t)},t}();e.default=i},"./src/main/js/binding/monitor.ts":
/*!****************************************!*\
  !*** ./src/main/js/binding/monitor.ts ***!
  \****************************************/
/*! no static exports found */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t){this.onTick_=this.onTick_.bind(this),this.reader_=t.reader,this.target=t.target,this.value=t.value,this.ticker=t.ticker,this.ticker.emitter.on("tick",this.onTick_),this.read()}return t.prototype.dispose=function(){this.ticker.dispose()},t.prototype.read=function(){var t=this.target.read();void 0!==t&&this.value.append(this.reader_(t))},t.prototype.onTick_=function(){this.read()},t}();e.default=i},"./src/main/js/constraint/composite.ts":
/*!*********************************************!*\
  !*** ./src/main/js/constraint/composite.ts ***!
  \*********************************************/
/*! no static exports found */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t){this.constraints_=t.constraints}return Object.defineProperty(t.prototype,"constraints",{get:function(){return this.constraints_},enumerable:!0,configurable:!0}),t.prototype.constrain=function(t){return this.constraints_.reduce((function(t,e){return e.constrain(t)}),t)},t}();e.default=i},"./src/main/js/constraint/list.ts":
/*!****************************************!*\
  !*** ./src/main/js/constraint/list.ts ***!
  \****************************************/
/*! no static exports found */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t){this.opts_=t.options}return Object.defineProperty(t.prototype,"options",{get:function(){return this.opts_},enumerable:!0,configurable:!0}),t.prototype.constrain=function(t){var e=this.opts_;return 0===e.length?t:e.filter((function(e){return e.value===t})).length>0?t:e[0].value},t}();e.default=i},"./src/main/js/constraint/range.ts":
/*!*****************************************!*\
  !*** ./src/main/js/constraint/range.ts ***!
  \*****************************************/
/*! no static exports found */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t){this.max_=t.max,this.min_=t.min}return Object.defineProperty(t.prototype,"minValue",{get:function(){return this.min_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.max_},enumerable:!0,configurable:!0}),t.prototype.constrain=function(t){var e=t;return null!==this.min_&&void 0!==this.min_&&(e=Math.max(e,this.min_)),null!==this.max_&&void 0!==this.max_&&(e=Math.min(e,this.max_)),e},t}();e.default=i},"./src/main/js/constraint/step.ts":
/*!****************************************!*\
  !*** ./src/main/js/constraint/step.ts ***!
  \****************************************/
/*! no static exports found */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t){this.step=t.step}return t.prototype.constrain=function(t){return(t<0?-Math.round(-t/this.step):Math.round(t/this.step))*this.step},t}();e.default=i},"./src/main/js/constraint/util.ts":
/*!****************************************!*\
  !*** ./src/main/js/constraint/util.ts ***!
  \****************************************/
/*! no static exports found */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(/*! ./composite */"./src/main/js/constraint/composite.ts"),r={findConstraint:function(t,e){if(t instanceof e)return t;if(t instanceof i.default){var n=t.constraints.reduce((function(t,n){return t||(n instanceof e?n:null)}),null);if(n)return n}return null}};e.default=r},"./src/main/js/controller/binding-creators/boolean-input.ts":
/*!******************************************************************!*\
  !*** ./src/main/js/controller/binding-creators/boolean-input.ts ***!
  \******************************************************************/
/*! no static exports found */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(/*! ../../binding/input */"./src/main/js/binding/input.ts"),r=n(/*! ../../constraint/composite */"./src/main/js/constraint/composite.ts"),o=n(/*! ../../constraint/list */"./src/main/js/constraint/list.ts"),a=n(/*! ../../constraint/util */"./src/main/js/constraint/util.ts"),s=n(/*! ../../converter/boolean */"./src/main/js/converter/boolean.ts"),l=n(/*! ../../model/input-value */"./src/main/js/model/input-value.ts"),c=n(/*! ../input-binding */"./src/main/js/controller/input-binding.ts"),u=n(/*! ../input/checkbox */"./src/main/js/controller/input/checkbox.ts"),h=n(/*! ../input/list */"./src/main/js/controller/input/list.ts");function f(t,e){var n=e.constraint;return n&&a.default.findConstraint(n,o.default)?new h.default(t,{stringifyValue:s.toString,value:e}):new u.default(t,{value:e})}e.create=function(t,e,n){var a=new l.default(!1,function(t){var e=[];return t.options&&e.push(new o.default({options:t.options})),new r.default({constraints:e})}(n)),u=new i.default({reader:s.fromMixed,target:e,value:a,writer:function(t){return t}});return new c.default(t,{binding:u,controller:f(t,a),label:n.label||e.key})}},"./src/main/js/controller/binding-creators/boolean-monitor.ts":
/*!********************************************************************!*\
  !*** ./src/main/js/controller/binding-creators/boolean-monitor.ts ***!
  \********************************************************************/
/*! no static exports found */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(/*! ../../binding/monitor */"./src/main/js/binding/monitor.ts"),r=n(/*! ../../converter/boolean */"./src/main/js/converter/boolean.ts"),o=n(/*! ../../formatter/boolean */"./src/main/js/formatter/boolean.ts"),a=n(/*! ../../misc/ticker/interval */"./src/main/js/misc/ticker/interval.ts"),s=n(/*! ../../misc/type-util */"./src/main/js/misc/type-util.ts"),l=n(/*! ../../model/monitor-value */"./src/main/js/model/monitor-value.ts"),c=n(/*! ../monitor-binding */"./src/main/js/controller/monitor-binding.ts"),u=n(/*! ../monitor/multi-log */"./src/main/js/controller/monitor/multi-log.ts"),h=n(/*! ../monitor/single-log */"./src/main/js/controller/monitor/single-log.ts");e.createTextMonitor=function(t,e,n){var f=new l.default(s.default.getOrDefault(n.count,1)),d=1===f.totalCount?new h.default(t,{formatter:new o.default,value:f}):new u.default(t,{formatter:new o.default,value:f}),p=new a.default(t,s.default.getOrDefault(n.interval,200));return new c.default(t,{binding:new i.default({reader:r.fromMixed,target:e,ticker:p,value:f}),controller:d,label:n.label||e.key})}},"./src/main/js/controller/binding-creators/color-input.ts":
/*!****************************************************************!*\
  !*** ./src/main/js/controller/binding-creators/color-input.ts ***!
  \****************************************************************/
/*! no static exports found */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(/*! ../../binding/input */"./src/main/js/binding/input.ts"),r=n(/*! ../../converter/color */"./src/main/js/converter/color.ts"),o=n(/*! ../../formatter/color */"./src/main/js/formatter/color.ts"),a=n(/*! ../../model/input-value */"./src/main/js/model/input-value.ts"),s=n(/*! ../../parser/color */"./src/main/js/parser/color.ts"),l=n(/*! ../input-binding */"./src/main/js/controller/input-binding.ts"),c=n(/*! ../input/color-swatch-text */"./src/main/js/controller/input/color-swatch-text.ts");e.create=function(t,e,n,u){var h=new a.default(n);return new l.default(t,{binding:new i.default({reader:r.fromMixed,target:e,value:h,writer:r.toString}),controller:new c.default(t,{formatter:new o.default,parser:s.default,value:h}),label:u.label||e.key})}},"./src/main/js/controller/binding-creators/input.ts":
/*!**********************************************************!*\
  !*** ./src/main/js/controller/binding-creators/input.ts ***!
  \**********************************************************/
/*! no static exports found */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(/*! ../../converter/boolean */"./src/main/js/converter/boolean.ts"),r=n(/*! ../../converter/number */"./src/main/js/converter/number.ts"),o=n(/*! ../../converter/string */"./src/main/js/converter/string.ts"),a=n(/*! ../../misc/pane-error */"./src/main/js/misc/pane-error.ts"),s=n(/*! ../../parser/color */"./src/main/js/parser/color.ts"),l=n(/*! ./boolean-input */"./src/main/js/controller/binding-creators/boolean-input.ts"),c=n(/*! ./color-input */"./src/main/js/controller/binding-creators/color-input.ts"),u=n(/*! ./number-input */"./src/main/js/controller/binding-creators/number-input.ts"),h=n(/*! ./string-input */"./src/main/js/controller/binding-creators/string-input.ts");function f(t,e){var n={label:t.label,max:t.max,min:t.min,step:t.step};if(t.options)if(Array.isArray(t.options))n.options=t.options.map((function(t){return{text:t.text,value:e(t.value)}}));else{var i=t.options,r=Object.keys(i);n.options=r.reduce((function(t,n){return t.concat({text:n,value:e(i[n])})}),[])}return n}e.create=function(t,e,n){var d=e.read();if(null==d)throw new a.default({context:{key:e.key},type:"emptyvalue"});if("boolean"==typeof d)return l.create(t,e,f(n,i.fromMixed));if("number"==typeof d)return u.create(t,e,f(n,r.fromMixed));if("string"==typeof d){var p=s.default(d);return p?c.create(t,e,p,n):h.create(t,e,f(n,o.fromMixed))}throw new a.default({context:{key:e.key},type:"nomatchingcontroller"})}},"./src/main/js/controller/binding-creators/monitor.ts":
/*!************************************************************!*\
  !*** ./src/main/js/controller/binding-creators/monitor.ts ***!
  \************************************************************/
/*! no static exports found */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(/*! ../../misc/pane-error */"./src/main/js/misc/pane-error.ts"),r=n(/*! ./boolean-monitor */"./src/main/js/controller/binding-creators/boolean-monitor.ts"),o=n(/*! ./number-monitor */"./src/main/js/controller/binding-creators/number-monitor.ts"),a=n(/*! ./string-monitor */"./src/main/js/controller/binding-creators/string-monitor.ts");e.create=function(t,e,n){var s=e.read();if(null==s)throw new i.default({context:{key:e.key},type:"emptyvalue"});if("number"==typeof s)return"graph"===n.type?o.createGraphMonitor(t,e,n):o.createTextMonitor(t,e,n);if("string"==typeof s)return a.createTextMonitor(t,e,n);if("boolean"==typeof s)return r.createTextMonitor(t,e,n);throw new i.default({context:{key:e.key},type:"nomatchingcontroller"})}},"./src/main/js/controller/binding-creators/number-input.ts":
/*!*****************************************************************!*\
  !*** ./src/main/js/controller/binding-creators/number-input.ts ***!
  \*****************************************************************/
/*! no static exports found */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(/*! ../../binding/input */"./src/main/js/binding/input.ts"),r=n(/*! ../../constraint/composite */"./src/main/js/constraint/composite.ts"),o=n(/*! ../../constraint/list */"./src/main/js/constraint/list.ts"),a=n(/*! ../../constraint/range */"./src/main/js/constraint/range.ts"),s=n(/*! ../../constraint/step */"./src/main/js/constraint/step.ts"),l=n(/*! ../../constraint/util */"./src/main/js/constraint/util.ts"),c=n(/*! ../../converter/number */"./src/main/js/converter/number.ts"),u=n(/*! ../../formatter/number */"./src/main/js/formatter/number.ts"),h=n(/*! ../../misc/number-util */"./src/main/js/misc/number-util.ts"),f=n(/*! ../../model/input-value */"./src/main/js/model/input-value.ts"),d=n(/*! ../../parser/number */"./src/main/js/parser/number.ts"),p=n(/*! ../input-binding */"./src/main/js/controller/input-binding.ts"),v=n(/*! ../input/list */"./src/main/js/controller/input/list.ts"),g=n(/*! ../input/number-text */"./src/main/js/controller/input/number-text.ts"),y=n(/*! ../input/slider-text */"./src/main/js/controller/input/slider-text.ts");function m(t){var e=t.constraint,n=e&&l.default.findConstraint(e,s.default);return n?h.default.getDecimalDigits(n.step):Math.max(h.default.getDecimalDigits(t.rawValue),2)}function b(t,e){var n=e.constraint;return n&&l.default.findConstraint(n,o.default)?new v.default(t,{stringifyValue:c.toString,value:e}):n&&l.default.findConstraint(n,a.default)?new y.default(t,{formatter:new u.default(m(e)),parser:d.default,value:e}):new g.default(t,{formatter:new u.default(m(e)),parser:d.default,value:e})}e.create=function(t,e,n){var l=new f.default(0,function(t){var e=[];return null!==t.step&&void 0!==t.step&&e.push(new s.default({step:t.step})),(null!==t.max&&void 0!==t.max||null!==t.min&&void 0!==t.min)&&e.push(new a.default({max:t.max,min:t.min})),t.options&&e.push(new o.default({options:t.options})),new r.default({constraints:e})}(n)),u=new i.default({reader:c.fromMixed,target:e,value:l,writer:function(t){return t}});return new p.default(t,{binding:u,controller:b(t,l),label:n.label||e.key})}},"./src/main/js/controller/binding-creators/number-monitor.ts":
/*!*******************************************************************!*\
  !*** ./src/main/js/controller/binding-creators/number-monitor.ts ***!
  \*******************************************************************/
/*! no static exports found */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(/*! ../../binding/monitor */"./src/main/js/binding/monitor.ts"),r=n(/*! ../../converter/number */"./src/main/js/converter/number.ts"),o=n(/*! ../../formatter/number */"./src/main/js/formatter/number.ts"),a=n(/*! ../../misc/ticker/interval */"./src/main/js/misc/ticker/interval.ts"),s=n(/*! ../../misc/type-util */"./src/main/js/misc/type-util.ts"),l=n(/*! ../../model/monitor-value */"./src/main/js/model/monitor-value.ts"),c=n(/*! ../monitor-binding */"./src/main/js/controller/monitor-binding.ts"),u=n(/*! ../monitor/graph */"./src/main/js/controller/monitor/graph.ts"),h=n(/*! ../monitor/multi-log */"./src/main/js/controller/monitor/multi-log.ts"),f=n(/*! ../monitor/single-log */"./src/main/js/controller/monitor/single-log.ts");function d(){return new o.default(2)}e.createTextMonitor=function(t,e,n){var o=new l.default(s.default.getOrDefault(n.count,1)),u=1===o.totalCount?new f.default(t,{formatter:d(),value:o}):new h.default(t,{formatter:d(),value:o}),p=new a.default(t,s.default.getOrDefault(n.interval,200));return new c.default(t,{binding:new i.default({reader:r.fromMixed,target:e,ticker:p,value:o}),controller:u,label:n.label||e.key})},e.createGraphMonitor=function(t,e,n){var o=new l.default(s.default.getOrDefault(n.count,64)),h=new a.default(t,s.default.getOrDefault(n.interval,200));return new c.default(t,{binding:new i.default({reader:r.fromMixed,target:e,ticker:h,value:o}),controller:new u.default(t,{formatter:d(),maxValue:s.default.getOrDefault(n.max,100),minValue:s.default.getOrDefault(n.min,0),value:o}),label:n.label||e.key})}},"./src/main/js/controller/binding-creators/string-input.ts":
/*!*****************************************************************!*\
  !*** ./src/main/js/controller/binding-creators/string-input.ts ***!
  \*****************************************************************/
/*! no static exports found */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(/*! ../../binding/input */"./src/main/js/binding/input.ts"),r=n(/*! ../../constraint/composite */"./src/main/js/constraint/composite.ts"),o=n(/*! ../../constraint/list */"./src/main/js/constraint/list.ts"),a=n(/*! ../../constraint/util */"./src/main/js/constraint/util.ts"),s=n(/*! ../../converter/string */"./src/main/js/converter/string.ts"),l=n(/*! ../../formatter/string */"./src/main/js/formatter/string.ts"),c=n(/*! ../../model/input-value */"./src/main/js/model/input-value.ts"),u=n(/*! ../input-binding */"./src/main/js/controller/input-binding.ts"),h=n(/*! ../input/list */"./src/main/js/controller/input/list.ts"),f=n(/*! ../input/text */"./src/main/js/controller/input/text.ts");function d(t,e){var n=e.constraint;return n&&a.default.findConstraint(n,o.default)?new h.default(t,{stringifyValue:s.toString,value:e}):new f.default(t,{formatter:new l.default,parser:s.toString,value:e})}e.create=function(t,e,n){var a=new c.default("",function(t){var e=[];return t.options&&e.push(new o.default({options:t.options})),new r.default({constraints:e})}(n)),l=new i.default({reader:s.fromMixed,target:e,value:a,writer:function(t){return t}});return new u.default(t,{binding:l,controller:d(t,a),label:n.label||e.key})}},"./src/main/js/controller/binding-creators/string-monitor.ts":
/*!*******************************************************************!*\
  !*** ./src/main/js/controller/binding-creators/string-monitor.ts ***!
  \*******************************************************************/
/*! no static exports found */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(/*! ../../binding/monitor */"./src/main/js/binding/monitor.ts"),r=n(/*! ../../converter/string */"./src/main/js/converter/string.ts"),o=n(/*! ../../formatter/string */"./src/main/js/formatter/string.ts"),a=n(/*! ../../misc/ticker/interval */"./src/main/js/misc/ticker/interval.ts"),s=n(/*! ../../misc/type-util */"./src/main/js/misc/type-util.ts"),l=n(/*! ../../model/monitor-value */"./src/main/js/model/monitor-value.ts"),c=n(/*! ../monitor-binding */"./src/main/js/controller/monitor-binding.ts"),u=n(/*! ../monitor/multi-log */"./src/main/js/controller/monitor/multi-log.ts"),h=n(/*! ../monitor/single-log */"./src/main/js/controller/monitor/single-log.ts");e.createTextMonitor=function(t,e,n){var f=new l.default(s.default.getOrDefault(n.count,1)),d=f.totalCount>1||n.multiline?new u.default(t,{formatter:new o.default,value:f}):new h.default(t,{formatter:new o.default,value:f}),p=new a.default(t,s.default.getOrDefault(n.interval,200));return new c.default(t,{binding:new i.default({reader:r.fromMixed,target:e,ticker:p,value:f}),controller:d,label:n.label||e.key})}},"./src/main/js/controller/button.ts":
/*!******************************************!*\
  !*** ./src/main/js/controller/button.ts ***!
  \******************************************/
/*! no static exports found */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(/*! ../model/button */"./src/main/js/model/button.ts"),r=n(/*! ../view/button */"./src/main/js/view/button.ts"),o=function(){function t(t,e){this.onButtonClick_=this.onButtonClick_.bind(this),this.button=new i.default(e.title),this.view=new r.default(t,{button:this.button}),this.view.buttonElement.addEventListener("click",this.onButtonClick_)}return t.prototype.dispose=function(){this.view.dispose()},t.prototype.onButtonClick_=function(){this.button.click()},t}();e.default=o},"./src/main/js/controller/folder.ts":
/*!******************************************!*\
  !*** ./src/main/js/controller/folder.ts ***!
  \******************************************/
/*! no static exports found */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(/*! ../misc/dom-util */"./src/main/js/misc/dom-util.ts"),r=n(/*! ../misc/emitter */"./src/main/js/misc/emitter.ts"),o=n(/*! ../misc/type-util */"./src/main/js/misc/type-util.ts"),a=n(/*! ../model/folder */"./src/main/js/model/folder.ts"),s=n(/*! ../model/list */"./src/main/js/model/list.ts"),l=n(/*! ../view/folder */"./src/main/js/view/folder.ts"),c=n(/*! ./input-binding */"./src/main/js/controller/input-binding.ts"),u=n(/*! ./monitor-binding */"./src/main/js/controller/monitor-binding.ts"),h=function(){function t(t,e){this.onFolderChange_=this.onFolderChange_.bind(this),this.onInputChange_=this.onInputChange_.bind(this),this.onMonitorUpdate_=this.onMonitorUpdate_.bind(this),this.onTitleClick_=this.onTitleClick_.bind(this),this.onUiControllerListAppend_=this.onUiControllerListAppend_.bind(this),this.emitter=new r.default,this.folder=new a.default(e.title,o.default.getOrDefault(e.expanded,!0)),this.folder.emitter.on("change",this.onFolderChange_),this.ucList_=new s.default,this.ucList_.emitter.on("append",this.onUiControllerListAppend_),this.doc_=t,this.view=new l.default(this.doc_,{folder:this.folder}),this.view.titleElement.addEventListener("click",this.onTitleClick_)}return Object.defineProperty(t.prototype,"document",{get:function(){return this.doc_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"uiControllerList",{get:function(){return this.ucList_},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this.view.dispose()},t.prototype.computeExpandedHeight_=function(){var t=this,e=this.view.containerElement,n=0;return i.disableTransitionTemporarily(e,(function(){var r=t.folder.expanded;t.folder.expandedHeight=null,t.folder.expanded=!0,i.forceReflow(e),n=e.getBoundingClientRect().height,t.folder.expanded=r,i.forceReflow(e)})),n},t.prototype.onTitleClick_=function(){this.folder.expanded=!this.folder.expanded},t.prototype.onUiControllerListAppend_=function(t){t instanceof c.default?t.binding.value.emitter.on("change",this.onInputChange_):t instanceof u.default&&t.binding.value.emitter.on("update",this.onMonitorUpdate_),this.view.containerElement.appendChild(t.view.element),this.folder.expandedHeight=this.computeExpandedHeight_()},t.prototype.onInputChange_=function(t){this.emitter.emit("inputchange",[t])},t.prototype.onMonitorUpdate_=function(t){this.emitter.emit("monitorupdate",[t])},t.prototype.onFolderChange_=function(){this.emitter.emit("fold")},t}();e.default=h},"./src/main/js/controller/input-binding.ts":
/*!*************************************************!*\
  !*** ./src/main/js/controller/input-binding.ts ***!
  \*************************************************/
/*! no static exports found */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(/*! ../view/labeled */"./src/main/js/view/labeled.ts"),r=function(){function t(t,e){this.binding=e.binding,this.controller=e.controller,this.view=new i.default(t,{label:e.label,view:this.controller.view})}return t.prototype.dispose=function(){this.controller.dispose(),this.view.dispose()},t}();e.default=r},"./src/main/js/controller/input/checkbox.ts":
/*!**************************************************!*\
  !*** ./src/main/js/controller/input/checkbox.ts ***!
  \**************************************************/
/*! no static exports found */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(/*! ../../misc/type-util */"./src/main/js/misc/type-util.ts"),r=n(/*! ../../view/input/checkbox */"./src/main/js/view/input/checkbox.ts"),o=function(){function t(t,e){this.onInputChange_=this.onInputChange_.bind(this),this.value=e.value,this.view=new r.default(t,{value:this.value}),this.view.inputElement.addEventListener("change",this.onInputChange_)}return t.prototype.dispose=function(){this.view.dispose()},t.prototype.onInputChange_=function(t){var e=i.default.forceCast(t.currentTarget);this.value.rawValue=e.checked,this.view.update()},t}();e.default=o},"./src/main/js/controller/input/color-picker.ts":
/*!******************************************************!*\
  !*** ./src/main/js/controller/input/color-picker.ts ***!
  \******************************************************/
/*! no static exports found */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(/*! ../../constraint/composite */"./src/main/js/constraint/composite.ts"),r=n(/*! ../../constraint/range */"./src/main/js/constraint/range.ts"),o=n(/*! ../../constraint/step */"./src/main/js/constraint/step.ts"),a=n(/*! ../../formatter/number */"./src/main/js/formatter/number.ts"),s=n(/*! ../../misc/type-util */"./src/main/js/misc/type-util.ts"),l=n(/*! ../../model/color */"./src/main/js/model/color.ts"),c=n(/*! ../../model/foldable */"./src/main/js/model/foldable.ts"),u=n(/*! ../../model/input-value */"./src/main/js/model/input-value.ts"),h=n(/*! ../../parser/number */"./src/main/js/parser/number.ts"),f=n(/*! ../../view/input/color-picker */"./src/main/js/view/input/color-picker.ts"),d=n(/*! ./h-palette */"./src/main/js/controller/input/h-palette.ts"),p=n(/*! ./number-text */"./src/main/js/controller/input/number-text.ts"),v=n(/*! ./sv-palette */"./src/main/js/controller/input/sv-palette.ts"),g=new i.default({constraints:[new r.default({max:255,min:0}),new o.default({step:1})]}),y=function(){function t(t,e){var n=this;this.onInputBlur_=this.onInputBlur_.bind(this),this.onValueChange_=this.onValueChange_.bind(this),this.value=e.value,this.value.emitter.on("change",this.onValueChange_),this.foldable=new c.default,this.hPaletteIc_=new d.default(t,{value:this.value}),this.svPaletteIc_=new v.default(t,{value:this.value});var i=this.value.rawValue.getComponents(),r=[0,1,2].map((function(t){return new u.default(i[t],g)}));r.forEach((function(t,e){t.emitter.on("change",(function(t){var i=n.value.rawValue.getComponents();0!==e&&1!==e&&2!==e||(i[e]=t),n.value.rawValue=new(l.default.bind.apply(l.default,[void 0].concat(i)))}))})),this.rgbIcs_=r.map((function(e){return new p.default(t,{formatter:new a.default(0),parser:h.default,value:e})})),this.view=new f.default(t,{foldable:this.foldable,hPaletteInputView:this.hPaletteIc_.view,rgbInputViews:this.rgbIcs_.map((function(t){return t.view})),svPaletteInputView:this.svPaletteIc_.view,value:this.value}),this.view.allFocusableElements.forEach((function(t){t.addEventListener("blur",n.onInputBlur_)}))}return t.prototype.dispose=function(){this.view.dispose()},t.prototype.onInputBlur_=function(t){var e=this.view.element,n=s.default.forceCast(t.relatedTarget);n&&e.contains(n)||(this.foldable.expanded=!1)},t.prototype.onValueChange_=function(){var t=this.value.rawValue.getComponents();this.rgbIcs_.forEach((function(e,n){e.value.rawValue=t[n]}))},t}();e.default=y},"./src/main/js/controller/input/color-swatch-text.ts":
/*!***********************************************************!*\
  !*** ./src/main/js/controller/input/color-swatch-text.ts ***!
  \***********************************************************/
/*! no static exports found */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(/*! ../../view/input/color-swatch-text */"./src/main/js/view/input/color-swatch-text.ts"),r=n(/*! ../input/color-swatch */"./src/main/js/controller/input/color-swatch.ts"),o=n(/*! ./text */"./src/main/js/controller/input/text.ts"),a=function(){function t(t,e){this.value=e.value,this.swatchIc_=new r.default(t,{value:this.value}),this.textIc_=new o.default(t,{formatter:e.formatter,parser:e.parser,value:this.value}),this.view=new i.default(t,{swatchInputView:this.swatchIc_.view,textInputView:this.textIc_.view})}return t.prototype.dispose=function(){this.view.dispose()},t}();e.default=a},"./src/main/js/controller/input/color-swatch.ts":
/*!******************************************************!*\
  !*** ./src/main/js/controller/input/color-swatch.ts ***!
  \******************************************************/
/*! no static exports found */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(/*! ../../misc/type-util */"./src/main/js/misc/type-util.ts"),r=n(/*! ../../view/input/color-swatch */"./src/main/js/view/input/color-swatch.ts"),o=n(/*! ./color-picker */"./src/main/js/controller/input/color-picker.ts"),a=function(){function t(t,e){this.onButtonBlur_=this.onButtonBlur_.bind(this),this.onButtonClick_=this.onButtonClick_.bind(this),this.value=e.value,this.pickerIc_=new o.default(t,{value:this.value}),this.view=new r.default(t,{pickerInputView:this.pickerIc_.view,value:this.value}),this.view.buttonElement.addEventListener("blur",this.onButtonBlur_),this.view.buttonElement.addEventListener("click",this.onButtonClick_)}return t.prototype.dispose=function(){this.view.dispose()},t.prototype.onButtonBlur_=function(t){var e=this.view.element,n=i.default.forceCast(t.relatedTarget);n&&e.contains(n)||(this.pickerIc_.foldable.expanded=!1)},t.prototype.onButtonClick_=function(){this.pickerIc_.foldable.expanded=!this.pickerIc_.foldable.expanded},t}();e.default=a},"./src/main/js/controller/input/h-palette.ts":
/*!***************************************************!*\
  !*** ./src/main/js/controller/input/h-palette.ts ***!
  \***************************************************/
/*! no static exports found */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(/*! ../../misc/color-model */"./src/main/js/misc/color-model.ts"),r=n(/*! ../../misc/number-util */"./src/main/js/misc/number-util.ts"),o=n(/*! ../../misc/pointer-handler */"./src/main/js/misc/pointer-handler.ts"),a=n(/*! ../../model/color */"./src/main/js/model/color.ts"),s=n(/*! ../../view/input/h-palette */"./src/main/js/view/input/h-palette.ts"),l=function(){function t(t,e){this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=e.value,this.view=new s.default(t,{value:this.value}),this.ptHandler_=new o.default(t,this.view.canvasElement),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_)}return t.prototype.dispose=function(){this.view.dispose()},t.prototype.handlePointerEvent_=function(t){var e=r.default.map(t.py,0,1,0,360),n=this.value.rawValue,o=i.rgbToHsv.apply(i,n.getComponents()),s=o[1],l=o[2];this.value.rawValue=new(a.default.bind.apply(a.default,[void 0].concat(i.hsvToRgb(e,s,l)))),this.view.update()},t.prototype.onPointerDown_=function(t){this.handlePointerEvent_(t)},t.prototype.onPointerMove_=function(t){this.handlePointerEvent_(t)},t.prototype.onPointerUp_=function(t){this.handlePointerEvent_(t)},t}();e.default=l},"./src/main/js/controller/input/list.ts":
/*!**********************************************!*\
  !*** ./src/main/js/controller/input/list.ts ***!
  \**********************************************/
/*! no static exports found */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(/*! ../../constraint/list */"./src/main/js/constraint/list.ts"),r=n(/*! ../../constraint/util */"./src/main/js/constraint/util.ts"),o=n(/*! ../../misc/type-util */"./src/main/js/misc/type-util.ts"),a=n(/*! ../../view/input/list */"./src/main/js/view/input/list.ts"),s=function(){function t(t,e){var n,o;this.onSelectChange_=this.onSelectChange_.bind(this),this.value_=e.value,this.listItems_=(n=this.value_,((o=n.constraint?r.default.findConstraint(n.constraint,i.default):null)?o.options:null)||[]),this.view_=new a.default(t,{options:this.listItems_,stringifyValue:e.stringifyValue,value:this.value_}),this.view_.selectElement.addEventListener("change",this.onSelectChange_)}return Object.defineProperty(t.prototype,"value",{get:function(){return this.value_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"view",{get:function(){return this.view_},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this.view.dispose()},t.prototype.onSelectChange_=function(t){var e=o.default.forceCast(t.currentTarget).selectedOptions.item(0);if(e){var n=Number(e.dataset.index);this.value_.rawValue=this.listItems_[n].value,this.view_.update()}},t}();e.default=s},"./src/main/js/controller/input/number-text.ts":
/*!*****************************************************!*\
  !*** ./src/main/js/controller/input/number-text.ts ***!
  \*****************************************************/
/*! no static exports found */function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(/*! ../../constraint/step */"./src/main/js/constraint/step.ts"),a=n(/*! ../../constraint/util */"./src/main/js/constraint/util.ts"),s=n(/*! ../../misc/type-util */"./src/main/js/misc/type-util.ts");function l(t){var e=function(t){var e=t.constraint?a.default.findConstraint(t.constraint,o.default):null;return e?e.step:null}(t);return s.default.getOrDefault(e,1)}var c=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.onInputKeyDown_=i.onInputKeyDown_.bind(i),i.step_=l(i.value),i.view.inputElement.addEventListener("keydown",i.onInputKeyDown_),i}return r(e,t),e.prototype.dispose=function(){this.view.dispose()},e.prototype.onInputKeyDown_=function(t){var e=this.step_*(t.altKey?.1:1)*(t.shiftKey?10:1);38===t.keyCode?(this.value.rawValue+=e,this.view.update()):40===t.keyCode&&(this.value.rawValue-=e,this.view.update())},e}(n(/*! ./text */"./src/main/js/controller/input/text.ts").default);e.default=c},"./src/main/js/controller/input/slider-text.ts":
/*!*****************************************************!*\
  !*** ./src/main/js/controller/input/slider-text.ts ***!
  \*****************************************************/
/*! no static exports found */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(/*! ../../view/input/slider-text */"./src/main/js/view/input/slider-text.ts"),r=n(/*! ./number-text */"./src/main/js/controller/input/number-text.ts"),o=n(/*! ./slider */"./src/main/js/controller/input/slider.ts"),a=function(){function t(t,e){this.value_=e.value,this.sliderIc_=new o.default(t,{value:e.value}),this.textIc_=new r.default(t,{formatter:e.formatter,parser:e.parser,value:e.value}),this.view_=new i.default(t,{sliderInputView:this.sliderIc_.view,textInputView:this.textIc_.view})}return Object.defineProperty(t.prototype,"value",{get:function(){return this.value_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"view",{get:function(){return this.view_},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this.view.dispose()},t}();e.default=a},"./src/main/js/controller/input/slider.ts":
/*!************************************************!*\
  !*** ./src/main/js/controller/input/slider.ts ***!
  \************************************************/
/*! no static exports found */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(/*! ../../constraint/range */"./src/main/js/constraint/range.ts"),r=n(/*! ../../constraint/util */"./src/main/js/constraint/util.ts"),o=n(/*! ../../misc/number-util */"./src/main/js/misc/number-util.ts"),a=n(/*! ../../misc/pointer-handler */"./src/main/js/misc/pointer-handler.ts"),s=n(/*! ../../misc/type-util */"./src/main/js/misc/type-util.ts"),l=n(/*! ../../view/input/slider */"./src/main/js/view/input/slider.ts");function c(t){var e=function(t){var e=t.constraint?r.default.findConstraint(t.constraint,i.default):null;return e?[e.minValue,e.maxValue]:[void 0,void 0]}(t),n=e[0],o=e[1];return[s.default.getOrDefault(n,0),s.default.getOrDefault(o,100)]}var u=function(){function t(t,e){this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=e.value;var n=c(this.value),i=n[0],r=n[1];this.minValue_=i,this.maxValue_=r,this.view=new l.default(t,{maxValue:this.maxValue_,minValue:this.minValue_,value:this.value}),this.ptHandler_=new a.default(t,this.view.outerElement),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_)}return t.prototype.dispose=function(){this.view.dispose()},t.prototype.onPointerDown_=function(t){this.value.rawValue=o.default.map(t.px,0,1,this.minValue_,this.maxValue_),this.view.update()},t.prototype.onPointerMove_=function(t){this.value.rawValue=o.default.map(t.px,0,1,this.minValue_,this.maxValue_),this.view.update()},t.prototype.onPointerUp_=function(t){this.value.rawValue=o.default.map(t.px,0,1,this.minValue_,this.maxValue_),this.view.update()},t}();e.default=u},"./src/main/js/controller/input/sv-palette.ts":
/*!****************************************************!*\
  !*** ./src/main/js/controller/input/sv-palette.ts ***!
  \****************************************************/
/*! no static exports found */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(/*! ../../misc/color-model */"./src/main/js/misc/color-model.ts"),r=n(/*! ../../misc/number-util */"./src/main/js/misc/number-util.ts"),o=n(/*! ../../misc/pointer-handler */"./src/main/js/misc/pointer-handler.ts"),a=n(/*! ../../model/color */"./src/main/js/model/color.ts"),s=n(/*! ../../view/input/sv-palette */"./src/main/js/view/input/sv-palette.ts"),l=function(){function t(t,e){this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=e.value,this.view=new s.default(t,{value:this.value}),this.ptHandler_=new o.default(t,this.view.canvasElement),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_)}return t.prototype.dispose=function(){this.view.dispose()},t.prototype.handlePointerEvent_=function(t){var e=r.default.map(t.px,0,1,0,100),n=r.default.map(t.py,0,1,100,0),o=this.value.rawValue,s=i.rgbToHsv.apply(i,o.getComponents())[0];this.value.rawValue=new(a.default.bind.apply(a.default,[void 0].concat(i.hsvToRgb(s,e,n)))),this.view.update()},t.prototype.onPointerDown_=function(t){this.handlePointerEvent_(t)},t.prototype.onPointerMove_=function(t){this.handlePointerEvent_(t)},t.prototype.onPointerUp_=function(t){this.handlePointerEvent_(t)},t}();e.default=l},"./src/main/js/controller/input/text.ts":
/*!**********************************************!*\
  !*** ./src/main/js/controller/input/text.ts ***!
  \**********************************************/
/*! no static exports found */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(/*! ../../misc/type-util */"./src/main/js/misc/type-util.ts"),r=n(/*! ../../view/input/text */"./src/main/js/view/input/text.ts"),o=function(){function t(t,e){this.onInputChange_=this.onInputChange_.bind(this),this.parser_=e.parser,this.value=e.value,this.view=new r.default(t,{formatter:e.formatter,value:this.value}),this.view.inputElement.addEventListener("change",this.onInputChange_)}return t.prototype.dispose=function(){this.view.dispose()},t.prototype.onInputChange_=function(t){var e=this,n=i.default.forceCast(t.currentTarget).value;i.default.ifNotEmpty(this.parser_(n),(function(t){e.value.rawValue=t})),this.view.update()},t}();e.default=o},"./src/main/js/controller/monitor-binding.ts":
/*!***************************************************!*\
  !*** ./src/main/js/controller/monitor-binding.ts ***!
  \***************************************************/
/*! no static exports found */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(/*! ../view/labeled */"./src/main/js/view/labeled.ts"),r=function(){function t(t,e){this.binding=e.binding,this.controller=e.controller,this.view=new i.default(t,{label:e.label,view:this.controller.view})}return t.prototype.dispose=function(){this.binding.dispose(),this.controller.dispose(),this.view.dispose()},t}();e.default=r},"./src/main/js/controller/monitor/graph.ts":
/*!*************************************************!*\
  !*** ./src/main/js/controller/monitor/graph.ts ***!
  \*************************************************/
/*! no static exports found */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(/*! ../../misc/number-util */"./src/main/js/misc/number-util.ts"),r=n(/*! ../../model/graph-cursor */"./src/main/js/model/graph-cursor.ts"),o=n(/*! ../../view/monitor/graph */"./src/main/js/view/monitor/graph.ts"),a=function(){function t(t,e){this.onGraphMouseLeave_=this.onGraphMouseLeave_.bind(this),this.onGraphMouseMove_=this.onGraphMouseMove_.bind(this),this.value=e.value,this.cursor_=new r.default,this.view=new o.default(t,{cursor:this.cursor_,formatter:e.formatter,maxValue:e.maxValue,minValue:e.minValue,value:this.value}),this.view.graphElement.addEventListener("mouseleave",this.onGraphMouseLeave_),this.view.graphElement.addEventListener("mousemove",this.onGraphMouseMove_)}return t.prototype.dispose=function(){this.view.dispose()},t.prototype.onGraphMouseLeave_=function(){this.cursor_.index=-1},t.prototype.onGraphMouseMove_=function(t){var e=this.view.graphElement.getBoundingClientRect(),n=t.offsetX;this.cursor_.index=Math.floor(i.default.map(n,0,e.width,0,this.value.totalCount))},t}();e.default=a},"./src/main/js/controller/monitor/multi-log.ts":
/*!*****************************************************!*\
  !*** ./src/main/js/controller/monitor/multi-log.ts ***!
  \*****************************************************/
/*! no static exports found */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(/*! ../../view/monitor/multi-log */"./src/main/js/view/monitor/multi-log.ts"),r=function(){function t(t,e){this.value=e.value,this.view=new i.default(t,{formatter:e.formatter,value:this.value})}return t.prototype.dispose=function(){this.view.dispose()},t}();e.default=r},"./src/main/js/controller/monitor/single-log.ts":
/*!******************************************************!*\
  !*** ./src/main/js/controller/monitor/single-log.ts ***!
  \******************************************************/
/*! no static exports found */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(/*! ../../view/monitor/single-log */"./src/main/js/view/monitor/single-log.ts"),r=function(){function t(t,e){this.value=e.value,this.view=new i.default(t,{formatter:e.formatter,value:this.value})}return t.prototype.dispose=function(){this.view.dispose()},t}();e.default=r},"./src/main/js/controller/root.ts":
/*!****************************************!*\
  !*** ./src/main/js/controller/root.ts ***!
  \****************************************/
/*! no static exports found */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(/*! ../misc/emitter */"./src/main/js/misc/emitter.ts"),r=n(/*! ../misc/type-util */"./src/main/js/misc/type-util.ts"),o=n(/*! ../model/folder */"./src/main/js/model/folder.ts"),a=n(/*! ../model/list */"./src/main/js/model/list.ts"),s=n(/*! ../view/root */"./src/main/js/view/root.ts"),l=n(/*! ./folder */"./src/main/js/controller/folder.ts"),c=n(/*! ./input-binding */"./src/main/js/controller/input-binding.ts"),u=n(/*! ./monitor-binding */"./src/main/js/controller/monitor-binding.ts"),h=function(){function t(t,e){this.onFolderChange_=this.onFolderChange_.bind(this),this.onRootFolderChange_=this.onRootFolderChange_.bind(this),this.onTitleClick_=this.onTitleClick_.bind(this),this.onUiControllerListAppend_=this.onUiControllerListAppend_.bind(this),this.onInputChange_=this.onInputChange_.bind(this),this.onMonitorUpdate_=this.onMonitorUpdate_.bind(this),this.emitter=new i.default,this.folder=function(t){return t.title?new o.default(t.title,r.default.getOrDefault(t.expanded,!0)):null}(e),this.ucList_=new a.default,this.ucList_.emitter.on("append",this.onUiControllerListAppend_),this.doc_=t,this.view=new s.default(this.doc_,{folder:this.folder}),this.view.titleElement&&this.view.titleElement.addEventListener("click",this.onTitleClick_),this.folder&&this.folder.emitter.on("change",this.onRootFolderChange_)}return Object.defineProperty(t.prototype,"document",{get:function(){return this.doc_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"uiControllerList",{get:function(){return this.ucList_},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this.view.dispose()},t.prototype.onUiControllerListAppend_=function(t){if(t instanceof c.default)(e=t.binding.value.emitter).on("change",this.onInputChange_);else if(t instanceof u.default)(e=t.binding.value.emitter).on("update",this.onMonitorUpdate_);else if(t instanceof l.default){var e;(e=t.emitter).on("fold",this.onFolderChange_),e.on("inputchange",this.onInputChange_),e.on("monitorupdate",this.onMonitorUpdate_)}this.view.containerElement.appendChild(t.view.element)},t.prototype.onTitleClick_=function(){this.folder&&(this.folder.expanded=!this.folder.expanded)},t.prototype.onInputChange_=function(t){this.emitter.emit("inputchange",[t])},t.prototype.onMonitorUpdate_=function(t){this.emitter.emit("monitorupdate",[t])},t.prototype.onFolderChange_=function(){this.emitter.emit("fold")},t.prototype.onRootFolderChange_=function(){this.emitter.emit("fold")},t}();e.default=h},"./src/main/js/controller/separator.ts":
/*!*********************************************!*\
  !*** ./src/main/js/controller/separator.ts ***!
  \*********************************************/
/*! no static exports found */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(/*! ../view/separator */"./src/main/js/view/separator.ts"),r=function(){function t(t){this.view=new i.default(t)}return t.prototype.dispose=function(){this.view.dispose()},t}();e.default=r},"./src/main/js/controller/ui-util.ts":
/*!*******************************************!*\
  !*** ./src/main/js/controller/ui-util.ts ***!
  \*******************************************/
/*! no static exports found */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(/*! ./folder */"./src/main/js/controller/folder.ts");e.findControllers=function t(e,n){return e.reduce((function(e,r){return r instanceof i.default&&e.push.apply(e,t(r.uiControllerList.items,n)),r instanceof n&&e.push(r),e}),[])}},"./src/main/js/converter/boolean.ts":
/*!******************************************!*\
  !*** ./src/main/js/converter/boolean.ts ***!
  \******************************************/
/*! no static exports found */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fromMixed=function(t){return"false"!==t&&!!t},e.toString=function(t){return String(t)}},"./src/main/js/converter/color.ts":
/*!****************************************!*\
  !*** ./src/main/js/converter/color.ts ***!
  \****************************************/
/*! no static exports found */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(/*! ../misc/number-util */"./src/main/js/misc/number-util.ts"),r=n(/*! ../model/color */"./src/main/js/model/color.ts"),o=n(/*! ../parser/color */"./src/main/js/parser/color.ts");e.fromMixed=function(t){if("string"==typeof t){var e=o.default(t);if(e)return e}return new r.default(0,0,0)},e.toString=function(t){return"#"+t.getComponents().map((function(t){var e=i.default.constrain(Math.floor(t),0,255).toString(16);return 1===e.length?"0"+e:e})).join("")}},"./src/main/js/converter/number.ts":
/*!*****************************************!*\
  !*** ./src/main/js/converter/number.ts ***!
  \*****************************************/
/*! no static exports found */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(/*! ../parser/number */"./src/main/js/parser/number.ts");e.fromMixed=function(t){if("number"==typeof t)return t;if("string"==typeof t){var e=i.default(t);if(null!=e)return e}return 0},e.toString=function(t){return String(t)}},"./src/main/js/converter/string.ts":
/*!*****************************************!*\
  !*** ./src/main/js/converter/string.ts ***!
  \*****************************************/
/*! no static exports found */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fromMixed=function(t){return String(t)},e.toString=function(t){return t}},"./src/main/js/formatter/boolean.ts":
/*!******************************************!*\
  !*** ./src/main/js/formatter/boolean.ts ***!
  \******************************************/
/*! no static exports found */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(/*! ../converter/boolean */"./src/main/js/converter/boolean.ts"),r=function(){function t(){}return t.prototype.format=function(t){return i.toString(t)},t}();e.default=r},"./src/main/js/formatter/color.ts":
/*!****************************************!*\
  !*** ./src/main/js/formatter/color.ts ***!
  \****************************************/
/*! no static exports found */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(/*! ../converter/color */"./src/main/js/converter/color.ts"),r=n(/*! ../misc/number-util */"./src/main/js/misc/number-util.ts"),o=function(){function t(){}return t.rgb=function(t,e,n){return"rgb("+[r.default.constrain(Math.floor(t),0,255),r.default.constrain(Math.floor(e),0,255),r.default.constrain(Math.floor(n),0,255)].join(", ")+")"},t.hsl=function(t,e,n){return"hsl("+[(Math.floor(t)%360+360)%360,r.default.constrain(Math.floor(e),0,100)+"%",r.default.constrain(Math.floor(n),0,100)+"%"].join(", ")+")"},t.prototype.format=function(t){return i.toString(t)},t}();e.default=o},"./src/main/js/formatter/number.ts":
/*!*****************************************!*\
  !*** ./src/main/js/formatter/number.ts ***!
  \*****************************************/
/*! no static exports found */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t){this.digits_=t}return Object.defineProperty(t.prototype,"digits",{get:function(){return this.digits_},enumerable:!0,configurable:!0}),t.prototype.format=function(t){return t.toFixed(this.digits_)},t}();e.default=i},"./src/main/js/formatter/string.ts":
/*!*****************************************!*\
  !*** ./src/main/js/formatter/string.ts ***!
  \*****************************************/
/*! no static exports found */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){}return t.prototype.format=function(t){return t},t}();e.default=i},"./src/main/js/index.ts":
/*!******************************!*\
  !*** ./src/main/js/index.ts ***!
  \******************************/
/*! no static exports found */function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(/*! ../sass/bundle.scss */"./src/main/sass/bundle.scss"),a=function(t){function e(e){var n=t.call(this,e)||this;return function(t){if(!t.querySelector("style[data-for=tweakpane]")){var e=t.createElement("style");e.dataset.for="tweakpane",e.textContent=o.toString(),t.head&&t.head.appendChild(e)}}(n.document),n}return r(e,t),e}(n(/*! ./tweakpane-without-style */"./src/main/js/tweakpane-without-style.ts").default);e.default=a},"./src/main/js/misc/class-name.ts":
/*!****************************************!*\
  !*** ./src/main/js/misc/class-name.ts ***!
  \****************************************/
/*! no static exports found */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i="tp",r={"":"v",input:"iv",monitor:"mv"};e.default=function(t,e){var n=r[e||""];return function(e,r){return[i,"-",t,n,e?"_"+e:"",r?"-"+r:""].join("")}}},"./src/main/js/misc/color-model.ts":
/*!*****************************************!*\
  !*** ./src/main/js/misc/color-model.ts ***!
  \*****************************************/
/*! no static exports found */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(/*! ./number-util */"./src/main/js/misc/number-util.ts");e.rgbToHsl=function(t,e,n){var r=i.default.constrain(t/255,0,1),o=i.default.constrain(e/255,0,1),a=i.default.constrain(n/255,0,1),s=Math.max(r,o,a),l=Math.min(r,o,a),c=s-l,u=0,h=0,f=(l+s)/2;return 0!==c&&(h=f>.5?c/(2-l-s):c/(s+l),u=(u=r===s?(o-a)/c:o===s?2+(a-r)/c:4+(r-o)/c)/6+(u<0?1:0)),[360*u,100*h,100*f]},e.hslToRgb=function(t,e,n){var r,o,a,s,l,c,u,h,f,d=(t%360+360)%360,p=i.default.constrain(e/100,0,1),v=i.default.constrain(n/100,0,1),g=(1-Math.abs(2*v-1))*p,y=g*(1-Math.abs(d/60%2-1)),m=v-g/2;return d>=0&&d<60?(u=(r=[g,y,0])[0],h=r[1],f=r[2]):d>=60&&d<120?(u=(o=[y,g,0])[0],h=o[1],f=o[2]):d>=120&&d<180?(u=(a=[0,g,y])[0],h=a[1],f=a[2]):d>=180&&d<240?(u=(s=[0,y,g])[0],h=s[1],f=s[2]):d>=240&&d<300?(u=(l=[y,0,g])[0],h=l[1],f=l[2]):(u=(c=[g,0,y])[0],h=c[1],f=c[2]),[255*(u+m),255*(h+m),255*(f+m)]},e.rgbToHsv=function(t,e,n){var r=i.default.constrain(t/255,0,1),o=i.default.constrain(e/255,0,1),a=i.default.constrain(n/255,0,1),s=Math.max(r,o,a),l=s-Math.min(r,o,a);return[0===l?0:s===r?((o-a)/l%6+6)%6*60:s===o?60*((a-r)/l+2):60*((r-o)/l+4),100*(0===s?0:l/s),100*s]},e.hsvToRgb=function(t,e,n){var r,o,a,s,l,c,u,h,f,d=(t%360+360)%360,p=i.default.constrain(e/100,0,1),v=i.default.constrain(n/100,0,1),g=v*p,y=g*(1-Math.abs(d/60%2-1)),m=v-g;return d>=0&&d<60?(u=(r=[g,y,0])[0],h=r[1],f=r[2]):d>=60&&d<120?(u=(o=[y,g,0])[0],h=o[1],f=o[2]):d>=120&&d<180?(u=(a=[0,g,y])[0],h=a[1],f=a[2]):d>=180&&d<240?(u=(s=[0,y,g])[0],h=s[1],f=s[2]):d>=240&&d<300?(u=(l=[y,0,g])[0],h=l[1],f=l[2]):(u=(c=[g,0,y])[0],h=c[1],f=c[2]),[255*(u+m),255*(h+m),255*(f+m)]}},"./src/main/js/misc/disposing-util.ts":
/*!********************************************!*\
  !*** ./src/main/js/misc/disposing-util.ts ***!
  \********************************************/
/*! no static exports found */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.disposeElement=function(t){return t&&t.parentElement&&t.parentElement.removeChild(t),null}},"./src/main/js/misc/dom-util.ts":
/*!**************************************!*\
  !*** ./src/main/js/misc/dom-util.ts ***!
  \**************************************/
/*! no static exports found */function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var i=n(/*! ./type-util */"./src/main/js/misc/type-util.ts");e.forceReflow=function(t){t.offsetHeight},e.disableTransitionTemporarily=function(t,e){var n=t.style.transition;t.style.transition="none",e(),t.style.transition=n},e.supportsTouch=function(t){return void 0!==t.ontouchstart},e.getWindowDocument=function(){return i.default.forceCast(new Function("return this")()).document},e.getCanvasContext=function(e){return t.browser?e.getContext("2d"):null}}).call(this,n(/*! ./../../../../node_modules/process/browser.js */"./node_modules/process/browser.js"))},"./src/main/js/misc/emitter.ts":
/*!*************************************!*\
  !*** ./src/main/js/misc/emitter.ts ***!
  \*************************************/
/*! no static exports found */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){this.observers_={}}return t.prototype.on=function(t,e){var n=this.observers_[t];return n||(n=this.observers_[t]=[]),n.push({handler:e}),this},t.prototype.off=function(t,e){var n=this.observers_[t];return n&&(this.observers_[t]=n.filter((function(t){return t.handler!==e}))),this},t.prototype.emit=function(t,e){var n=this.observers_[t];n&&n.forEach((function(t){var n=e||[];t.handler.apply(t,n)}))},t}();e.default=i},"./src/main/js/misc/number-util.ts":
/*!*****************************************!*\
  !*** ./src/main/js/misc/number-util.ts ***!
  \*****************************************/
/*! no static exports found */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={map:function(t,e,n,i,r){return i+(t-e)/(n-e)*(r-i)},getDecimalDigits:function(t){return String(t.toFixed(10)).split(".")[1].replace(/0+$/,"").length},constrain:function(t,e,n){return Math.min(Math.max(t,e),n)}};e.default=i},"./src/main/js/misc/pane-error.ts":
/*!****************************************!*\
  !*** ./src/main/js/misc/pane-error.ts ***!
  \****************************************/
/*! no static exports found */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t){this.message=function(t){return"alreadydisposed"===t.type?"View has been already disposed":"emptyvalue"===t.type?"Value is empty for "+t.context.key:"invalidparams"===t.type?"Invalid parameters for "+t.context.name:"nomatchingcontroller"===t.type?"No matching controller for "+t.context.key:"shouldneverhappen"===t.type?"This error should never happen":"Unexpected error"}(t),this.name=this.constructor.name,this.stack=new Error(this.message).stack,this.type=t.type}return t.alreadyDisposed=function(){return new t({type:"alreadydisposed"})},t.shouldNeverHappen=function(){return new t({type:"shouldneverhappen"})},t}();e.default=i,i.prototype=Object.create(Error.prototype),i.prototype.constructor=i},"./src/main/js/misc/pointer-handler.ts":
/*!*********************************************!*\
  !*** ./src/main/js/misc/pointer-handler.ts ***!
  \*********************************************/
/*! no static exports found */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(/*! ./dom-util */"./src/main/js/misc/dom-util.ts"),r=n(/*! ./emitter */"./src/main/js/misc/emitter.ts"),o=function(){function t(t,e){this.onDocumentMouseMove_=this.onDocumentMouseMove_.bind(this),this.onDocumentMouseUp_=this.onDocumentMouseUp_.bind(this),this.onMouseDown_=this.onMouseDown_.bind(this),this.onTouchMove_=this.onTouchMove_.bind(this),this.onTouchStart_=this.onTouchStart_.bind(this),this.document=t,this.element=e,this.emitter=new r.default,this.pressed_=!1,i.supportsTouch(this.document)?(e.addEventListener("touchstart",this.onTouchStart_),e.addEventListener("touchmove",this.onTouchMove_)):(e.addEventListener("mousedown",this.onMouseDown_),this.document.addEventListener("mousemove",this.onDocumentMouseMove_),this.document.addEventListener("mouseup",this.onDocumentMouseUp_))}return t.prototype.computePosition_=function(t,e){var n=this.element.getBoundingClientRect();return{px:t/n.width,py:e/n.height}},t.prototype.onMouseDown_=function(t){t.preventDefault(),this.pressed_=!0,this.emitter.emit("down",[this.computePosition_(t.offsetX,t.offsetY)])},t.prototype.onDocumentMouseMove_=function(t){if(this.pressed_){var e=this.document.defaultView,n=this.element.getBoundingClientRect();this.emitter.emit("move",[this.computePosition_(t.pageX-((e&&e.scrollX||0)+n.left),t.pageY-((e&&e.scrollY||0)+n.top))])}},t.prototype.onDocumentMouseUp_=function(t){if(this.pressed_){this.pressed_=!1;var e=this.document.defaultView,n=this.element.getBoundingClientRect();this.emitter.emit("up",[this.computePosition_(t.pageX-((e&&e.scrollX||0)+n.left),t.pageY-((e&&e.scrollY||0)+n.top))])}},t.prototype.onTouchStart_=function(t){t.preventDefault();var e=t.targetTouches[0],n=this.element.getBoundingClientRect();this.emitter.emit("down",[this.computePosition_(e.clientX-n.left,e.clientY-n.top)])},t.prototype.onTouchMove_=function(t){var e=t.targetTouches[0],n=this.element.getBoundingClientRect();this.emitter.emit("move",[this.computePosition_(e.clientX-n.left,e.clientY-n.top)])},t}();e.default=o},"./src/main/js/misc/ticker/interval.ts":
/*!*********************************************!*\
  !*** ./src/main/js/misc/ticker/interval.ts ***!
  \*********************************************/
/*! no static exports found */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(/*! ../emitter */"./src/main/js/misc/emitter.ts"),r=function(){function t(t,e){var n=this;if(this.onTick_=this.onTick_.bind(this),this.onWindowBlur_=this.onWindowBlur_.bind(this),this.onWindowFocus_=this.onWindowFocus_.bind(this),this.active_=!0,this.doc_=t,this.emitter=new i.default,e<=0)this.id_=null;else{var r=this.doc_.defaultView;r&&(this.id_=r.setInterval((function(){n.active_&&n.onTick_()}),e))}}return t.prototype.dispose=function(){if(null!==this.id_){var t=this.doc_.defaultView;t&&t.clearInterval(this.id_)}this.id_=null},t.prototype.onTick_=function(){this.emitter.emit("tick")},t.prototype.onWindowBlur_=function(){this.active_=!1},t.prototype.onWindowFocus_=function(){this.active_=!0},t}();e.default=r},"./src/main/js/misc/type-util.ts":
/*!***************************************!*\
  !*** ./src/main/js/misc/type-util.ts ***!
  \***************************************/
/*! no static exports found */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={forceCast:function(t){return t},getOrDefault:function(t,e){return null!=t?t:e},ifNotEmpty:function(t,e,n){null!=t?e(t):n&&n()}};e.default=i},"./src/main/js/model/button.ts":
/*!*************************************!*\
  !*** ./src/main/js/model/button.ts ***!
  \*************************************/
/*! no static exports found */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(/*! ../misc/emitter */"./src/main/js/misc/emitter.ts"),r=function(){function t(t){this.emitter=new i.default,this.title=t}return t.prototype.click=function(){this.emitter.emit("click")},t}();e.default=r},"./src/main/js/model/color.ts":
/*!************************************!*\
  !*** ./src/main/js/model/color.ts ***!
  \************************************/
/*! no static exports found */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(/*! ../misc/emitter */"./src/main/js/misc/emitter.ts"),r=n(/*! ../misc/number-util */"./src/main/js/misc/number-util.ts");function o(t){return r.default.constrain(t,0,255)}var a=function(){function t(t,e,n){this.emitter=new i.default,this.comps_=[o(t),o(e),o(n)]}return t.prototype.getComponents=function(){return this.comps_},t.prototype.toObject=function(){return{r:this.comps_[0],g:this.comps_[1],b:this.comps_[2]}},t}();e.default=a},"./src/main/js/model/foldable.ts":
/*!***************************************!*\
  !*** ./src/main/js/model/foldable.ts ***!
  \***************************************/
/*! no static exports found */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(/*! ../misc/emitter */"./src/main/js/misc/emitter.ts"),r=function(){function t(){this.emitter=new i.default,this.expanded_=!1}return Object.defineProperty(t.prototype,"expanded",{get:function(){return this.expanded_},set:function(t){this.expanded_!==t&&(this.expanded_=t,this.emitter.emit("change"))},enumerable:!0,configurable:!0}),t}();e.default=r},"./src/main/js/model/folder.ts":
/*!*************************************!*\
  !*** ./src/main/js/model/folder.ts ***!
  \*************************************/
/*! no static exports found */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(/*! ../misc/emitter */"./src/main/js/misc/emitter.ts"),r=function(){function t(t,e){this.emitter=new i.default,this.expanded_=e,this.expandedHeight_=null,this.title=t}return Object.defineProperty(t.prototype,"expanded",{get:function(){return this.expanded_},set:function(t){this.expanded_!==t&&(this.expanded_=t,this.emitter.emit("change"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"expandedHeight",{get:function(){return this.expandedHeight_},set:function(t){this.expandedHeight_!==t&&(this.expandedHeight_=t,this.emitter.emit("change"))},enumerable:!0,configurable:!0}),t}();e.default=r},"./src/main/js/model/graph-cursor.ts":
/*!*******************************************!*\
  !*** ./src/main/js/model/graph-cursor.ts ***!
  \*******************************************/
/*! no static exports found */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(/*! ../misc/emitter */"./src/main/js/misc/emitter.ts"),r=function(){function t(){this.emitter=new i.default,this.index_=-1}return Object.defineProperty(t.prototype,"index",{get:function(){return this.index_},set:function(t){this.index_!==t&&(this.index_=t,this.emitter.emit("change",[t]))},enumerable:!0,configurable:!0}),t}();e.default=r},"./src/main/js/model/input-value.ts":
/*!******************************************!*\
  !*** ./src/main/js/model/input-value.ts ***!
  \******************************************/
/*! no static exports found */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(/*! ../misc/emitter */"./src/main/js/misc/emitter.ts"),r=function(){function t(t,e){this.constraint_=e,this.emitter=new i.default,this.rawValue_=t}return t.equalsValue=function(t,e){return t===e},Object.defineProperty(t.prototype,"constraint",{get:function(){return this.constraint_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rawValue",{get:function(){return this.rawValue_},set:function(e){var n=this.constraint_?this.constraint_.constrain(e):e;!t.equalsValue(this.rawValue_,n)&&(this.rawValue_=n,this.emitter.emit("change",[n]))},enumerable:!0,configurable:!0}),t}();e.default=r},"./src/main/js/model/list.ts":
/*!***********************************!*\
  !*** ./src/main/js/model/list.ts ***!
  \***********************************/
/*! no static exports found */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(/*! ../misc/emitter */"./src/main/js/misc/emitter.ts"),r=function(){function t(){this.emitter=new i.default,this.items_=[]}return Object.defineProperty(t.prototype,"items",{get:function(){return this.items_},enumerable:!0,configurable:!0}),t.prototype.append=function(t){this.items_.push(t),this.emitter.emit("append",[t])},t}();e.default=r},"./src/main/js/model/monitor-value.ts":
/*!********************************************!*\
  !*** ./src/main/js/model/monitor-value.ts ***!
  \********************************************/
/*! no static exports found */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(/*! ../misc/emitter */"./src/main/js/misc/emitter.ts"),r=function(){function t(t){this.emitter=new i.default,this.rawValues_=[],this.totalCount_=t}return Object.defineProperty(t.prototype,"rawValues",{get:function(){return this.rawValues_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"totalCount",{get:function(){return this.totalCount_},enumerable:!0,configurable:!0}),t.prototype.append=function(t){this.rawValues_.push(t),this.rawValues_.length>this.totalCount_&&this.rawValues_.splice(0,this.rawValues_.length-this.totalCount_),this.emitter.emit("update",[t])},t}();e.default=r},"./src/main/js/model/target.ts":
/*!*************************************!*\
  !*** ./src/main/js/model/target.ts ***!
  \*************************************/
/*! no static exports found */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(/*! ../misc/type-util */"./src/main/js/misc/type-util.ts"),r=function(){function t(t,e,n){this.obj_=t,this.key_=e,this.presetKey_=i.default.getOrDefault(n,e)}return Object.defineProperty(t.prototype,"key",{get:function(){return this.key_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"presetKey",{get:function(){return this.presetKey_},enumerable:!0,configurable:!0}),t.prototype.read=function(){return this.obj_[this.key_]},t.prototype.write=function(t){this.obj_[this.key_]=t},t}();e.default=r},"./src/main/js/parser/color.ts":
/*!*************************************!*\
  !*** ./src/main/js/parser/color.ts ***!
  \*************************************/
/*! no static exports found */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(/*! ../model/color */"./src/main/js/model/color.ts"),r=[function(t){var e=t.match(/^#?([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})$/);return e?new i.default(parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)):null},function(t){var e=t.match(/^#?([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])$/);return e?new i.default(parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)):null}];e.default=function(t){return r.reduce((function(e,n){return e||n(t)}),null)}},"./src/main/js/parser/number.ts":
/*!**************************************!*\
  !*** ./src/main/js/parser/number.ts ***!
  \**************************************/
/*! no static exports found */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=parseFloat(t);return isNaN(e)?null:e}},"./src/main/js/tweakpane-without-style.ts":
/*!************************************************!*\
  !*** ./src/main/js/tweakpane-without-style.ts ***!
  \************************************************/
/*! no static exports found */function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(/*! ./api/root */"./src/main/js/api/root.ts"),a=n(/*! ./controller/root */"./src/main/js/controller/root.ts"),s=n(/*! ./misc/class-name */"./src/main/js/misc/class-name.ts"),l=n(/*! ./misc/dom-util */"./src/main/js/misc/dom-util.ts"),c=n(/*! ./misc/pane-error */"./src/main/js/misc/pane-error.ts"),u=n(/*! ./misc/type-util */"./src/main/js/misc/type-util.ts"),h=function(t){function e(e){var n=this,i=e||{},r=u.default.getOrDefault(i.document,l.getWindowDocument()),o=new a.default(r,{title:i.title});return(n=t.call(this,o)||this).containerElem_=i.container||function(t){var e=t.createElement("div");return e.classList.add(s.default("dfw")()),t.body&&t.body.appendChild(e),e}(r),n.containerElem_.appendChild(n.element),n.doc_=r,n.usesDefaultWrapper_=!i.container,n}return r(e,t),e.prototype.dispose=function(){var e=this.containerElem_;if(!e)throw c.default.alreadyDisposed();if(this.usesDefaultWrapper_){var n=e.parentElement;n&&n.removeChild(e)}this.containerElem_=null,this.doc_=null,t.prototype.dispose.call(this)},Object.defineProperty(e.prototype,"document",{get:function(){if(!this.doc_)throw c.default.alreadyDisposed();return this.doc_},enumerable:!0,configurable:!0}),e}(o.default);e.default=h},"./src/main/js/view/button.ts":
/*!************************************!*\
  !*** ./src/main/js/view/button.ts ***!
  \************************************/
/*! no static exports found */function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(/*! ../misc/class-name */"./src/main/js/misc/class-name.ts"),a=n(/*! ../misc/disposing-util */"./src/main/js/misc/disposing-util.ts"),s=n(/*! ../misc/pane-error */"./src/main/js/misc/pane-error.ts"),l=n(/*! ./view */"./src/main/js/view/view.ts"),c=o.default("btn"),u=function(t){function e(e,n){var i=t.call(this,e)||this;i.button=n.button,i.element.classList.add(c());var r=e.createElement("button");return r.classList.add(c("b")),r.textContent=i.button.title,i.element.appendChild(r),i.buttonElem_=r,i}return r(e,t),Object.defineProperty(e.prototype,"buttonElement",{get:function(){if(!this.buttonElem_)throw s.default.alreadyDisposed();return this.buttonElem_},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this.buttonElem_=a.disposeElement(this.buttonElem_),t.prototype.dispose.call(this)},e}(l.default);e.default=u},"./src/main/js/view/folder.ts":
/*!************************************!*\
  !*** ./src/main/js/view/folder.ts ***!
  \************************************/
/*! no static exports found */function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(/*! ../misc/class-name */"./src/main/js/misc/class-name.ts"),a=n(/*! ../misc/disposing-util */"./src/main/js/misc/disposing-util.ts"),s=n(/*! ../misc/pane-error */"./src/main/js/misc/pane-error.ts"),l=n(/*! ../misc/type-util */"./src/main/js/misc/type-util.ts"),c=n(/*! ./view */"./src/main/js/view/view.ts"),u=o.default("fld"),h=function(t){function e(e,n){var i=t.call(this,e)||this;i.onFolderChange_=i.onFolderChange_.bind(i),i.folder_=n.folder,i.folder_.emitter.on("change",i.onFolderChange_),i.element.classList.add(u());var r=e.createElement("button");r.classList.add(u("t")),r.textContent=i.folder_.title,i.element.appendChild(r),i.titleElem_=r;var o=e.createElement("div");o.classList.add(u("m")),i.titleElem_.appendChild(o);var a=e.createElement("div");return a.classList.add(u("c")),i.element.appendChild(a),i.containerElem_=a,i.applyModel_(),i}return r(e,t),Object.defineProperty(e.prototype,"titleElement",{get:function(){if(!this.titleElem_)throw s.default.alreadyDisposed();return this.titleElem_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"containerElement",{get:function(){if(!this.containerElem_)throw s.default.alreadyDisposed();return this.containerElem_},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this.containerElem_=a.disposeElement(this.containerElem_),this.titleElem_=a.disposeElement(this.titleElem_),t.prototype.dispose.call(this)},e.prototype.applyModel_=function(){var t=this.containerElem_;if(!t)throw s.default.alreadyDisposed();var e=this.folder_.expanded,n=u(void 0,"expanded");e?this.element.classList.add(n):this.element.classList.remove(n),l.default.ifNotEmpty(this.folder_.expandedHeight,(function(n){var i=e?n:0;t.style.height=i+"px"}),(function(){t.style.height=e?"auto":"0px"}))},e.prototype.onFolderChange_=function(){this.applyModel_()},e}(c.default);e.default=h},"./src/main/js/view/input/checkbox.ts":
/*!********************************************!*\
  !*** ./src/main/js/view/input/checkbox.ts ***!
  \********************************************/
/*! no static exports found */function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(/*! ../../misc/class-name */"./src/main/js/misc/class-name.ts"),a=n(/*! ../../misc/disposing-util */"./src/main/js/misc/disposing-util.ts"),s=n(/*! ../../misc/pane-error */"./src/main/js/misc/pane-error.ts"),l=n(/*! ../view */"./src/main/js/view/view.ts"),c=o.default("ckb","input"),u=function(t){function e(e,n){var i=t.call(this,e)||this;i.onValueChange_=i.onValueChange_.bind(i),i.element.classList.add(c());var r=e.createElement("label");r.classList.add(c("l")),i.element.appendChild(r);var o=e.createElement("input");o.classList.add(c("i")),o.type="checkbox",r.appendChild(o),i.inputElem_=o;var a=e.createElement("div");return a.classList.add(c("m")),r.appendChild(a),n.value.emitter.on("change",i.onValueChange_),i.value=n.value,i.update(),i}return r(e,t),Object.defineProperty(e.prototype,"inputElement",{get:function(){if(!this.inputElem_)throw s.default.alreadyDisposed();return this.inputElem_},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this.inputElem_=a.disposeElement(this.inputElem_),t.prototype.dispose.call(this)},e.prototype.update=function(){if(!this.inputElem_)throw s.default.alreadyDisposed();this.inputElem_.checked=this.value.rawValue},e.prototype.onValueChange_=function(){this.update()},e}(l.default);e.default=u},"./src/main/js/view/input/color-picker.ts":
/*!************************************************!*\
  !*** ./src/main/js/view/input/color-picker.ts ***!
  \************************************************/
/*! no static exports found */function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(/*! ../../misc/class-name */"./src/main/js/misc/class-name.ts"),a=n(/*! ../view */"./src/main/js/view/view.ts"),s=o.default("clp","input"),l=function(t){function e(e,n){var i=t.call(this,e)||this;i.onFoldableChange_=i.onFoldableChange_.bind(i),i.onValueChange_=i.onValueChange_.bind(i),i.value=n.value,i.value.emitter.on("change",i.onValueChange_),i.foldable=n.foldable,i.foldable.emitter.on("change",i.onFoldableChange_),i.element.classList.add(s());var r=e.createElement("div");r.classList.add(s("pl"));var o=e.createElement("div");o.classList.add(s("sv")),i.svPaletteView_=n.svPaletteInputView,o.appendChild(i.svPaletteView_.element),r.appendChild(o);var a=e.createElement("div");a.classList.add(s("h")),i.hPaletteView_=n.hPaletteInputView,a.appendChild(i.hPaletteView_.element),r.appendChild(a),i.element.appendChild(r);var l=e.createElement("div");return l.classList.add(s("is")),i.rgbInputViews_=n.rgbInputViews,i.rgbInputViews_.forEach((function(t,n){var i=e.createElement("div");i.classList.add(s("iw"));var r=e.createElement("label");r.classList.add(s("il")),r.textContent=["R","G","B"][n],i.appendChild(r),i.appendChild(t.element),l.appendChild(i)})),i.element.appendChild(l),i.update(),i}return r(e,t),Object.defineProperty(e.prototype,"allFocusableElements",{get:function(){return[].concat(this.hPaletteView_.canvasElement,this.svPaletteView_.canvasElement,this.rgbInputViews_.map((function(t){return t.inputElement})))},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this.hPaletteView_.dispose(),this.rgbInputViews_=[],this.svPaletteView_.dispose(),t.prototype.dispose.call(this)},e.prototype.update=function(){this.foldable.expanded?this.element.classList.add(s(void 0,"expanded")):this.element.classList.remove(s(void 0,"expanded")),this.rgbInputViews_.forEach((function(t){t.update()}))},e.prototype.onValueChange_=function(){this.update()},e.prototype.onFoldableChange_=function(){this.update()},e}(a.default);e.default=l},"./src/main/js/view/input/color-swatch-text.ts":
/*!*****************************************************!*\
  !*** ./src/main/js/view/input/color-swatch-text.ts ***!
  \*****************************************************/
/*! no static exports found */function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(/*! ../../misc/class-name */"./src/main/js/misc/class-name.ts"),a=n(/*! ../view */"./src/main/js/view/view.ts"),s=o.default("cswtxt","input"),l=function(t){function e(e,n){var i=t.call(this,e)||this;i.element.classList.add(s());var r=e.createElement("div");r.classList.add(s("s")),i.swatchInputView_=n.swatchInputView,r.appendChild(i.swatchInputView_.element),i.element.appendChild(r);var o=e.createElement("div");return o.classList.add(s("t")),i.textInputView_=n.textInputView,o.appendChild(i.textInputView_.element),i.element.appendChild(o),i}return r(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.textInputView_.value},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this.swatchInputView_.dispose(),this.textInputView_.dispose(),t.prototype.dispose.call(this)},e.prototype.update=function(){this.swatchInputView_.update(),this.textInputView_.update()},e}(a.default);e.default=l},"./src/main/js/view/input/color-swatch.ts":
/*!************************************************!*\
  !*** ./src/main/js/view/input/color-swatch.ts ***!
  \************************************************/
/*! no static exports found */function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(/*! ../../converter/color */"./src/main/js/converter/color.ts"),a=n(/*! ../../misc/class-name */"./src/main/js/misc/class-name.ts"),s=n(/*! ../../misc/disposing-util */"./src/main/js/misc/disposing-util.ts"),l=n(/*! ../../misc/pane-error */"./src/main/js/misc/pane-error.ts"),c=n(/*! ../view */"./src/main/js/view/view.ts"),u=a.default("csw","input"),h=function(t){function e(e,n){var i=t.call(this,e)||this;if(null===i.element)throw l.default.alreadyDisposed();i.onValueChange_=i.onValueChange_.bind(i),n.value.emitter.on("change",i.onValueChange_),i.value=n.value,i.element.classList.add(u());var r=e.createElement("div");r.classList.add(u("sw")),i.element.appendChild(r),i.swatchElem_=r;var o=e.createElement("button");o.classList.add(u("b")),i.element.appendChild(o),i.buttonElem_=o;var a=e.createElement("div");return a.classList.add(u("p")),i.pickerView_=n.pickerInputView,a.appendChild(i.pickerView_.element),i.element.appendChild(a),i.update(),i}return r(e,t),Object.defineProperty(e.prototype,"buttonElement",{get:function(){if(null===this.buttonElem_)throw l.default.alreadyDisposed();return this.buttonElem_},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this.pickerView_.dispose(),this.buttonElem_=s.disposeElement(this.buttonElem_),this.swatchElem_=s.disposeElement(this.swatchElem_),t.prototype.dispose.call(this)},e.prototype.update=function(){if(!this.swatchElem_)throw l.default.alreadyDisposed();var t=this.value.rawValue;this.swatchElem_.style.backgroundColor=o.toString(t)},e.prototype.onValueChange_=function(){this.update()},e}(c.default);e.default=h},"./src/main/js/view/input/h-palette.ts":
/*!*********************************************!*\
  !*** ./src/main/js/view/input/h-palette.ts ***!
  \*********************************************/
/*! no static exports found */function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(/*! ../../formatter/color */"./src/main/js/formatter/color.ts"),a=n(/*! ../../misc/class-name */"./src/main/js/misc/class-name.ts"),s=n(/*! ../../misc/color-model */"./src/main/js/misc/color-model.ts"),l=n(/*! ../../misc/disposing-util */"./src/main/js/misc/disposing-util.ts"),c=n(/*! ../../misc/dom-util */"./src/main/js/misc/dom-util.ts"),u=n(/*! ../../misc/number-util */"./src/main/js/misc/number-util.ts"),h=n(/*! ../../misc/pane-error */"./src/main/js/misc/pane-error.ts"),f=n(/*! ../view */"./src/main/js/view/view.ts"),d=a.default("hpl","input"),p=function(t){function e(e,n){var i=t.call(this,e)||this;i.onValueChange_=i.onValueChange_.bind(i),i.value=n.value,i.value.emitter.on("change",i.onValueChange_),i.element.classList.add(d());var r=e.createElement("canvas");r.classList.add(d("c")),r.tabIndex=-1,i.element.appendChild(r),i.canvasElem_=r;var o=e.createElement("div");return o.classList.add(d("m")),i.element.appendChild(o),i.markerElem_=o,i.update(),i}return r(e,t),Object.defineProperty(e.prototype,"canvasElement",{get:function(){if(!this.canvasElem_)throw h.default.alreadyDisposed();return this.canvasElem_},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this.canvasElem_=l.disposeElement(this.canvasElem_),this.markerElem_=l.disposeElement(this.markerElem_),t.prototype.dispose.call(this)},e.prototype.update=function(){if(!this.markerElem_)throw h.default.alreadyDisposed();var t=c.getCanvasContext(this.canvasElement);if(t){for(var e=this.canvasElement.width,n=this.canvasElement.height,i=Math.ceil(n/64),r=0;r<64;r++){var a=u.default.map(r,0,63,0,360),l=s.hsvToRgb(a,100,100);t.fillStyle=o.default.rgb.apply(o.default,l);var f=Math.floor(u.default.map(r,0,63,0,n-i));t.fillRect(0,f,e,i)}var d=this.value.rawValue,p=s.rgbToHsv.apply(s,d.getComponents()),v=u.default.map(p[0],0,360,0,100);this.markerElem_.style.top=v+"%"}},e.prototype.onValueChange_=function(){this.update()},e}(f.default);e.default=p},"./src/main/js/view/input/list.ts":
/*!****************************************!*\
  !*** ./src/main/js/view/input/list.ts ***!
  \****************************************/
/*! no static exports found */function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(/*! ../../misc/class-name */"./src/main/js/misc/class-name.ts"),a=n(/*! ../../misc/disposing-util */"./src/main/js/misc/disposing-util.ts"),s=n(/*! ../../misc/pane-error */"./src/main/js/misc/pane-error.ts"),l=n(/*! ../view */"./src/main/js/view/view.ts"),c=o.default("lst","input"),u=function(t){function e(e,n){var i=t.call(this,e)||this;i.onValueChange_=i.onValueChange_.bind(i),i.element.classList.add(c()),i.stringifyValue_=n.stringifyValue;var r=e.createElement("select");r.classList.add(c("s")),n.options.forEach((function(t,n){var o=e.createElement("option");o.dataset.index=String(n),o.textContent=t.text,o.value=i.stringifyValue_(t.value),r.appendChild(o)})),i.element.appendChild(r),i.selectElem_=r;var o=e.createElement("div");return o.classList.add(c("m")),i.element.appendChild(o),n.value.emitter.on("change",i.onValueChange_),i.value=n.value,i.update(),i}return r(e,t),Object.defineProperty(e.prototype,"selectElement",{get:function(){if(!this.selectElem_)throw s.default.alreadyDisposed();return this.selectElem_},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this.selectElem_=a.disposeElement(this.selectElem_),t.prototype.dispose.call(this)},e.prototype.update=function(){if(!this.selectElem_)throw s.default.alreadyDisposed();this.selectElem_.value=this.stringifyValue_(this.value.rawValue)},e.prototype.onValueChange_=function(){this.update()},e}(l.default);e.default=u},"./src/main/js/view/input/slider-text.ts":
/*!***********************************************!*\
  !*** ./src/main/js/view/input/slider-text.ts ***!
  \***********************************************/
/*! no static exports found */function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(/*! ../../misc/class-name */"./src/main/js/misc/class-name.ts"),a=n(/*! ../view */"./src/main/js/view/view.ts"),s=o.default("sldtxt","input"),l=function(t){function e(e,n){var i=t.call(this,e)||this;i.element.classList.add(s());var r=e.createElement("div");r.classList.add(s("s")),i.sliderInputView_=n.sliderInputView,r.appendChild(i.sliderInputView_.element),i.element.appendChild(r);var o=e.createElement("div");return o.classList.add(s("t")),i.textInputView_=n.textInputView,o.appendChild(i.textInputView_.element),i.element.appendChild(o),i}return r(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.sliderInputView_.value},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this.sliderInputView_.dispose(),this.textInputView_.dispose(),t.prototype.dispose.call(this)},e.prototype.update=function(){this.sliderInputView_.update(),this.textInputView_.update()},e}(a.default);e.default=l},"./src/main/js/view/input/slider.ts":
/*!******************************************!*\
  !*** ./src/main/js/view/input/slider.ts ***!
  \******************************************/
/*! no static exports found */function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(/*! ../../misc/class-name */"./src/main/js/misc/class-name.ts"),a=n(/*! ../../misc/disposing-util */"./src/main/js/misc/disposing-util.ts"),s=n(/*! ../../misc/number-util */"./src/main/js/misc/number-util.ts"),l=n(/*! ../../misc/pane-error */"./src/main/js/misc/pane-error.ts"),c=n(/*! ../view */"./src/main/js/view/view.ts"),u=o.default("sld","input"),h=function(t){function e(e,n){var i=t.call(this,e)||this;i.onValueChange_=i.onValueChange_.bind(i),i.minValue_=n.minValue,i.maxValue_=n.maxValue,i.element.classList.add(u());var r=e.createElement("div");r.classList.add(u("o")),i.element.appendChild(r),i.outerElem_=r;var o=e.createElement("div");return o.classList.add(u("i")),i.outerElem_.appendChild(o),i.innerElem_=o,n.value.emitter.on("change",i.onValueChange_),i.value=n.value,i.update(),i}return r(e,t),Object.defineProperty(e.prototype,"outerElement",{get:function(){if(!this.outerElem_)throw l.default.alreadyDisposed();return this.outerElem_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"innerElement",{get:function(){if(!this.innerElem_)throw l.default.alreadyDisposed();return this.innerElem_},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this.innerElem_=a.disposeElement(this.innerElem_),this.outerElem_=a.disposeElement(this.outerElem_),t.prototype.dispose.call(this)},e.prototype.update=function(){if(!this.innerElem_)throw l.default.alreadyDisposed();var t=s.default.map(this.value.rawValue,this.minValue_,this.maxValue_,0,100);this.innerElem_.style.width=t+"%"},e.prototype.onValueChange_=function(){this.update()},e}(c.default);e.default=h},"./src/main/js/view/input/sv-palette.ts":
/*!**********************************************!*\
  !*** ./src/main/js/view/input/sv-palette.ts ***!
  \**********************************************/
/*! no static exports found */function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(/*! ../../formatter/color */"./src/main/js/formatter/color.ts"),a=n(/*! ../../misc/class-name */"./src/main/js/misc/class-name.ts"),s=n(/*! ../../misc/color-model */"./src/main/js/misc/color-model.ts"),l=n(/*! ../../misc/disposing-util */"./src/main/js/misc/disposing-util.ts"),c=n(/*! ../../misc/dom-util */"./src/main/js/misc/dom-util.ts"),u=n(/*! ../../misc/number-util */"./src/main/js/misc/number-util.ts"),h=n(/*! ../../misc/pane-error */"./src/main/js/misc/pane-error.ts"),f=n(/*! ../view */"./src/main/js/view/view.ts"),d=a.default("svp","input"),p=function(t){function e(e,n){var i=t.call(this,e)||this;i.onValueChange_=i.onValueChange_.bind(i),i.value=n.value,i.value.emitter.on("change",i.onValueChange_),i.element.classList.add(d());var r=e.createElement("canvas");r.classList.add(d("c")),r.tabIndex=-1,i.element.appendChild(r),i.canvasElem_=r;var o=e.createElement("div");return o.classList.add(d("m")),i.element.appendChild(o),i.markerElem_=o,i.update(),i}return r(e,t),Object.defineProperty(e.prototype,"canvasElement",{get:function(){if(!this.canvasElem_)throw h.default.alreadyDisposed();return this.canvasElem_},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this.canvasElem_=l.disposeElement(this.canvasElem_),this.markerElem_=l.disposeElement(this.markerElem_),t.prototype.dispose.call(this)},e.prototype.update=function(){if(!this.markerElem_)throw h.default.alreadyDisposed();var t=c.getCanvasContext(this.canvasElement);if(t){for(var e=this.value.rawValue,n=s.rgbToHsv.apply(s,e.getComponents()),i=this.canvasElement.width,r=this.canvasElement.height,a=Math.ceil(i/64),l=Math.ceil(r/64),f=0;f<64;f++)for(var d=0;d<64;d++){var p=u.default.map(d,0,63,0,100),v=u.default.map(f,0,63,100,0),g=s.hsvToRgb(n[0],p,v);t.fillStyle=o.default.rgb.apply(o.default,g);var y=Math.floor(u.default.map(d,0,63,0,i-a)),m=Math.floor(u.default.map(f,0,63,0,r-l));t.fillRect(y,m,a,l)}var b=u.default.map(n[1],0,100,0,100);this.markerElem_.style.left=b+"%";var _=u.default.map(n[2],0,100,100,0);this.markerElem_.style.top=_+"%"}},e.prototype.onValueChange_=function(){this.update()},e}(f.default);e.default=p},"./src/main/js/view/input/text.ts":
/*!****************************************!*\
  !*** ./src/main/js/view/input/text.ts ***!
  \****************************************/
/*! no static exports found */function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(/*! ../../misc/class-name */"./src/main/js/misc/class-name.ts"),a=n(/*! ../../misc/disposing-util */"./src/main/js/misc/disposing-util.ts"),s=n(/*! ../../misc/pane-error */"./src/main/js/misc/pane-error.ts"),l=n(/*! ../view */"./src/main/js/view/view.ts"),c=o.default("txt","input"),u=function(t){function e(e,n){var i=t.call(this,e)||this;i.onValueChange_=i.onValueChange_.bind(i),i.formatter_=n.formatter,i.element.classList.add(c());var r=e.createElement("input");return r.classList.add(c("i")),r.type="text",i.element.appendChild(r),i.inputElem_=r,n.value.emitter.on("change",i.onValueChange_),i.value=n.value,i.update(),i}return r(e,t),Object.defineProperty(e.prototype,"inputElement",{get:function(){if(!this.inputElem_)throw s.default.alreadyDisposed();return this.inputElem_},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this.inputElem_=a.disposeElement(this.inputElem_),t.prototype.dispose.call(this)},e.prototype.update=function(){if(!this.inputElem_)throw s.default.alreadyDisposed();this.inputElem_.value=this.formatter_.format(this.value.rawValue)},e.prototype.onValueChange_=function(){this.update()},e}(l.default);e.default=u},"./src/main/js/view/labeled.ts":
/*!*************************************!*\
  !*** ./src/main/js/view/labeled.ts ***!
  \*************************************/
/*! no static exports found */function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(/*! ../misc/class-name */"./src/main/js/misc/class-name.ts"),a=n(/*! ./view */"./src/main/js/view/view.ts"),s=o.default("lbl"),l=function(t){function e(e,n){var i=t.call(this,e)||this;i.label=n.label,i.element.classList.add(s());var r=e.createElement("div");r.classList.add(s("l")),r.textContent=i.label,i.element.appendChild(r);var o=e.createElement("div");return o.classList.add(s("v")),o.appendChild(n.view.element),i.element.appendChild(o),i}return r(e,t),e}(a.default);e.default=l},"./src/main/js/view/monitor/graph.ts":
/*!*******************************************!*\
  !*** ./src/main/js/view/monitor/graph.ts ***!
  \*******************************************/
/*! no static exports found */function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(/*! ../../misc/class-name */"./src/main/js/misc/class-name.ts"),a=n(/*! ../../misc/disposing-util */"./src/main/js/misc/disposing-util.ts"),s=n(/*! ../../misc/number-util */"./src/main/js/misc/number-util.ts"),l=n(/*! ../../misc/pane-error */"./src/main/js/misc/pane-error.ts"),c=n(/*! ../view */"./src/main/js/view/view.ts"),u="http://www.w3.org/2000/svg",h=o.default("grp","monitor"),f=function(t){function e(e,n){var i=t.call(this,e)||this;i.onCursorChange_=i.onCursorChange_.bind(i),i.onValueUpdate_=i.onValueUpdate_.bind(i),i.element.classList.add(h()),i.formatter_=n.formatter,i.minValue_=n.minValue,i.maxValue_=n.maxValue,i.cursor_=n.cursor,i.cursor_.emitter.on("change",i.onCursorChange_);var r=e.createElementNS(u,"svg");r.classList.add(h("g")),i.element.appendChild(r),i.svgElem_=r;var o=e.createElementNS(u,"polyline");i.svgElem_.appendChild(o),i.lineElem_=o;var a=e.createElement("div");return a.classList.add(h("t")),i.element.appendChild(a),i.tooltipElem_=a,n.value.emitter.on("update",i.onValueUpdate_),i.value=n.value,i.update(),i}return r(e,t),Object.defineProperty(e.prototype,"graphElement",{get:function(){if(!this.svgElem_)throw l.default.alreadyDisposed();return this.svgElem_},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this.lineElem_=a.disposeElement(this.lineElem_),this.svgElem_=a.disposeElement(this.svgElem_),this.tooltipElem_=a.disposeElement(this.tooltipElem_),t.prototype.dispose.call(this)},e.prototype.update=function(){var t=this.tooltipElem_;if(!this.lineElem_||!this.svgElem_||!t)throw l.default.alreadyDisposed();var e=this.svgElem_.getBoundingClientRect(),n=this.value.totalCount-1,i=this.minValue_,r=this.maxValue_;this.lineElem_.setAttributeNS(null,"points",this.value.rawValues.map((function(t,o){return[s.default.map(o,0,n,0,e.width),s.default.map(t,i,r,e.height,0)].join(",")})).join(" "));var o=this.value.rawValues[this.cursor_.index];if(void 0!==o){t.classList.add(h("t","valid"));var a=s.default.map(this.cursor_.index,0,n,0,e.width),c=s.default.map(o,i,r,e.height,0);t.style.left=a+"px",t.style.top=c+"px",t.textContent=""+this.formatter_.format(o)}else t.classList.remove(h("t","valid"))},e.prototype.onValueUpdate_=function(){this.update()},e.prototype.onCursorChange_=function(){this.update()},e}(c.default);e.default=f},"./src/main/js/view/monitor/multi-log.ts":
/*!***********************************************!*\
  !*** ./src/main/js/view/monitor/multi-log.ts ***!
  \***********************************************/
/*! no static exports found */function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(/*! ../../misc/class-name */"./src/main/js/misc/class-name.ts"),a=n(/*! ../../misc/disposing-util */"./src/main/js/misc/disposing-util.ts"),s=n(/*! ../../misc/pane-error */"./src/main/js/misc/pane-error.ts"),l=n(/*! ../view */"./src/main/js/view/view.ts"),c=o.default("mll","monitor"),u=function(t){function e(e,n){var i=t.call(this,e)||this;i.onValueUpdate_=i.onValueUpdate_.bind(i),i.formatter_=n.formatter,i.element.classList.add(c());var r=e.createElement("textarea");return r.classList.add(c("i")),r.readOnly=!0,i.element.appendChild(r),i.textareaElem_=r,n.value.emitter.on("update",i.onValueUpdate_),i.value=n.value,i.update(),i}return r(e,t),e.prototype.dispose=function(){this.textareaElem_=a.disposeElement(this.textareaElem_),t.prototype.dispose.call(this)},e.prototype.update=function(){var t=this,e=this.textareaElem_;if(!e)throw s.default.alreadyDisposed();var n=e.scrollTop===e.scrollHeight-e.clientHeight;e.textContent=this.value.rawValues.map((function(e){return t.formatter_.format(e)})).join("\n"),n&&(e.scrollTop=e.scrollHeight)},e.prototype.onValueUpdate_=function(){this.update()},e}(l.default);e.default=u},"./src/main/js/view/monitor/single-log.ts":
/*!************************************************!*\
  !*** ./src/main/js/view/monitor/single-log.ts ***!
  \************************************************/
/*! no static exports found */function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(/*! ../../misc/class-name */"./src/main/js/misc/class-name.ts"),a=n(/*! ../../misc/disposing-util */"./src/main/js/misc/disposing-util.ts"),s=n(/*! ../../misc/pane-error */"./src/main/js/misc/pane-error.ts"),l=n(/*! ../view */"./src/main/js/view/view.ts"),c=o.default("sgl","monitor"),u=function(t){function e(e,n){var i=t.call(this,e)||this;i.onValueUpdate_=i.onValueUpdate_.bind(i),i.formatter_=n.formatter,i.element.classList.add(c());var r=e.createElement("input");return r.classList.add(c("i")),r.readOnly=!0,r.type="text",i.element.appendChild(r),i.inputElem_=r,n.value.emitter.on("update",i.onValueUpdate_),i.value=n.value,i.update(),i}return r(e,t),e.prototype.dispose=function(){this.inputElem_=a.disposeElement(this.inputElem_),t.prototype.dispose.call(this)},e.prototype.update=function(){if(!this.inputElem_)throw s.default.alreadyDisposed();var t=this.value.rawValues;this.inputElem_.value=t.length>0?this.formatter_.format(t[t.length-1]):""},e.prototype.onValueUpdate_=function(){this.update()},e}(l.default);e.default=u},"./src/main/js/view/root.ts":
/*!**********************************!*\
  !*** ./src/main/js/view/root.ts ***!
  \**********************************/
/*! no static exports found */function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(/*! ../misc/class-name */"./src/main/js/misc/class-name.ts"),a=n(/*! ../misc/disposing-util */"./src/main/js/misc/disposing-util.ts"),s=n(/*! ../misc/pane-error */"./src/main/js/misc/pane-error.ts"),l=n(/*! ./view */"./src/main/js/view/view.ts"),c=o.default("rot"),u=function(t){function e(e,n){var i=t.call(this,e)||this;i.onFolderChange_=i.onFolderChange_.bind(i),i.folder_=n.folder,i.folder_&&i.folder_.emitter.on("change",i.onFolderChange_),i.element.classList.add(c());var r=i.folder_;if(r){var o=e.createElement("button");o.classList.add(c("t")),o.textContent=r.title,i.element.appendChild(o);var a=e.createElement("div");a.classList.add(c("m")),o.appendChild(a),i.titleElem_=o}var s=e.createElement("div");return s.classList.add(c("c")),i.element.appendChild(s),i.containerElem_=s,i.applyModel_(),i}return r(e,t),Object.defineProperty(e.prototype,"titleElement",{get:function(){return this.titleElem_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"containerElement",{get:function(){if(!this.containerElem_)throw s.default.alreadyDisposed();return this.containerElem_},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this.containerElem_=a.disposeElement(this.containerElem_),this.folder_=null,this.titleElem_=a.disposeElement(this.titleElem_),t.prototype.dispose.call(this)},e.prototype.applyModel_=function(){var t=!this.folder_||this.folder_.expanded,e=c(void 0,"expanded");t?this.element.classList.add(e):this.element.classList.remove(e)},e.prototype.onFolderChange_=function(){this.applyModel_()},e}(l.default);e.default=u},"./src/main/js/view/separator.ts":
/*!***************************************!*\
  !*** ./src/main/js/view/separator.ts ***!
  \***************************************/
/*! no static exports found */function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(/*! ../misc/class-name */"./src/main/js/misc/class-name.ts"),a=n(/*! ./view */"./src/main/js/view/view.ts"),s=o.default("spt"),l=function(t){function e(e){var n=t.call(this,e)||this;n.element.classList.add(s());var i=e.createElement("hr");return i.classList.add(s("r")),n.element.appendChild(i),n}return r(e,t),e}(a.default);e.default=l},"./src/main/js/view/view.ts":
/*!**********************************!*\
  !*** ./src/main/js/view/view.ts ***!
  \**********************************/
/*! no static exports found */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(/*! ../misc/disposing-util */"./src/main/js/misc/disposing-util.ts"),r=n(/*! ../misc/pane-error */"./src/main/js/misc/pane-error.ts"),o=function(){function t(t){this.disposed_=!1,this.doc_=t,this.elem_=this.doc_.createElement("div")}return Object.defineProperty(t.prototype,"disposed",{get:function(){return this.disposed_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"document",{get:function(){if(!this.doc_)throw r.default.alreadyDisposed();return this.doc_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"element",{get:function(){if(!this.elem_)throw r.default.alreadyDisposed();return this.elem_},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this.doc_=null,this.elem_=i.disposeElement(this.elem_),this.disposed_=!0},t}();e.default=o},"./src/main/sass/bundle.scss":
/*!***********************************!*\
  !*** ./src/main/sass/bundle.scss ***!
  \***********************************/
/*! no static exports found */function(t,e,n){(t.exports=n(/*! ../../../node_modules/css-loader/lib/css-base.js */"./node_modules/css-loader/lib/css-base.js")(!1)).push([t.i,".tp-fldv_t,.tp-rotv_t{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0;background-color:rgba(200,202,208,0.1);color:#c8cad0;cursor:pointer;display:block;height:24px;line-height:24px;overflow:hidden;padding-left:30px;position:relative;text-align:left;text-overflow:ellipsis;white-space:nowrap;width:100%}.tp-fldv_t:hover,.tp-rotv_t:hover{background-color:rgba(200,202,208,0.15)}.tp-fldv_t:focus,.tp-rotv_t:focus{background-color:rgba(200,202,208,0.2)}.tp-fldv_t:active,.tp-rotv_t:active{background-color:rgba(200,202,208,0.25)}.tp-fldv_m,.tp-rotv_m{background:linear-gradient(to left, #c8cad0, #c8cad0 2px, transparent 2px, transparent 4px, #c8cad0 4px, #c8cad0);border-radius:2px;bottom:0;content:'';display:block;height:6px;left:12px;margin:auto;position:absolute;top:0;-webkit-transform:rotate(90deg);transform:rotate(90deg);transition:-webkit-transform 0.2s ease-in-out;transition:transform 0.2s ease-in-out;transition:transform 0.2s ease-in-out, -webkit-transform 0.2s ease-in-out;width:6px}.tp-fldv.tp-fldv-expanded .tp-fldv_m,.tp-rotv.tp-rotv-expanded .tp-rotv_m{-webkit-transform:none;transform:none}.tp-fldv_c>.tp-fldv:first-child,.tp-rotv_c>.tp-fldv:first-child{margin-top:-4px}.tp-fldv_c>.tp-fldv:last-child,.tp-rotv_c>.tp-fldv:last-child{margin-bottom:-4px}.tp-fldv_c>*+*,.tp-rotv_c>*+*{margin-top:4px}.tp-fldv_c>.tp-fldv+.tp-fldv,.tp-rotv_c>.tp-fldv+.tp-fldv{margin-top:0}.tp-fldv_c>.tp-sptv+.tp-sptv,.tp-rotv_c>.tp-sptv+.tp-sptv{margin-top:0}.tp-btnv{padding:0 4px}.tp-btnv_b{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0;background-color:#adafb8;border-radius:2px;color:#2f3137;cursor:pointer;display:block;font-weight:bold;height:20px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:100%}.tp-btnv_b:hover{background-color:#bbbcc4}.tp-btnv_b:focus{background-color:#c8cad0}.tp-btnv_b:active{background-color:#d6d7db}.tp-dfwv{position:absolute;top:8px;right:8px;width:256px}.tp-fldv_c{border-left:rgba(200,202,208,0.1) solid 4px;box-sizing:border-box;height:0;opacity:0;overflow:hidden;padding-bottom:0;padding-top:0;position:relative;transition:height 0.2s ease-in-out, opacity 0.2s linear, padding 0.2s ease-in-out}.tp-fldv_t:hover+.tp-fldv_c{border-left-color:rgba(200,202,208,0.15)}.tp-fldv_t:focus+.tp-fldv_c{border-left-color:rgba(200,202,208,0.2)}.tp-fldv_t:active+.tp-fldv_c{border-left-color:rgba(200,202,208,0.25)}.tp-fldv.tp-fldv-expanded .tp-fldv_c{opacity:1;overflow:visible;padding-bottom:4px;padding-top:4px;-webkit-transform:none;transform:none;transition:height 0.2s ease-in-out, opacity 0.2s linear 0.2s, padding 0.2s ease-in-out}.tp-ckbiv_l{display:block;position:relative}.tp-ckbiv_i{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0;background:red;left:0;opacity:0;position:absolute;top:0}.tp-ckbiv_m{background-color:rgba(200,202,208,0.15);border-radius:2px;cursor:pointer;display:block;height:20px;position:relative;width:20px}.tp-ckbiv_m::before{background-color:#c8cad0;border-radius:2px;bottom:4px;content:'';display:block;left:4px;opacity:0;position:absolute;right:4px;top:4px}.tp-ckbiv_i:hover+.tp-ckbiv_m{background-color:rgba(200,202,208,0.15)}.tp-ckbiv_i:focus+.tp-ckbiv_m{background-color:rgba(200,202,208,0.25)}.tp-ckbiv_i:active+.tp-ckbiv_m{background-color:rgba(200,202,208,0.35)}.tp-ckbiv_i:checked+.tp-ckbiv_m::before{opacity:1}.tp-clpiv{background-color:#2f3137;border-radius:6px;box-shadow:0 2px 4px rgba(0,0,0,0.2);display:none;padding:4px;position:relative;visibility:hidden;z-index:1000}.tp-clpiv.tp-clpiv-expanded{display:block;visibility:visible}.tp-clpiv_pl{display:flex}.tp-clpiv_h{margin-left:4px}.tp-clpiv_is{display:flex;margin-top:4px}.tp-clpiv_iw{align-items:center;display:flex}.tp-clpiv_iw+.tp-clpiv_iw{margin-left:4px}.tp-clpiv_il{color:rgba(200,202,208,0.8);margin-left:4px;margin-right:8px}.tp-clpiv_i{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0;background-color:rgba(200,202,208,0.15);border-radius:2px;box-sizing:border-box;color:#c8cad0;font-family:inherit;height:20px;line-height:20px;width:100%;padding:0 4px;width:100%}.tp-clpiv_i:hover{background-color:rgba(200,202,208,0.15)}.tp-clpiv_i:focus{background-color:rgba(200,202,208,0.25)}.tp-clpiv_i:active{background-color:rgba(200,202,208,0.35)}.tp-hpliv{border-radius:2px;overflow:hidden;position:relative}.tp-hpliv_c{cursor:crosshair;display:block;height:80px;width:20px}.tp-hpliv_m{border-radius:100%;border:rgba(255,255,255,0.75) solid 1px;box-shadow:0 1px 2px rgba(0,0,0,0.1);height:4px;left:50%;margin-left:-3px;margin-top:-3px;pointer-events:none;position:absolute;width:4px}.tp-svpiv{border-radius:2px;overflow:hidden;position:relative}.tp-svpiv_c{cursor:crosshair;display:block;height:80px;width:100%}.tp-svpiv_m{border-radius:100%;border:rgba(255,255,255,0.75) solid 1px;box-shadow:0 1px 2px rgba(0,0,0,0.1);height:4px;margin-left:-3px;margin-top:-3px;pointer-events:none;position:absolute;width:4px}.tp-lstiv{color:#c8cad0;display:block;padding:0;position:relative}.tp-lstiv_s{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0;background-color:#adafb8;border-radius:2px;color:#2f3137;cursor:pointer;display:block;height:20px;line-height:20px;padding:0 4px;width:100%}.tp-lstiv_s:hover{background-color:#bbbcc4}.tp-lstiv_s:focus{background-color:#c8cad0}.tp-lstiv_s:active{background-color:#d6d7db}.tp-lstiv_m{border-color:#2f3137 transparent transparent;border-style:solid;border-width:3px;bottom:0;box-sizing:border-box;height:6px;margin:auto;pointer-events:none;position:absolute;right:6px;top:3px;width:6px}.tp-sldiv{color:#c8cad0;display:block;padding:0}.tp-sldiv_o{box-sizing:border-box;cursor:pointer;height:20px;margin:0 6px;position:relative}.tp-sldiv_o::before{background-color:rgba(200,202,208,0.2);border-radius:1px;bottom:0;content:'';display:block;height:2px;left:0;margin:auto;position:absolute;right:0;top:0}.tp-sldiv_i{height:100%;left:0;position:absolute;top:0}.tp-sldiv_i::before{background-color:#adafb8;border-radius:2px;bottom:0;content:'';display:block;height:12px;margin:auto;position:absolute;right:-6px;top:0;width:12px}.tp-sldiv_o:hover .tp-sldiv_i::before{background-color:#bbbcc4}.tp-sldiv_o:focus .tp-sldiv_i::before{background-color:#c8cad0}.tp-sldiv_o:active .tp-sldiv_i::before{background-color:#d6d7db}.tp-txtiv{color:#c8cad0;display:block;padding:0}.tp-txtiv_i{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0;background-color:rgba(200,202,208,0.15);border-radius:2px;box-sizing:border-box;color:#c8cad0;font-family:inherit;height:20px;line-height:20px;width:100%;padding:0 4px}.tp-txtiv_i:hover{background-color:rgba(200,202,208,0.15)}.tp-txtiv_i:focus{background-color:rgba(200,202,208,0.25)}.tp-txtiv_i:active{background-color:rgba(200,202,208,0.35)}.tp-cswiv_sw{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0;background-color:rgba(200,202,208,0.15);border-radius:2px;box-sizing:border-box;color:#c8cad0;font-family:inherit;height:20px;line-height:20px;width:100%}.tp-cswiv_sw:hover{background-color:rgba(200,202,208,0.15)}.tp-cswiv_sw:focus{background-color:rgba(200,202,208,0.25)}.tp-cswiv_sw:active{background-color:rgba(200,202,208,0.35)}.tp-cswiv_b{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-width:0;cursor:pointer;display:block;height:20px;left:0;margin:0;outline:none;padding:0;position:absolute;top:0;width:20px}.tp-cswiv_b:focus::after{border:rgba(255,255,255,0.75) solid 2px;border-radius:2px;bottom:0;content:'';display:block;left:0;position:absolute;right:0;top:0}.tp-cswiv_p{left:-4px;position:absolute;right:-4px;top:20px}.tp-cswtxtiv{display:flex;position:relative}.tp-cswtxtiv_s{flex-grow:0;flex-shrink:0;width:20px}.tp-cswtxtiv_t{flex:1;margin-left:4px}.tp-sldtxtiv{display:flex}.tp-sldtxtiv_s{flex:2}.tp-sldtxtiv_t{flex:1;margin-left:4px}.tp-lblv{align-items:center;display:flex;padding-left:4px;padding-right:4px}.tp-lblv_l{color:rgba(200,202,208,0.8);flex:1;-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto;padding-left:4px;padding-right:16px}.tp-lblv_v{flex-grow:0;flex-shrink:0;width:160px}.tp-grpmv{color:#c8cad0;display:block;padding:0;position:relative}.tp-grpmv_g{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0;background-color:rgba(24,24,27,0.5);border-radius:2px;box-sizing:border-box;color:rgba(200,202,208,0.7);height:20px;width:100%;display:block;height:60px}.tp-grpmv_g polyline{fill:none;stroke:rgba(200,202,208,0.7);stroke-linejoin:round}.tp-grpmv_t{font-size:0.9em;left:0;pointer-events:none;position:absolute;text-indent:4px;top:0;visibility:hidden}.tp-grpmv_t.tp-grpmv_t-valid{visibility:visible}.tp-grpmv_t::before{background-color:rgba(200,202,208,0.7);border-radius:100%;content:'';display:block;height:4px;left:-2px;position:absolute;top:-2px;width:4px}.tp-sglmv_i{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0;background-color:rgba(24,24,27,0.5);border-radius:2px;box-sizing:border-box;color:rgba(200,202,208,0.7);height:20px;width:100%;padding:0 4px}.tp-mllmv_i{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0;background-color:rgba(24,24,27,0.5);border-radius:2px;box-sizing:border-box;color:rgba(200,202,208,0.7);height:20px;width:100%;display:block;height:60px;line-height:20px;padding:0 4px;resize:none;white-space:pre}.tp-cswmv_sw{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0;background-color:rgba(24,24,27,0.5);border-radius:2px;box-sizing:border-box;color:rgba(200,202,208,0.7);height:20px;width:100%}.tp-rotv{background-color:#2f3137;border-radius:6px;box-shadow:0 2px 4px rgba(0,0,0,0.2);font-family:\"Roboto Mono\",\"Source Code Pro\",Menlo,Courier,monospace;font-size:11px;font-weight:500;text-align:left}.tp-rotv_t{border-top-left-radius:6px;border-top-right-radius:6px}.tp-rotv_m{transition:none}.tp-rotv_c{box-sizing:border-box;height:0;overflow:hidden;padding-bottom:0;padding-top:0}.tp-rotv_c>.tp-fldv:first-child .tp-fldv_t{border-top-left-radius:6px;border-top-right-radius:6px}.tp-rotv.tp-rotv-expanded .tp-rotv_c{height:auto;overflow:visible;padding-bottom:4px;padding-top:4px}.tp-sptv_r{background-color:rgba(24,24,27,0.3);border-width:0;display:block;height:4px;margin:0;width:100%}\n",""])}}).default},t.exports=i()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(21),r=n(27),o=n(28),a=n(29),s=n(30),l=n(31),c=n(32),u=n(15),h=n(16),f=n(17),d=n(33),p=n(34),v=n(35),g=n(36),y=n(18),m=n(37),b=n(38),_=n(39),w=n(40),x=n(41),k=n(42),C=n(43),S=n(44),O=n(45),P=n(46),j=n(47),T=n(48),E=n(49),M=n(50),A=n(51),F=n(52),D=n(53),I=n(54),R=n(55),L=n(56),G=n(57),V=n(58);e.Konva=i.Konva.Util._assign(i.Konva,{Arc:r.Arc,Arrow:o.Arrow,Circle:a.Circle,Ellipse:s.Ellipse,Image:l.Image,Label:c.Label,Tag:c.Tag,Line:u.Line,Path:h.Path,Rect:f.Rect,RegularPolygon:d.RegularPolygon,Ring:p.Ring,Sprite:v.Sprite,Star:g.Star,Text:y.Text,TextPath:m.TextPath,Transformer:b.Transformer,Wedge:_.Wedge,Filters:{Blur:w.Blur,Brighten:x.Brighten,Contrast:k.Contrast,Emboss:C.Emboss,Enhance:S.Enhance,Grayscale:O.Grayscale,HSL:P.HSL,HSV:j.HSV,Invert:T.Invert,Kaleidoscope:E.Kaleidoscope,Mask:M.Mask,Noise:A.Noise,Pixelate:F.Pixelate,Posterize:D.Posterize,RGB:I.RGB,RGBA:R.RGBA,Sepia:L.Sepia,Solarize:G.Solarize,Threshold:V.Threshold}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),r=n(3),o=n(4),a=n(7),s=n(23),l=n(24),c=n(25),u=n(10),h=n(9),f=n(5),d=n(11),p=n(26),v=n(12),g=n(8);e.Konva=r.Util._assign(i.Konva,{Collection:r.Collection,Util:r.Util,Node:o.Node,ids:o.ids,names:o.names,Container:a.Container,Stage:s.Stage,stages:s.stages,Layer:l.Layer,FastLayer:c.FastLayer,Group:u.Group,DD:h.DD,Shape:f.Shape,shapes:f.shapes,Animation:d.Animation,Tween:p.Tween,Easings:p.Easings,Context:v.Context,Canvas:g.Canvas})},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(3),a=n(0),s=n(7),l=n(1),c=n(8),u=n(9),h=n(1),f=n(13),d="_",p=["mouseenter","mousedown","mousemove","mouseup","mouseout","touchstart","touchmove","touchend","mouseover","wheel","contextmenu","pointerdown","pointermove","pointerup","pointercancel","lostpointercapture"],v=p.length;function g(t,e){t.content.addEventListener(e,(function(n){t[d+e](n)}),!1)}function y(t){return void 0===t&&(t={}),(t.clipFunc||t.clipWidth||t.clipHeight)&&o.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),t}e.stages=[];var m=function(t){function n(n){var i=t.call(this,y(n))||this;return i._pointerPositions=[],i._changedPointerPositions=[],i._buildDOM(),i._bindContentEvents(),e.stages.push(i),i.on("widthChange.konva heightChange.konva",i._resizeDOM),i.on("visibleChange.konva",i._checkVisibility),i.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",(function(){y(i.attrs)})),i._checkVisibility(),i}return r(n,t),n.prototype._validateAdd=function(t){var e="Layer"===t.getType(),n="FastLayer"===t.getType();e||n||o.Util.throw("You may only add layers to the stage.")},n.prototype._checkVisibility=function(){var t=this.visible()?"":"none";this.content.style.display=t},n.prototype.setContainer=function(t){if("string"==typeof t){if("."===t.charAt(0)){var e=t.slice(1);t=document.getElementsByClassName(e)[0]}else{var n;n="#"!==t.charAt(0)?t:t.slice(1),t=document.getElementById(n)}if(!t)throw"Can not find container in document with id "+n}return this._setAttr("container",t),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),t.appendChild(this.content)),this},n.prototype.shouldDrawHit=function(){return!0},n.prototype.clear=function(){var t,e=this.children,n=e.length;for(t=0;t<n;t++)e[t].clear();return this},n.prototype.clone=function(t){return t||(t={}),t.container=document.createElement("div"),s.Container.prototype.clone.call(this,t)},n.prototype.destroy=function(){t.prototype.destroy.call(this);var n=this.content;n&&o.Util._isInDocument(n)&&this.container().removeChild(n);var i=e.stages.indexOf(this);return i>-1&&e.stages.splice(i,1),this},n.prototype.getPointerPosition=function(){var t=this._pointerPositions[0]||this._changedPointerPositions[0];return t?{x:t.x,y:t.y}:(o.Util.warn("Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);"),null)},n.prototype._getPointerById=function(t){return this._pointerPositions.find((function(e){return e.id===t}))},n.prototype.getPointersPositions=function(){return this._pointerPositions},n.prototype.getStage=function(){return this},n.prototype.getContent=function(){return this.content},n.prototype._toKonvaCanvas=function(t){var e=(t=t||{}).x||0,n=t.y||0,i=new c.SceneCanvas({width:t.width||this.width(),height:t.height||this.height(),pixelRatio:t.pixelRatio||1}),r=i.getContext()._context,o=this.children;return(e||n)&&r.translate(-1*e,-1*n),o.each((function(i){if(i.isVisible()){var o=i._toKonvaCanvas(t);r.drawImage(o._canvas,e,n,o.getWidth()/o.getPixelRatio(),o.getHeight()/o.getPixelRatio())}})),i},n.prototype.getIntersection=function(t,e){if(!t)return null;var n,i,r=this.children;for(n=r.length-1;n>=0;n--)if(i=r[n].getIntersection(t,e))return i;return null},n.prototype._resizeDOM=function(){if(this.content){var t,e,n=this.width(),i=this.height(),r=this.getChildren(),o=r.length;for(this.content.style.width=n+"px",this.content.style.height=i+"px",this.bufferCanvas.setSize(n,i),this.bufferHitCanvas.setSize(n,i),t=0;t<o;t++)(e=r[t]).setSize({width:n,height:i}),e.draw()}},n.prototype.add=function(e){if(arguments.length>1){for(var n=0;n<arguments.length;n++)this.add(arguments[n]);return this}t.prototype.add.call(this,e);var i=this.children.length;return i>5&&o.Util.warn("The stage has "+i+" layers. Recommended maximin number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),e._setCanvasSize(this.width(),this.height()),e.draw(),l.Konva.isBrowser&&this.content.appendChild(e.canvas._canvas),this},n.prototype.getParent=function(){return null},n.prototype.getLayer=function(){return null},n.prototype.hasPointerCapture=function(t){return f.hasPointerCapture(t,this)},n.prototype.setPointerCapture=function(t){f.setPointerCapture(t,this)},n.prototype.releaseCapture=function(t){f.releaseCapture(t,this)},n.prototype.getLayers=function(){return this.getChildren()},n.prototype._bindContentEvents=function(){if(l.Konva.isBrowser)for(var t=0;t<v;t++)g(this,p[t])},n.prototype._mouseenter=function(t){this.setPointersPositions(t),this._fire("mouseenter",{evt:t,target:this,currentTarget:this})},n.prototype._mouseover=function(t){this.setPointersPositions(t),this._fire("contentMouseover",{evt:t}),this._fire("mouseover",{evt:t,target:this,currentTarget:this})},n.prototype._mouseout=function(t){this.setPointersPositions(t);var e=this.targetShape,n=!u.DD.isDragging||l.Konva.hitOnDragEnabled;e&&n?(e._fireAndBubble("mouseout",{evt:t}),e._fireAndBubble("mouseleave",{evt:t}),this.targetShape=null):n&&(this._fire("mouseleave",{evt:t,target:this,currentTarget:this}),this._fire("mouseout",{evt:t,target:this,currentTarget:this})),this.pointerPos=void 0,this._pointerPositions=[],this._fire("contentMouseout",{evt:t})},n.prototype._mousemove=function(t){if(l.Konva.UA.ieMobile)return this._touchmove(t);this.setPointersPositions(t);var e,n=o.Util._getFirstPointerId(t),i=!u.DD.isDragging||l.Konva.hitOnDragEnabled;if(i){if((e=this.getIntersection(this.getPointerPosition()))&&e.isListening()){var r=!this.targetShape||this.targetShape!==e;i&&r?(this.targetShape&&(this.targetShape._fireAndBubble("mouseout",{evt:t,pointerId:n},e),this.targetShape._fireAndBubble("mouseleave",{evt:t,pointerId:n},e)),e._fireAndBubble("mouseover",{evt:t,pointerId:n},this.targetShape),e._fireAndBubble("mouseenter",{evt:t,pointerId:n},this.targetShape),e._fireAndBubble("mousemove",{evt:t,pointerId:n}),this.targetShape=e):e._fireAndBubble("mousemove",{evt:t,pointerId:n})}else this.targetShape&&i&&(this.targetShape._fireAndBubble("mouseout",{evt:t,pointerId:n}),this.targetShape._fireAndBubble("mouseleave",{evt:t,pointerId:n}),this._fire("mouseover",{evt:t,target:this,currentTarget:this,pointerId:n}),this.targetShape=null),this._fire("mousemove",{evt:t,target:this,currentTarget:this,pointerId:n});this._fire("contentMousemove",{evt:t})}t.cancelable&&t.preventDefault()},n.prototype._mousedown=function(t){if(l.Konva.UA.ieMobile)return this._touchstart(t);this.setPointersPositions(t);var e=o.Util._getFirstPointerId(t),n=this.getIntersection(this.getPointerPosition());l.Konva.listenClickTap=!0,n&&n.isListening()?(this.clickStartShape=n,n._fireAndBubble("mousedown",{evt:t,pointerId:e})):this._fire("mousedown",{evt:t,target:this,currentTarget:this,pointerId:e}),this._fire("contentMousedown",{evt:t})},n.prototype._mouseup=function(t){if(l.Konva.UA.ieMobile)return this._touchend(t);this.setPointersPositions(t);var e=o.Util._getFirstPointerId(t),n=this.getIntersection(this.getPointerPosition()),i=this.clickStartShape,r=this.clickEndShape,a=!1;l.Konva.inDblClickWindow?(a=!0,clearTimeout(this.dblTimeout)):u.DD.justDragged?u.DD&&(u.DD.justDragged=!1):(l.Konva.inDblClickWindow=!0,clearTimeout(this.dblTimeout)),this.dblTimeout=setTimeout((function(){l.Konva.inDblClickWindow=!1}),l.Konva.dblClickWindow),n&&n.isListening()?(this.clickEndShape=n,n._fireAndBubble("mouseup",{evt:t,pointerId:e}),l.Konva.listenClickTap&&i&&i._id===n._id&&(n._fireAndBubble("click",{evt:t,pointerId:e}),a&&r&&r===n&&n._fireAndBubble("dblclick",{evt:t,pointerId:e}))):(this._fire("mouseup",{evt:t,target:this,currentTarget:this,pointerId:e}),l.Konva.listenClickTap&&this._fire("click",{evt:t,target:this,currentTarget:this,pointerId:e}),a&&this._fire("dblclick",{evt:t,target:this,currentTarget:this,pointerId:e})),this._fire("contentMouseup",{evt:t}),l.Konva.listenClickTap&&(this._fire("contentClick",{evt:t}),a&&this._fire("contentDblclick",{evt:t})),l.Konva.listenClickTap=!1,t.cancelable&&t.preventDefault()},n.prototype._contextmenu=function(t){this.setPointersPositions(t);var e=this.getIntersection(this.getPointerPosition());e&&e.isListening()?e._fireAndBubble("contextmenu",{evt:t}):this._fire("contextmenu",{evt:t,target:this,currentTarget:this}),this._fire("contentContextmenu",{evt:t})},n.prototype._touchstart=function(t){var e=this;this.setPointersPositions(t);var n=!1;this._changedPointerPositions.forEach((function(i){var r=e.getIntersection(i);l.Konva.listenClickTap=!0,r&&r.isListening()&&(l.Konva.captureTouchEventsEnabled&&r.setPointerCapture(i.id),e.tapStartShape=r,r._fireAndBubble("touchstart",{evt:t,pointerId:i.id},e),n=!0,r.isListening()&&r.preventDefault()&&t.cancelable&&t.preventDefault())})),n||this._fire("touchstart",{evt:t,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),this._fire("contentTouchstart",{evt:t})},n.prototype._touchmove=function(t){var e=this;if(this.setPointersPositions(t),!u.DD.isDragging||l.Konva.hitOnDragEnabled){var n=!1,i={};this._changedPointerPositions.forEach((function(r){var o=f.getCapturedShape(r.id)||e.getIntersection(r);o&&o.isListening()&&(i[o._id]||(i[o._id]=!0,o._fireAndBubble("touchmove",{evt:t,pointerId:r.id}),n=!0,o.isListening()&&o.preventDefault()&&t.cancelable&&t.preventDefault()))})),n||this._fire("touchmove",{evt:t,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),this._fire("contentTouchmove",{evt:t})}u.DD.isDragging&&u.DD.node.preventDefault()&&t.cancelable&&t.preventDefault()},n.prototype._touchend=function(t){var e=this;this.setPointersPositions(t);var n=this.clickEndShape,i=!1;l.Konva.inDblClickWindow?(i=!0,clearTimeout(this.dblTimeout)):u.DD.justDragged||(l.Konva.inDblClickWindow=!0,clearTimeout(this.dblTimeout)),this.dblTimeout=setTimeout((function(){l.Konva.inDblClickWindow=!1}),l.Konva.dblClickWindow);var r=!1,o={},a=!1,s=!1;this._changedPointerPositions.forEach((function(c){var u=f.getCapturedShape(c.id)||e.getIntersection(c);u&&u.releaseCapture(c.id),u&&u.isListening()&&(o[u._id]||(o[u._id]=!0,e.clickEndShape=u,u._fireAndBubble("touchend",{evt:t,pointerId:c.id}),r=!0,l.Konva.listenClickTap&&u===e.tapStartShape&&(a=!0,u._fireAndBubble("tap",{evt:t,pointerId:c.id}),i&&n&&n===u&&(s=!0,u._fireAndBubble("dbltap",{evt:t,pointerId:c.id}))),u.isListening()&&u.preventDefault()&&t.cancelable&&t.preventDefault()))})),r||this._fire("touchend",{evt:t,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),l.Konva.listenClickTap&&!a&&this._fire("tap",{evt:t,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),i&&!s&&this._fire("dbltap",{evt:t,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),this._fire("contentTouchend",{evt:t}),l.Konva.listenClickTap&&(this._fire("contentTap",{evt:t}),i&&this._fire("contentDbltap",{evt:t})),l.Konva.listenClickTap=!1},n.prototype._wheel=function(t){this.setPointersPositions(t);var e=this.getIntersection(this.getPointerPosition());e&&e.isListening()?e._fireAndBubble("wheel",{evt:t}):this._fire("wheel",{evt:t,target:this,currentTarget:this}),this._fire("contentWheel",{evt:t})},n.prototype._pointerdown=function(t){if(l.Konva._pointerEventsEnabled){this.setPointersPositions(t);var e=f.getCapturedShape(t.pointerId)||this.getIntersection(this.getPointerPosition());e&&e._fireAndBubble("pointerdown",f.createEvent(t))}},n.prototype._pointermove=function(t){if(l.Konva._pointerEventsEnabled){this.setPointersPositions(t);var e=f.getCapturedShape(t.pointerId)||this.getIntersection(this.getPointerPosition());e&&e._fireAndBubble("pointermove",f.createEvent(t))}},n.prototype._pointerup=function(t){if(l.Konva._pointerEventsEnabled){this.setPointersPositions(t);var e=f.getCapturedShape(t.pointerId)||this.getIntersection(this.getPointerPosition());e&&e._fireAndBubble("pointerup",f.createEvent(t)),f.releaseCapture(t.pointerId)}},n.prototype._pointercancel=function(t){if(l.Konva._pointerEventsEnabled){this.setPointersPositions(t);var e=f.getCapturedShape(t.pointerId)||this.getIntersection(this.getPointerPosition());e&&e._fireAndBubble("pointerup",f.createEvent(t)),f.releaseCapture(t.pointerId)}},n.prototype._lostpointercapture=function(t){f.releaseCapture(t.pointerId)},n.prototype.setPointersPositions=function(t){var e=this,n=this._getContentPosition(),i=null,r=null;if(void 0!==(t=t||window.event).touches){if(this._pointerPositions=[],this._changedPointerPositions=[],o.Collection.prototype.each.call(t.touches,(function(t){e._pointerPositions.push({id:t.identifier,x:t.clientX-n.left,y:t.clientY-n.top})})),o.Collection.prototype.each.call(t.changedTouches||t.touches,(function(t){e._changedPointerPositions.push({id:t.identifier,x:t.clientX-n.left,y:t.clientY-n.top})})),t.touches.length>0){var a=t.touches[0];i=a.clientX-n.left,r=a.clientY-n.top}}else i=t.clientX-n.left,r=t.clientY-n.top,this.pointerPos={x:i,y:r},this._pointerPositions=[{x:i,y:r,id:o.Util._getFirstPointerId(t)}],this._changedPointerPositions=[{x:i,y:r,id:o.Util._getFirstPointerId(t)}]},n.prototype._setPointerPosition=function(t){o.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(t)},n.prototype._getContentPosition=function(){var t=this.content.getBoundingClientRect?this.content.getBoundingClientRect():{top:0,left:0};return{top:t.top,left:t.left}},n.prototype._buildDOM=function(){if(this.bufferCanvas=new c.SceneCanvas,this.bufferHitCanvas=new c.HitCanvas({pixelRatio:1}),l.Konva.isBrowser){var t=this.container();if(!t)throw"Stage has no container. A container is required.";t.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),t.appendChild(this.content),this._resizeDOM()}},n.prototype.cache=function(){return o.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this},n.prototype.clearCache=function(){return this},n.prototype.batchDraw=function(){return this.children.each((function(t){t.batchDraw()})),this},n}(s.Container);e.Stage=m,m.prototype.nodeType="Stage",h._registerNode(m),a.Factory.addGetterSetter(m,"container")},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(3),a=n(7),s=n(0),l=n(14),c=n(8),u=n(5),h=n(2),f=n(1),d=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],p=d.length,v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hitCanvas=new c.HitCanvas({pixelRatio:1}),e}return r(e,t),e.prototype._setCanvasSize=function(t,e){this.canvas.setSize(t,e),this.hitCanvas.setSize(t,e),this._checkSmooth()},e.prototype._validateAdd=function(t){var e=t.getType();"Group"!==e&&"Shape"!==e&&o.Util.throw("You may only add groups and shapes to a layer.")},e.prototype.getIntersection=function(t,e){var n,i,r,o;if(!this.hitGraphEnabled()||!this.isVisible())return null;for(var a=1,s=!1;;){for(i=0;i<p;i++){if(r=d[i],(o=(n=this._getIntersection({x:t.x+r.x*a,y:t.y+r.y*a})).shape)&&e)return o.findAncestor(e,!0);if(o)return o;if(s=!!n.antialiased,!n.antialiased)break}if(!s)return null;a+=1}},e.prototype._getIntersection=function(t){var e,n,i=this.hitCanvas.pixelRatio,r=this.hitCanvas.context.getImageData(Math.round(t.x*i),Math.round(t.y*i),1,1).data,a=r[3];return 255===a?(e=o.Util._rgbToHex(r[0],r[1],r[2]),(n=u.shapes["#"+e])?{shape:n}:{antialiased:!0}):a>0?{antialiased:!0}:{}},e.prototype.drawScene=function(t,e){var n=this.getLayer(),i=t||n&&n.getCanvas();return this._fire("beforeDraw",{node:this}),this.clearBeforeDraw()&&i.getContext().clear(),a.Container.prototype.drawScene.call(this,i,e),this._fire("draw",{node:this}),this},e.prototype.drawHit=function(t,e){var n=this.getLayer(),i=t||n&&n.hitCanvas;return n&&n.clearBeforeDraw()&&n.getHitCanvas().getContext().clear(),a.Container.prototype.drawHit.call(this,i,e),this},e.prototype.clear=function(t){return l.BaseLayer.prototype.clear.call(this,t),this.getHitCanvas().getContext().clear(t),this},e.prototype.enableHitGraph=function(){return this.hitGraphEnabled(!0),this},e.prototype.disableHitGraph=function(){return this.hitGraphEnabled(!1),this},e.prototype.toggleHitCanvas=function(){if(this.parent){var t=this.parent;!!this.hitCanvas._canvas.parentNode?t.content.removeChild(this.hitCanvas._canvas):t.content.appendChild(this.hitCanvas._canvas)}},e.prototype.setSize=function(e){var n=e.width,i=e.height;return t.prototype.setSize.call(this,{width:n,height:i}),this.hitCanvas.setSize(n,i),this},e}(l.BaseLayer);e.Layer=v,v.prototype.nodeType="Layer",f._registerNode(v),s.Factory.addGetterSetter(v,"hitGraphEnabled",!0,h.getBooleanValidator()),o.Collection.mapMethods(v)},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(3),a=n(7),s=n(14),l=n(1),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype._validateAdd=function(t){"Shape"!==t.getType()&&o.Util.throw("You may only add shapes to a fast layer.")},e.prototype._setCanvasSize=function(t,e){this.canvas.setSize(t,e),this._checkSmooth()},e.prototype.hitGraphEnabled=function(){return!1},e.prototype.drawScene=function(t){var e=this.getLayer(),n=t||e&&e.getCanvas();return this.clearBeforeDraw()&&n.getContext().clear(),a.Container.prototype.drawScene.call(this,n),this},e.prototype.draw=function(){return this.drawScene(),this},e}(s.BaseLayer);e.FastLayer=c,c.prototype.nodeType="FastLayer",l._registerNode(c),o.Collection.mapMethods(c)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),r=n(11),o=n(4),a=n(1),s={node:1,duration:1,easing:1,onFinish:1,yoyo:1},l=0,c=["fill","stroke","shadowColor"],u=function(){function t(t,e,n,i,r,o,a){this.prop=t,this.propFunc=e,this.begin=i,this._pos=i,this.duration=o,this._change=0,this.prevPos=0,this.yoyo=a,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=n,this._change=r-this.begin,this.pause()}return t.prototype.fire=function(t){var e=this[t];e&&e()},t.prototype.setTime=function(t){t>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():t<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=t,this.update())},t.prototype.getTime=function(){return this._time},t.prototype.setPosition=function(t){this.prevPos=this._pos,this.propFunc(t),this._pos=t},t.prototype.getPosition=function(t){return void 0===t&&(t=this._time),this.func(t,this.begin,this._change,this.duration)},t.prototype.play=function(){this.state=2,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")},t.prototype.reverse=function(){this.state=3,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")},t.prototype.seek=function(t){this.pause(),this._time=t,this.update(),this.fire("onSeek")},t.prototype.reset=function(){this.pause(),this._time=0,this.update(),this.fire("onReset")},t.prototype.finish=function(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")},t.prototype.update=function(){this.setPosition(this.getPosition(this._time))},t.prototype.onEnterFrame=function(){var t=this.getTimer()-this._startTime;2===this.state?this.setTime(t):3===this.state&&this.setTime(this.duration-t)},t.prototype.pause=function(){this.state=1,this.fire("onPause")},t.prototype.getTimer=function(){return(new Date).getTime()},t}(),h=function(){function t(n){var o,c,h=this,f=n.node,d=f._id,p=n.easing||e.Easings.Linear,v=!!n.yoyo;o=void 0===n.duration?.3:0===n.duration?.001:n.duration,this.node=f,this._id=l++;var g=f.getLayer()||(f instanceof a.Konva.Stage?f.getLayers():null);for(c in g||i.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new r.Animation((function(){h.tween.onEnterFrame()}),g),this.tween=new u(c,(function(t){h._tweenFunc(t)}),p,0,1,1e3*o,v),this._addListeners(),t.attrs[d]||(t.attrs[d]={}),t.attrs[d][this._id]||(t.attrs[d][this._id]={}),t.tweens[d]||(t.tweens[d]={}),n)void 0===s[c]&&this._addAttr(c,n[c]);this.reset(),this.onFinish=n.onFinish,this.onReset=n.onReset}return t.prototype._addAttr=function(e,n){var r,o,a,s,l,u,h,f,d=this.node,p=d._id;if((a=t.tweens[p][e])&&delete t.attrs[p][a][e],r=d.getAttr(e),i.Util._isArray(n))if(o=[],l=Math.max(n.length,r.length),"points"===e&&n.length!==r.length&&(n.length>r.length?(h=r,r=i.Util._prepareArrayForTween(r,n,d.closed())):(u=n,n=i.Util._prepareArrayForTween(n,r,d.closed()))),0===e.indexOf("fill"))for(s=0;s<l;s++)if(s%2==0)o.push(n[s]-r[s]);else{var v=i.Util.colorToRGBA(r[s]);f=i.Util.colorToRGBA(n[s]),r[s]=v,o.push({r:f.r-v.r,g:f.g-v.g,b:f.b-v.b,a:f.a-v.a})}else for(s=0;s<l;s++)o.push(n[s]-r[s]);else-1!==c.indexOf(e)?(r=i.Util.colorToRGBA(r),o={r:(f=i.Util.colorToRGBA(n)).r-r.r,g:f.g-r.g,b:f.b-r.b,a:f.a-r.a}):o=n-r;t.attrs[p][this._id][e]={start:r,diff:o,end:n,trueEnd:u,trueStart:h},t.tweens[p][e]=this._id},t.prototype._tweenFunc=function(e){var n,r,o,a,s,l,u,h,f=this.node,d=t.attrs[f._id][this._id];for(n in d){if(o=(r=d[n]).start,a=r.diff,h=r.end,i.Util._isArray(o))if(s=[],u=Math.max(o.length,h.length),0===n.indexOf("fill"))for(l=0;l<u;l++)l%2==0?s.push((o[l]||0)+a[l]*e):s.push("rgba("+Math.round(o[l].r+a[l].r*e)+","+Math.round(o[l].g+a[l].g*e)+","+Math.round(o[l].b+a[l].b*e)+","+(o[l].a+a[l].a*e)+")");else for(l=0;l<u;l++)s.push((o[l]||0)+a[l]*e);else s=-1!==c.indexOf(n)?"rgba("+Math.round(o.r+a.r*e)+","+Math.round(o.g+a.g*e)+","+Math.round(o.b+a.b*e)+","+(o.a+a.a*e)+")":o+a*e;f.setAttr(n,s)}},t.prototype._addListeners=function(){var e=this;this.tween.onPlay=function(){e.anim.start()},this.tween.onReverse=function(){e.anim.start()},this.tween.onPause=function(){e.anim.stop()},this.tween.onFinish=function(){var n=e.node,i=t.attrs[n._id][e._id];i.points&&i.points.trueEnd&&n.setAttr("points",i.points.trueEnd),e.onFinish&&e.onFinish.call(e)},this.tween.onReset=function(){var n=e.node,i=t.attrs[n._id][e._id];i.points&&i.points.trueStart&&n.points(i.points.trueStart),e.onReset&&e.onReset()}},t.prototype.play=function(){return this.tween.play(),this},t.prototype.reverse=function(){return this.tween.reverse(),this},t.prototype.reset=function(){return this.tween.reset(),this},t.prototype.seek=function(t){return this.tween.seek(1e3*t),this},t.prototype.pause=function(){return this.tween.pause(),this},t.prototype.finish=function(){return this.tween.finish(),this},t.prototype.destroy=function(){var e,n=this.node._id,i=this._id,r=t.tweens[n];for(e in this.pause(),r)delete t.tweens[n][e];delete t.attrs[n][i]},t.attrs={},t.tweens={},t}();e.Tween=h,o.Node.prototype.to=function(t){var e=t.onFinish;t.node=this,t.onFinish=function(){this.destroy(),e&&e()},new h(t).play()},e.Easings={BackEaseIn:function(t,e,n,i){var r=1.70158;return n*(t/=i)*t*((r+1)*t-r)+e},BackEaseOut:function(t,e,n,i){var r=1.70158;return n*((t=t/i-1)*t*((r+1)*t+r)+1)+e},BackEaseInOut:function(t,e,n,i){var r=1.70158;return(t/=i/2)<1?n/2*(t*t*((1+(r*=1.525))*t-r))+e:n/2*((t-=2)*t*((1+(r*=1.525))*t+r)+2)+e},ElasticEaseIn:function(t,e,n,i,r,o){var a=0;return 0===t?e:1==(t/=i)?e+n:(o||(o=.3*i),!r||r<Math.abs(n)?(r=n,a=o/4):a=o/(2*Math.PI)*Math.asin(n/r),-r*Math.pow(2,10*(t-=1))*Math.sin((t*i-a)*(2*Math.PI)/o)+e)},ElasticEaseOut:function(t,e,n,i,r,o){var a=0;return 0===t?e:1==(t/=i)?e+n:(o||(o=.3*i),!r||r<Math.abs(n)?(r=n,a=o/4):a=o/(2*Math.PI)*Math.asin(n/r),r*Math.pow(2,-10*t)*Math.sin((t*i-a)*(2*Math.PI)/o)+n+e)},ElasticEaseInOut:function(t,e,n,i,r,o){var a=0;return 0===t?e:2==(t/=i/2)?e+n:(o||(o=i*(.3*1.5)),!r||r<Math.abs(n)?(r=n,a=o/4):a=o/(2*Math.PI)*Math.asin(n/r),t<1?r*Math.pow(2,10*(t-=1))*Math.sin((t*i-a)*(2*Math.PI)/o)*-.5+e:r*Math.pow(2,-10*(t-=1))*Math.sin((t*i-a)*(2*Math.PI)/o)*.5+n+e)},BounceEaseOut:function(t,e,n,i){return(t/=i)<1/2.75?n*(7.5625*t*t)+e:t<2/2.75?n*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?n*(7.5625*(t-=2.25/2.75)*t+.9375)+e:n*(7.5625*(t-=2.625/2.75)*t+.984375)+e},BounceEaseIn:function(t,n,i,r){return i-e.Easings.BounceEaseOut(r-t,0,i,r)+n},BounceEaseInOut:function(t,n,i,r){return t<r/2?.5*e.Easings.BounceEaseIn(2*t,0,i,r)+n:.5*e.Easings.BounceEaseOut(2*t-r,0,i,r)+.5*i+n},EaseIn:function(t,e,n,i){return n*(t/=i)*t+e},EaseOut:function(t,e,n,i){return-n*(t/=i)*(t-2)+e},EaseInOut:function(t,e,n,i){return(t/=i/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e},StrongEaseIn:function(t,e,n,i){return n*(t/=i)*t*t*t*t+e},StrongEaseOut:function(t,e,n,i){return n*((t=t/i-1)*t*t*t*t+1)+e},StrongEaseInOut:function(t,e,n,i){return(t/=i/2)<1?n/2*t*t*t*t*t+e:n/2*((t-=2)*t*t*t*t+2)+e},Linear:function(t,e,n,i){return n*t/i+e}}},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(3),a=n(0),s=n(5),l=n(1),c=n(2),u=n(1),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype._sceneFunc=function(t){var e=l.Konva.getAngle(this.angle()),n=this.clockwise();t.beginPath(),t.arc(0,0,this.outerRadius(),0,e,n),t.arc(0,0,this.innerRadius(),e,0,!n),t.closePath(),t.fillStrokeShape(this)},e.prototype.getWidth=function(){return 2*this.outerRadius()},e.prototype.getHeight=function(){return 2*this.outerRadius()},e.prototype.setWidth=function(t){this.outerRadius(t/2)},e.prototype.setHeight=function(t){this.outerRadius(t/2)},e}(s.Shape);e.Arc=h,h.prototype._centroid=!0,h.prototype.className="Arc",h.prototype._attrsAffectingSize=["innerRadius","outerRadius"],u._registerNode(h),a.Factory.addGetterSetter(h,"innerRadius",0,c.getNumberValidator()),a.Factory.addGetterSetter(h,"outerRadius",0,c.getNumberValidator()),a.Factory.addGetterSetter(h,"angle",0,c.getNumberValidator()),a.Factory.addGetterSetter(h,"clockwise",!1,c.getBooleanValidator()),o.Collection.mapMethods(h)},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(3),a=n(0),s=n(15),l=n(2),c=n(1),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype._sceneFunc=function(e){t.prototype._sceneFunc.call(this,e);var n=2*Math.PI,i=this.points(),r=i,o=0!==this.tension()&&i.length>4;o&&(r=this.getTensionPoints());var a,s,l=i.length;o?(a=i[l-2]-(r[r.length-2]+r[r.length-4])/2,s=i[l-1]-(r[r.length-1]+r[r.length-3])/2):(a=i[l-2]-i[l-4],s=i[l-1]-i[l-3]);var c=(Math.atan2(s,a)+n)%n,u=this.pointerLength(),h=this.pointerWidth();e.save(),e.beginPath(),e.translate(i[l-2],i[l-1]),e.rotate(c),e.moveTo(0,0),e.lineTo(-u,h/2),e.lineTo(-u,-h/2),e.closePath(),e.restore(),this.pointerAtBeginning()&&(e.save(),e.translate(i[0],i[1]),o?(a=(r[0]+r[2])/2-i[0],s=(r[1]+r[3])/2-i[1]):(a=i[2]-i[0],s=i[3]-i[1]),e.rotate((Math.atan2(-s,-a)+n)%n),e.moveTo(0,0),e.lineTo(-u,h/2),e.lineTo(-u,-h/2),e.closePath(),e.restore());var f=this.dashEnabled();f&&(this.attrs.dashEnabled=!1,e.setLineDash([])),e.fillStrokeShape(this),f&&(this.attrs.dashEnabled=!0)},e}(s.Line);e.Arrow=u,u.prototype.className="Arrow",c._registerNode(u),a.Factory.addGetterSetter(u,"pointerLength",10,l.getNumberValidator()),a.Factory.addGetterSetter(u,"pointerWidth",10,l.getNumberValidator()),a.Factory.addGetterSetter(u,"pointerAtBeginning",!1),o.Collection.mapMethods(u)},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(3),a=n(0),s=n(5),l=n(2),c=n(1),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype._sceneFunc=function(t){t.beginPath(),t.arc(0,0,this.radius(),0,2*Math.PI,!1),t.closePath(),t.fillStrokeShape(this)},e.prototype.getWidth=function(){return 2*this.radius()},e.prototype.getHeight=function(){return 2*this.radius()},e.prototype.setWidth=function(t){this.radius()!==t/2&&this.radius(t/2)},e.prototype.setHeight=function(t){this.radius()!==t/2&&this.radius(t/2)},e}(s.Shape);e.Circle=u,u.prototype._centroid=!0,u.prototype.className="Circle",u.prototype._attrsAffectingSize=["radius"],c._registerNode(u),a.Factory.addGetterSetter(u,"radius",0,l.getNumberValidator()),o.Collection.mapMethods(u)},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(3),a=n(0),s=n(5),l=n(2),c=n(1),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype._sceneFunc=function(t){var e=this.radiusX(),n=this.radiusY();t.beginPath(),t.save(),e!==n&&t.scale(1,n/e),t.arc(0,0,e,0,2*Math.PI,!1),t.restore(),t.closePath(),t.fillStrokeShape(this)},e.prototype.getWidth=function(){return 2*this.radiusX()},e.prototype.getHeight=function(){return 2*this.radiusY()},e.prototype.setWidth=function(t){this.radiusX(t/2)},e.prototype.setHeight=function(t){this.radiusY(t/2)},e}(s.Shape);e.Ellipse=u,u.prototype.className="Ellipse",u.prototype._centroid=!0,u.prototype._attrsAffectingSize=["radiusX","radiusY"],c._registerNode(u),a.Factory.addComponentsGetterSetter(u,"radius",["x","y"]),a.Factory.addGetterSetter(u,"radiusX",0,l.getNumberValidator()),a.Factory.addGetterSetter(u,"radiusY",0,l.getNumberValidator()),o.Collection.mapMethods(u)},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(3),a=n(0),s=n(5),l=n(2),c=n(1),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype._useBufferCanvas=function(){return!(!this.hasShadow()&&1===this.getAbsoluteOpacity()||!this.hasStroke()||!this.getStage())},e.prototype._sceneFunc=function(t){var e,n,i,r=this.width(),o=this.height(),a=this.image();a&&(e=this.cropWidth(),n=this.cropHeight(),i=e&&n?[a,this.cropX(),this.cropY(),e,n,0,0,r,o]:[a,0,0,r,o]),(this.hasFill()||this.hasStroke())&&(t.beginPath(),t.rect(0,0,r,o),t.closePath(),t.fillStrokeShape(this)),a&&t.drawImage.apply(t,i)},e.prototype._hitFunc=function(t){var e=this.width(),n=this.height();t.beginPath(),t.rect(0,0,e,n),t.closePath(),t.fillStrokeShape(this)},e.prototype.getWidth=function(){var t=this.image();return this.attrs.width||(t?t.width:0)},e.prototype.getHeight=function(){var t=this.image();return this.attrs.height||(t?t.height:0)},e.fromURL=function(t,n){var i=o.Util.createImageElement();i.onload=function(){var t=new e({image:i});n(t)},i.crossOrigin="Anonymous",i.src=t},e}(s.Shape);e.Image=u,u.prototype.className="Image",c._registerNode(u),a.Factory.addGetterSetter(u,"image"),a.Factory.addComponentsGetterSetter(u,"crop",["x","y","width","height"]),a.Factory.addGetterSetter(u,"cropX",0,l.getNumberValidator()),a.Factory.addGetterSetter(u,"cropY",0,l.getNumberValidator()),a.Factory.addGetterSetter(u,"cropWidth",0,l.getNumberValidator()),a.Factory.addGetterSetter(u,"cropHeight",0,l.getNumberValidator()),o.Collection.mapMethods(u)},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(3),a=n(0),s=n(5),l=n(10),c=n(2),u=n(1),h=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width"],f=h.length,d=function(t){function e(e){var n=t.call(this,e)||this;return n.on("add.konva",(function(t){this._addListeners(t.child),this._sync()})),n}return r(e,t),e.prototype.getText=function(){return this.find("Text")[0]},e.prototype.getTag=function(){return this.find("Tag")[0]},e.prototype._addListeners=function(t){var e,n=this,i=function(){n._sync()};for(e=0;e<f;e++)t.on(h[e]+"Change.konva",i)},e.prototype.getWidth=function(){return this.getText().width()},e.prototype.getHeight=function(){return this.getText().height()},e.prototype._sync=function(){var t,e,n,i,r,o,a,s=this.getText(),l=this.getTag();if(s&&l){switch(t=s.width(),e=s.height(),n=l.pointerDirection(),i=l.pointerWidth(),a=l.pointerHeight(),r=0,o=0,n){case"up":r=t/2,o=-1*a;break;case"right":r=t+i,o=e/2;break;case"down":r=t/2,o=e+a;break;case"left":r=-1*i,o=e/2}l.setAttrs({x:-1*r,y:-1*o,width:t,height:e}),s.setAttrs({x:-1*r,y:-1*o})}},e}(l.Group);e.Label=d,d.prototype.className="Label",u._registerNode(d),o.Collection.mapMethods(d);var p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype._sceneFunc=function(t){var e=this.width(),n=this.height(),i=this.pointerDirection(),r=this.pointerWidth(),o=this.pointerHeight(),a=Math.min(this.cornerRadius(),e/2,n/2);t.beginPath(),a?t.moveTo(a,0):t.moveTo(0,0),"up"===i&&(t.lineTo((e-r)/2,0),t.lineTo(e/2,-1*o),t.lineTo((e+r)/2,0)),a?(t.lineTo(e-a,0),t.arc(e-a,a,a,3*Math.PI/2,0,!1)):t.lineTo(e,0),"right"===i&&(t.lineTo(e,(n-o)/2),t.lineTo(e+r,n/2),t.lineTo(e,(n+o)/2)),a?(t.lineTo(e,n-a),t.arc(e-a,n-a,a,0,Math.PI/2,!1)):t.lineTo(e,n),"down"===i&&(t.lineTo((e+r)/2,n),t.lineTo(e/2,n+o),t.lineTo((e-r)/2,n)),a?(t.lineTo(a,n),t.arc(a,n-a,a,Math.PI/2,Math.PI,!1)):t.lineTo(0,n),"left"===i&&(t.lineTo(0,(n+o)/2),t.lineTo(-1*r,n/2),t.lineTo(0,(n-o)/2)),a&&(t.lineTo(0,a),t.arc(a,a,a,Math.PI,3*Math.PI/2,!1)),t.closePath(),t.fillStrokeShape(this)},e.prototype.getSelfRect=function(){var t=0,e=0,n=this.pointerWidth(),i=this.pointerHeight(),r=this.pointerDirection(),o=this.width(),a=this.height();return"up"===r?(e-=i,a+=i):"down"===r?a+=i:"left"===r?(t-=1.5*n,o+=n):"right"===r&&(o+=1.5*n),{x:t,y:e,width:o,height:a}},e}(s.Shape);e.Tag=p,p.prototype.className="Tag",u._registerNode(p),a.Factory.addGetterSetter(p,"pointerDirection","none"),a.Factory.addGetterSetter(p,"pointerWidth",0,c.getNumberValidator()),a.Factory.addGetterSetter(p,"pointerHeight",0,c.getNumberValidator()),a.Factory.addGetterSetter(p,"cornerRadius",0,c.getNumberValidator()),o.Collection.mapMethods(p)},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(3),a=n(0),s=n(5),l=n(2),c=n(1),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype._sceneFunc=function(t){var e,n,i,r=this.sides(),o=this.radius();for(t.beginPath(),t.moveTo(0,0-o),e=1;e<r;e++)n=o*Math.sin(2*e*Math.PI/r),i=-1*o*Math.cos(2*e*Math.PI/r),t.lineTo(n,i);t.closePath(),t.fillStrokeShape(this)},e.prototype.getWidth=function(){return 2*this.radius()},e.prototype.getHeight=function(){return 2*this.radius()},e.prototype.setWidth=function(t){this.radius(t/2)},e.prototype.setHeight=function(t){this.radius(t/2)},e}(s.Shape);e.RegularPolygon=u,u.prototype.className="RegularPolygon",u.prototype._centroid=!0,u.prototype._attrsAffectingSize=["radius"],c._registerNode(u),a.Factory.addGetterSetter(u,"radius",0,l.getNumberValidator()),a.Factory.addGetterSetter(u,"sides",0,l.getNumberValidator()),o.Collection.mapMethods(u)},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(3),a=n(0),s=n(5),l=n(2),c=n(1),u=2*Math.PI,h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype._sceneFunc=function(t){t.beginPath(),t.arc(0,0,this.innerRadius(),0,u,!1),t.moveTo(this.outerRadius(),0),t.arc(0,0,this.outerRadius(),u,0,!0),t.closePath(),t.fillStrokeShape(this)},e.prototype.getWidth=function(){return 2*this.outerRadius()},e.prototype.getHeight=function(){return 2*this.outerRadius()},e.prototype.setWidth=function(t){this.outerRadius(t/2)},e.prototype.setHeight=function(t){this.outerRadius(t/2)},e}(s.Shape);e.Ring=h,h.prototype.className="Ring",h.prototype._centroid=!0,h.prototype._attrsAffectingSize=["innerRadius","outerRadius"],c._registerNode(h),a.Factory.addGetterSetter(h,"innerRadius",0,l.getNumberValidator()),a.Factory.addGetterSetter(h,"outerRadius",0,l.getNumberValidator()),o.Collection.mapMethods(h)},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(3),a=n(0),s=n(5),l=n(11),c=n(2),u=n(1),h=function(t){function e(e){var n=t.call(this,e)||this;return n._updated=!0,n.anim=new l.Animation((function(){var t=n._updated;return n._updated=!1,t})),n.on("animationChange.konva",(function(){this.frameIndex(0)})),n.on("frameIndexChange.konva",(function(){this._updated=!0})),n.on("frameRateChange.konva",(function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})),n}return r(e,t),e.prototype._sceneFunc=function(t){var e=this.animation(),n=this.frameIndex(),i=4*n,r=this.animations()[e],o=this.frameOffsets(),a=r[i+0],s=r[i+1],l=r[i+2],c=r[i+3],u=this.image();if((this.hasFill()||this.hasStroke())&&(t.beginPath(),t.rect(0,0,l,c),t.closePath(),t.fillStrokeShape(this)),u)if(o){var h=o[e],f=2*n;t.drawImage(u,a,s,l,c,h[f+0],h[f+1],l,c)}else t.drawImage(u,a,s,l,c,0,0,l,c)},e.prototype._hitFunc=function(t){var e=this.animation(),n=this.frameIndex(),i=4*n,r=this.animations()[e],o=this.frameOffsets(),a=r[i+2],s=r[i+3];if(t.beginPath(),o){var l=o[e],c=2*n;t.rect(l[c+0],l[c+1],a,s)}else t.rect(0,0,a,s);t.closePath(),t.fillShape(this)},e.prototype._useBufferCanvas=function(){return(this.hasShadow()||1!==this.getAbsoluteOpacity())&&this.hasStroke()},e.prototype._setInterval=function(){var t=this;this.interval=setInterval((function(){t._updateIndex()}),1e3/this.frameRate())},e.prototype.start=function(){if(!this.isRunning()){var t=this.getLayer();this.anim.setLayers(t),this._setInterval(),this.anim.start()}},e.prototype.stop=function(){this.anim.stop(),clearInterval(this.interval)},e.prototype.isRunning=function(){return this.anim.isRunning()},e.prototype._updateIndex=function(){var t=this.frameIndex(),e=this.animation();t<this.animations()[e].length/4-1?this.frameIndex(t+1):this.frameIndex(0)},e}(s.Shape);e.Sprite=h,h.prototype.className="Sprite",u._registerNode(h),a.Factory.addGetterSetter(h,"animation"),a.Factory.addGetterSetter(h,"animations"),a.Factory.addGetterSetter(h,"frameOffsets"),a.Factory.addGetterSetter(h,"image"),a.Factory.addGetterSetter(h,"frameIndex",0,c.getNumberValidator()),a.Factory.addGetterSetter(h,"frameRate",17,c.getNumberValidator()),a.Factory.backCompat(h,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"}),o.Collection.mapMethods(h)},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(3),a=n(0),s=n(5),l=n(2),c=n(1),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype._sceneFunc=function(t){var e=this.innerRadius(),n=this.outerRadius(),i=this.numPoints();t.beginPath(),t.moveTo(0,0-n);for(var r=1;r<2*i;r++){var o=r%2==0?n:e,a=o*Math.sin(r*Math.PI/i),s=-1*o*Math.cos(r*Math.PI/i);t.lineTo(a,s)}t.closePath(),t.fillStrokeShape(this)},e.prototype.getWidth=function(){return 2*this.outerRadius()},e.prototype.getHeight=function(){return 2*this.outerRadius()},e.prototype.setWidth=function(t){this.outerRadius(t/2)},e.prototype.setHeight=function(t){this.outerRadius(t/2)},e}(s.Shape);e.Star=u,u.prototype.className="Star",u.prototype._centroid=!0,u.prototype._attrsAffectingSize=["innerRadius","outerRadius"],c._registerNode(u),a.Factory.addGetterSetter(u,"numPoints",5,l.getNumberValidator()),a.Factory.addGetterSetter(u,"innerRadius",0,l.getNumberValidator()),a.Factory.addGetterSetter(u,"outerRadius",0,l.getNumberValidator()),o.Collection.mapMethods(u)},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(3),a=n(0),s=n(5),l=n(16),c=n(18),u=n(2),h=n(1);function f(t){t.fillText(this.partialText,0,0)}function d(t){t.strokeText(this.partialText,0,0)}var p=function(t){function e(e){var n=t.call(this,e)||this;return n.dummyCanvas=o.Util.createCanvasElement(),n.dataArray=[],n.dataArray=l.Path.parsePathData(n.attrs.data),n.on("dataChange.konva",(function(){this.dataArray=l.Path.parsePathData(this.attrs.data),this._setTextData()})),n.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva",n._setTextData),e&&e.getKerning&&(o.Util.warn('getKerning TextPath API is deprecated. Please use "kerningFunc" instead.'),n.kerningFunc(e.getKerning)),n._setTextData(),n}return r(e,t),e.prototype._sceneFunc=function(t){t.setAttr("font",this._getContextFont()),t.setAttr("textBaseline",this.textBaseline()),t.setAttr("textAlign","left"),t.save();var e=this.textDecoration(),n=this.fill(),i=this.fontSize(),r=this.glyphInfo;"underline"===e&&t.beginPath();for(var o=0;o<r.length;o++){t.save();var a=r[o].p0;t.translate(a.x,a.y),t.rotate(r[o].rotation),this.partialText=r[o].text,t.fillStrokeShape(this),"underline"===e&&(0===o&&t.moveTo(0,i/2+1),t.lineTo(i,i/2+1)),t.restore()}"underline"===e&&(t.strokeStyle=n,t.lineWidth=i/20,t.stroke()),t.restore()},e.prototype._hitFunc=function(t){t.beginPath();var e=this.glyphInfo;if(e.length>=1){var n=e[0].p0;t.moveTo(n.x,n.y)}for(var i=0;i<e.length;i++){var r=e[i].p1;t.lineTo(r.x,r.y)}t.setAttr("lineWidth",this.fontSize()),t.setAttr("strokeStyle",this.colorKey),t.stroke()},e.prototype.getTextWidth=function(){return this.textWidth},e.prototype.getTextHeight=function(){return o.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight},e.prototype.setText=function(t){return c.Text.prototype.setText.call(this,t)},e.prototype._getContextFont=function(){return c.Text.prototype._getContextFont.call(this)},e.prototype._getTextSize=function(t){var e=this.dummyCanvas.getContext("2d");e.save(),e.font=this._getContextFont();var n=e.measureText(t);return e.restore(),{width:n.width,height:parseInt(this.attrs.fontSize,10)}},e.prototype._setTextData=function(){var t=this,e=this._getTextSize(this.attrs.text),n=this.letterSpacing(),i=this.align(),r=this.kerningFunc();this.textWidth=e.width,this.textHeight=e.height;var o=Math.max(this.textWidth+((this.attrs.text||"").length-1)*n,0);this.glyphInfo=[];for(var a=0,s=0;s<t.dataArray.length;s++)t.dataArray[s].pathLength>0&&(a+=t.dataArray[s].pathLength);var c=0;"center"===i&&(c=Math.max(0,a/2-o/2)),"right"===i&&(c=Math.max(0,a-o));for(var u,h,f,d=this.text().split(""),p=this.text().split(" ").length-1,v=-1,g=0,y=function(){g=0;for(var e=t.dataArray,n=v+1;n<e.length;n++){if(e[n].pathLength>0)return v=n,e[n];"M"===e[n].command&&(u={x:e[n].points[0],y:e[n].points[1]})}return{}},m=function(e){var r=t._getTextSize(e).width+n;" "===e&&"justify"===i&&(r+=(a-o)/p);var s=0,c=0;for(h=void 0;Math.abs(r-s)/r>.01&&c<25;){c++;for(var d=s;void 0===f;)(f=y())&&d+f.pathLength<r&&(d+=f.pathLength,f=void 0);if(f==={}||void 0===u)return;var v=!1;switch(f.command){case"L":l.Path.getLineLength(u.x,u.y,f.points[0],f.points[1])>r?h=l.Path.getPointOnLine(r,u.x,u.y,f.points[0],f.points[1],u.x,u.y):f=void 0;break;case"A":var m=f.points[4],b=f.points[5],_=f.points[4]+b;0===g?g=m+1e-8:r>s?g+=Math.PI/180*b/Math.abs(b):g-=Math.PI/360*b/Math.abs(b),(b<0&&g<_||b>=0&&g>_)&&(g=_,v=!0),h=l.Path.getPointOnEllipticalArc(f.points[0],f.points[1],f.points[2],f.points[3],g,f.points[6]);break;case"C":0===g?g=r>f.pathLength?1e-8:r/f.pathLength:r>s?g+=(r-s)/f.pathLength:g-=(s-r)/f.pathLength,g>1&&(g=1,v=!0),h=l.Path.getPointOnCubicBezier(g,f.start.x,f.start.y,f.points[0],f.points[1],f.points[2],f.points[3],f.points[4],f.points[5]);break;case"Q":0===g?g=r/f.pathLength:r>s?g+=(r-s)/f.pathLength:g-=(s-r)/f.pathLength,g>1&&(g=1,v=!0),h=l.Path.getPointOnQuadraticBezier(g,f.start.x,f.start.y,f.points[0],f.points[1],f.points[2],f.points[3])}void 0!==h&&(s=l.Path.getLineLength(u.x,u.y,h.x,h.y)),v&&(v=!1,f=void 0)}},b=t._getTextSize("C").width+n,_=0;_<c/b&&(m("C"),void 0!==u&&void 0!==h);_++)u=h;for(var w=0;w<d.length&&(m(d[w]),void 0!==u&&void 0!==h);w++){var x=l.Path.getLineLength(u.x,u.y,h.x,h.y),k=0;if(r)try{k=r(d[w-1],d[w])*this.fontSize()}catch(t){k=0}u.x+=k,h.x+=k,this.textWidth+=k;var C=l.Path.getPointOnLine(k+x/2,u.x,u.y,h.x,h.y),S=Math.atan2(h.y-u.y,h.x-u.x);this.glyphInfo.push({transposeX:C.x,transposeY:C.y,text:d[w],rotation:S,p0:u,p1:h}),u=h}},e.prototype.getSelfRect=function(){var t=[];this.glyphInfo.forEach((function(e){t.push(e.p0.x),t.push(e.p0.y),t.push(e.p1.x),t.push(e.p1.y)}));for(var e,n,i=t[0],r=t[0],o=t[0],a=t[0],s=0;s<t.length/2;s++)e=t[2*s],n=t[2*s+1],i=Math.min(i,e),r=Math.max(r,e),o=Math.min(o,n),a=Math.max(a,n);var l=this.fontSize();return{x:Math.round(i)-l/2,y:Math.round(o)-l/2,width:Math.round(r-i)+l,height:Math.round(a-o)+l}},e}(s.Shape);e.TextPath=p,p.prototype._fillFunc=f,p.prototype._strokeFunc=d,p.prototype._fillFuncHit=f,p.prototype._strokeFuncHit=d,p.prototype.className="TextPath",p.prototype._attrsAffectingSize=["text","fontSize","data"],h._registerNode(p),a.Factory.addGetterSetter(p,"data"),a.Factory.addGetterSetter(p,"fontFamily","Arial"),a.Factory.addGetterSetter(p,"fontSize",12,u.getNumberValidator()),a.Factory.addGetterSetter(p,"fontStyle","normal"),a.Factory.addGetterSetter(p,"align","left"),a.Factory.addGetterSetter(p,"letterSpacing",0,u.getNumberValidator()),a.Factory.addGetterSetter(p,"textBaseline","middle"),a.Factory.addGetterSetter(p,"fontVariant","normal"),a.Factory.addGetterSetter(p,"text",""),a.Factory.addGetterSetter(p,"textDecoration",null),a.Factory.addGetterSetter(p,"kerningFunc",null),o.Collection.mapMethods(p)},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(3),a=n(0),s=n(4),l=n(5),c=n(17),u=n(10),h=n(1),f=n(2),d=n(1),p=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange"].map((function(t){return t+".tr-konva"})).join(" "),v=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"].map((function(t){return t+".tr-konva"})).join(" "),g={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135};var y=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"],m=function(t){function e(e){var n=t.call(this,e)||this;return n._transforming=!1,n._createElements(),n._handleMouseMove=n._handleMouseMove.bind(n),n._handleMouseUp=n._handleMouseUp.bind(n),n.update=n.update.bind(n),n.on(p,n.update),n.getNode()&&n.update(),n}return r(e,t),e.prototype.attachTo=function(t){return this.setNode(t),this},e.prototype.setNode=function(t){var e=this;this._node&&this.detach(),this._node=t,this._resetTransformCache();var n=t._attrsAffectingSize.map((function(t){return t+"Change.tr-konva"})).join(" "),i=function(){e._resetTransformCache(),e._transforming||e.update()};return t.on(n,i),t.on(v,i),t.on("xChange.tr-konva yChange.tr-konva",(function(){return e._resetTransformCache()})),!!this.findOne(".top-left")&&this.update(),this},e.prototype.getNode=function(){return this._node},e.prototype.detach=function(){this.getNode()&&(this.getNode().off(".tr-konva"),this._node=void 0),this._resetTransformCache()},e.prototype._resetTransformCache=function(){this._clearCache("nodeRect"),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")},e.prototype._getNodeRect=function(){return this._getCache("nodeRect",this.__getNodeRect)},e.prototype.__getNodeRect=function(){var t=this.getNode();if(!t)return{x:-1e8,y:-1e8,width:0,height:0,rotation:0};t.parent&&this.parent&&t.parent!==this.parent&&o.Util.warn("Transformer and attached node have different parents. Konva does not support such case right now. Please move Transformer to the parent of attaching node.");var e=t.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),n=h.Konva.getAngle(t.rotation()),i=e.x*t.scaleX()-t.offsetX()*t.scaleX(),r=e.y*t.scaleY()-t.offsetY()*t.scaleY();return{x:t.x()+i*Math.cos(n)+r*Math.sin(-n),y:t.y()+r*Math.cos(n)+i*Math.sin(n),width:e.width*t.scaleX(),height:e.height*t.scaleY(),rotation:t.rotation()}},e.prototype.getX=function(){return this._getNodeRect().x},e.prototype.getY=function(){return this._getNodeRect().y},e.prototype.getRotation=function(){return this._getNodeRect().rotation},e.prototype.getWidth=function(){return this._getNodeRect().width},e.prototype.getHeight=function(){return this._getNodeRect().height},e.prototype._createElements=function(){this._createBack(),y.forEach(function(t){this._createAnchor(t)}.bind(this)),this._createAnchor("rotater")},e.prototype._createAnchor=function(t){var e=this,n=new c.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:t+" _anchor",dragDistance:0,draggable:!0}),i=this;n.on("mousedown touchstart",(function(t){i._handleMouseDown(t)})),n.on("dragstart",(function(t){t.cancelBubble=!0})),n.on("dragmove",(function(t){t.cancelBubble=!0})),n.on("dragend",(function(t){t.cancelBubble=!0})),n.on("mouseenter",(function(){var i=h.Konva.getAngle(e.rotation()),r=e.getNode().getAbsoluteScale(),a=r.y*r.x<0,s=function(t,e,n){if("rotater"===t)return"crosshair";e+=o.Util._degToRad(g[t]||0),n&&(e*=-1);var i=(o.Util._radToDeg(e)%360+360)%360;return o.Util._inRange(i,337.5,360)||o.Util._inRange(i,0,22.5)?"ns-resize":o.Util._inRange(i,22.5,67.5)?"nesw-resize":o.Util._inRange(i,67.5,112.5)?"ew-resize":o.Util._inRange(i,112.5,157.5)?"nwse-resize":o.Util._inRange(i,157.5,202.5)?"ns-resize":o.Util._inRange(i,202.5,247.5)?"nesw-resize":o.Util._inRange(i,247.5,292.5)?"ew-resize":o.Util._inRange(i,292.5,337.5)?"nwse-resize":(o.Util.error("Transformer has unknown angle for cursor detection: "+i),"pointer")}(t,i,a);n.getStage().content.style.cursor=s,e._cursorChange=!0})),n.on("mouseout",(function(){n.getStage()&&n.getParent()&&(n.getStage().content.style.cursor="",e._cursorChange=!1)})),this.add(n)},e.prototype._createBack=function(){var t=new l.Shape({name:"back",width:0,height:0,listening:!1,sceneFunc:function(t){var e=this.getParent(),n=e.padding();t.beginPath(),t.rect(-n,-n,this.width()+2*n,this.height()+2*n),t.moveTo(this.width()/2,-n),e.rotateEnabled()&&t.lineTo(this.width()/2,-e.rotateAnchorOffset()*o.Util._sign(this.height())-n),t.fillStrokeShape(this)}});this.add(t)},e.prototype._handleMouseDown=function(t){this._movingAnchorName=t.target.name().split(" ")[0];var e=this._getNodeRect(),n=e.width,i=e.height,r=Math.sqrt(Math.pow(n,2)+Math.pow(i,2));this.sin=Math.abs(i/r),this.cos=Math.abs(n/r),window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0),this._transforming=!0,this._fire("transformstart",{evt:t}),this.getNode()._fire("transformstart",{evt:t})},e.prototype._handleMouseMove=function(t){var e,n,i,r=this.findOne("."+this._movingAnchorName),a=r.getStage().getContent().getBoundingClientRect(),s=a.left,l=a.top,c={x:(void 0!==t.clientX?t.clientX:t.touches[0].clientX)-s,y:(void 0!==t.clientX?t.clientY:t.touches[0].clientY)-l};r.setAbsolutePosition(c);var u=this.keepRatio()||t.shiftKey,f=this.padding();if("top-left"===this._movingAnchorName){if(u){i=Math.sqrt(Math.pow(this.findOne(".bottom-right").x()-r.x()-2*f,2)+Math.pow(this.findOne(".bottom-right").y()-r.y()-2*f,2));var d=this.findOne(".top-left").x()>this.findOne(".bottom-right").x()?-1:1,p=this.findOne(".top-left").y()>this.findOne(".bottom-right").y()?-1:1;e=i*this.cos*d,n=i*this.sin*p,this.findOne(".top-left").x(this.findOne(".bottom-right").x()-e-2*f),this.findOne(".top-left").y(this.findOne(".bottom-right").y()-n-2*f)}}else if("top-center"===this._movingAnchorName)this.findOne(".top-left").y(r.y());else if("top-right"===this._movingAnchorName){if(u){i=Math.sqrt(Math.pow(r.x()-this.findOne(".bottom-left").x()-2*f,2)+Math.pow(this.findOne(".bottom-left").y()-r.y()-2*f,2));d=this.findOne(".top-right").x()<this.findOne(".top-left").x()?-1:1,p=this.findOne(".top-right").y()>this.findOne(".bottom-left").y()?-1:1;e=i*this.cos*d,n=i*this.sin*p,this.findOne(".top-right").x(e+f),this.findOne(".top-right").y(this.findOne(".bottom-left").y()-n-2*f)}var v=r.position();this.findOne(".top-left").y(v.y),this.findOne(".bottom-right").x(v.x)}else if("middle-left"===this._movingAnchorName)this.findOne(".top-left").x(r.x());else if("middle-right"===this._movingAnchorName)this.findOne(".bottom-right").x(r.x());else if("bottom-left"===this._movingAnchorName){if(u){i=Math.sqrt(Math.pow(this.findOne(".top-right").x()-r.x()-2*f,2)+Math.pow(r.y()-this.findOne(".top-right").y()-2*f,2));d=this.findOne(".top-right").x()<this.findOne(".bottom-left").x()?-1:1,p=this.findOne(".bottom-right").y()<this.findOne(".top-left").y()?-1:1;e=i*this.cos*d,n=i*this.sin*p,this.findOne(".bottom-left").x(this.findOne(".top-right").x()-e-2*f),this.findOne(".bottom-left").y(n+f)}v=r.position(),this.findOne(".top-left").x(v.x),this.findOne(".bottom-right").y(v.y)}else if("bottom-center"===this._movingAnchorName)this.findOne(".bottom-right").y(r.y());else if("bottom-right"===this._movingAnchorName){if(u){i=Math.sqrt(Math.pow(this.findOne(".bottom-right").x()-f,2)+Math.pow(this.findOne(".bottom-right").y()-f,2));d=this.findOne(".top-left").x()>this.findOne(".bottom-right").x()?-1:1,p=this.findOne(".top-left").y()>this.findOne(".bottom-right").y()?-1:1;e=i*this.cos*d,n=i*this.sin*p,this.findOne(".bottom-right").x(e+f),this.findOne(".bottom-right").y(n+f)}}else if("rotater"===this._movingAnchorName){var g=this._getNodeRect();e=r.x()-g.width/2,n=-r.y()+g.height/2;var y=Math.atan2(-n,e)+Math.PI/2;g.height<0&&(y-=Math.PI);for(var m=h.Konva.getAngle(this.rotation()),b=o.Util._radToDeg(m)+o.Util._radToDeg(y),_=h.Konva.getAngle(this.getNode().rotation()),w=o.Util._degToRad(b),x=this.rotationSnaps(),k=0;k<x.length;k++){var C=h.Konva.getAngle(x[k]);Math.abs(C-o.Util._degToRad(b))%(2*Math.PI)<.1&&(b=o.Util._radToDeg(C),w=o.Util._degToRad(b))}var S=f,O=f;this._fitNodeInto({rotation:h.Konva.angleDeg?b:o.Util._degToRad(b),x:g.x+(g.width/2+f)*(Math.cos(_)-Math.cos(w))+(g.height/2+f)*(Math.sin(-_)-Math.sin(-w))-(S*Math.cos(m)+O*Math.sin(-m)),y:g.y+(g.height/2+f)*(Math.cos(_)-Math.cos(w))+(g.width/2+f)*(Math.sin(_)-Math.sin(w))-(O*Math.cos(m)+S*Math.sin(m)),width:g.width+2*f,height:g.height+2*f},t)}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));if("rotater"!==this._movingAnchorName){if(this.centeredScaling()||t.altKey){var P=this.findOne(".top-left"),j=this.findOne(".bottom-right"),T=P.x()+f,E=P.y()+f,M=this.getWidth()-j.x()+f,A=this.getHeight()-j.y()+f;j.move({x:-T,y:-E}),P.move({x:M,y:A})}var F=this.findOne(".top-left").getAbsolutePosition(this.getParent());e=F.x,n=F.y;var D=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),I=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodeInto({x:e+this.offsetX(),y:n+this.offsetY(),width:D,height:I},t)}},e.prototype._handleMouseUp=function(t){this._removeEvents(t)},e.prototype._removeEvents=function(t){if(this._transforming){this._transforming=!1,window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0),this._fire("transformend",{evt:t});var e=this.getNode();e&&e.fire("transformend",{evt:t})}},e.prototype._fitNodeInto=function(t,e){var n=this.boundBoxFunc();if(n){var i=this._getNodeRect();t=n.call(this,i,t)}var r=this.getNode();void 0!==t.rotation&&this.getNode().rotation(t.rotation);var o=r.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),a=this.padding(),s=(t.width-2*a)/o.width,l=(t.height-2*a)/o.height,c=h.Konva.getAngle(r.rotation()),u=o.x*s-a-r.offsetX()*s,f=o.y*l-a-r.offsetY()*l;this.getNode().setAttrs({scaleX:s,scaleY:l,x:t.x-(u*Math.cos(c)+f*Math.sin(-c)),y:t.y-(f*Math.cos(c)+u*Math.sin(c))}),this._fire("transform",{evt:e}),this.getNode()._fire("transform",{evt:e}),this.update(),this.getLayer().batchDraw()},e.prototype.forceUpdate=function(){this._resetTransformCache(),this.update()},e.prototype.update=function(){var t=this,e=this._getNodeRect(),n=this.getNode(),i={x:1,y:1};n&&n.getParent()&&(i=n.getParent().getAbsoluteScale());var r={x:1/i.x,y:1/i.y},a=e.width,s=e.height,l=this.enabledAnchors(),c=this.resizeEnabled(),u=this.padding(),h=this.anchorSize();this.find("._anchor").each((function(e){return e.setAttrs({width:h,height:h,offsetX:h/2,offsetY:h/2,stroke:t.anchorStroke(),strokeWidth:t.anchorStrokeWidth(),fill:t.anchorFill(),cornerRadius:t.anchorCornerRadius()})})),this.findOne(".top-left").setAttrs({x:-u,y:-u,scale:r,visible:c&&l.indexOf("top-left")>=0}),this.findOne(".top-center").setAttrs({x:a/2,y:-u,scale:r,visible:c&&l.indexOf("top-center")>=0}),this.findOne(".top-right").setAttrs({x:a+u,y:-u,scale:r,visible:c&&l.indexOf("top-right")>=0}),this.findOne(".middle-left").setAttrs({x:-u,y:s/2,scale:r,visible:c&&l.indexOf("middle-left")>=0}),this.findOne(".middle-right").setAttrs({x:a+u,y:s/2,scale:r,visible:c&&l.indexOf("middle-right")>=0}),this.findOne(".bottom-left").setAttrs({x:-u,y:s+u,scale:r,visible:c&&l.indexOf("bottom-left")>=0}),this.findOne(".bottom-center").setAttrs({x:a/2,y:s+u,scale:r,visible:c&&l.indexOf("bottom-center")>=0}),this.findOne(".bottom-right").setAttrs({x:a+u,y:s+u,scale:r,visible:c&&l.indexOf("bottom-right")>=0});var f=-this.rotateAnchorOffset()*Math.abs(r.y);this.findOne(".rotater").setAttrs({x:a/2,y:f*o.Util._sign(s)-u,scale:r,visible:this.rotateEnabled()}),this.findOne(".back").setAttrs({width:a*i.x,height:s*i.y,scale:r,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash()})},e.prototype.isTransforming=function(){return this._transforming},e.prototype.stopTransform=function(){if(this._transforming){this._removeEvents();var t=this.findOne("."+this._movingAnchorName);t&&t.stopDrag()}},e.prototype.destroy=function(){return this.getStage()&&this._cursorChange&&(this.getStage().content.style.cursor=""),u.Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this},e.prototype.toObject=function(){return s.Node.prototype.toObject.call(this)},e}(u.Group);e.Transformer=m,m.prototype.className="Transformer",d._registerNode(m),a.Factory.addGetterSetter(m,"enabledAnchors",y,(function(t){return t instanceof Array||o.Util.warn("enabledAnchors value should be an array"),t instanceof Array&&t.forEach((function(t){-1===y.indexOf(t)&&o.Util.warn("Unknown anchor name: "+t+". Available names are: "+y.join(", "))})),t||[]})),a.Factory.addGetterSetter(m,"resizeEnabled",!0),a.Factory.addGetterSetter(m,"anchorSize",10,f.getNumberValidator()),a.Factory.addGetterSetter(m,"rotateEnabled",!0),a.Factory.addGetterSetter(m,"rotationSnaps",[]),a.Factory.addGetterSetter(m,"rotateAnchorOffset",50,f.getNumberValidator()),a.Factory.addGetterSetter(m,"borderEnabled",!0),a.Factory.addGetterSetter(m,"anchorStroke","rgb(0, 161, 255)"),a.Factory.addGetterSetter(m,"anchorStrokeWidth",1,f.getNumberValidator()),a.Factory.addGetterSetter(m,"anchorFill","white"),a.Factory.addGetterSetter(m,"anchorCornerRadius",0,f.getNumberValidator()),a.Factory.addGetterSetter(m,"borderStroke","rgb(0, 161, 255)"),a.Factory.addGetterSetter(m,"borderStrokeWidth",1,f.getNumberValidator()),a.Factory.addGetterSetter(m,"borderDash"),a.Factory.addGetterSetter(m,"keepRatio",!0),a.Factory.addGetterSetter(m,"centeredScaling",!1),a.Factory.addGetterSetter(m,"ignoreStroke",!1),a.Factory.addGetterSetter(m,"padding",0,f.getNumberValidator()),a.Factory.addGetterSetter(m,"node"),a.Factory.addGetterSetter(m,"boundBoxFunc"),a.Factory.backCompat(m,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"}),o.Collection.mapMethods(m)},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(3),a=n(0),s=n(5),l=n(1),c=n(2),u=n(1),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype._sceneFunc=function(t){t.beginPath(),t.arc(0,0,this.radius(),0,l.Konva.getAngle(this.angle()),this.clockwise()),t.lineTo(0,0),t.closePath(),t.fillStrokeShape(this)},e.prototype.getWidth=function(){return 2*this.radius()},e.prototype.getHeight=function(){return 2*this.radius()},e.prototype.setWidth=function(t){this.radius(t/2)},e.prototype.setHeight=function(t){this.radius(t/2)},e}(s.Shape);e.Wedge=h,h.prototype.className="Wedge",h.prototype._centroid=!0,h.prototype._attrsAffectingSize=["radius"],u._registerNode(h),a.Factory.addGetterSetter(h,"radius",0,c.getNumberValidator()),a.Factory.addGetterSetter(h,"angle",0,c.getNumberValidator()),a.Factory.addGetterSetter(h,"clockwise",!1),a.Factory.backCompat(h,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"}),o.Collection.mapMethods(h)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(4),o=n(2);function a(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}var s=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],l=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];e.Blur=function(t){var e=Math.round(this.blurRadius());e>0&&function(t,e){var n,i,r,o,c,u,h,f,d,p,v,g,y,m,b,_,w,x,k,C,S,O,P,j,T=t.data,E=t.width,M=t.height,A=e+e+1,F=E-1,D=M-1,I=e+1,R=I*(I+1)/2,L=new a,G=null,V=L,N=null,z=null,U=s[e],B=l[e];for(r=1;r<A;r++)V=V.next=new a,r===I&&(G=V);for(V.next=L,h=u=0,i=0;i<M;i++){for(_=w=x=k=f=d=p=v=0,g=I*(C=T[u]),y=I*(S=T[u+1]),m=I*(O=T[u+2]),b=I*(P=T[u+3]),f+=R*C,d+=R*S,p+=R*O,v+=R*P,V=L,r=0;r<I;r++)V.r=C,V.g=S,V.b=O,V.a=P,V=V.next;for(r=1;r<I;r++)o=u+((F<r?F:r)<<2),f+=(V.r=C=T[o])*(j=I-r),d+=(V.g=S=T[o+1])*j,p+=(V.b=O=T[o+2])*j,v+=(V.a=P=T[o+3])*j,_+=C,w+=S,x+=O,k+=P,V=V.next;for(N=L,z=G,n=0;n<E;n++)T[u+3]=P=v*U>>B,0!==P?(P=255/P,T[u]=(f*U>>B)*P,T[u+1]=(d*U>>B)*P,T[u+2]=(p*U>>B)*P):T[u]=T[u+1]=T[u+2]=0,f-=g,d-=y,p-=m,v-=b,g-=N.r,y-=N.g,m-=N.b,b-=N.a,o=h+((o=n+e+1)<F?o:F)<<2,f+=_+=N.r=T[o],d+=w+=N.g=T[o+1],p+=x+=N.b=T[o+2],v+=k+=N.a=T[o+3],N=N.next,g+=C=z.r,y+=S=z.g,m+=O=z.b,b+=P=z.a,_-=C,w-=S,x-=O,k-=P,z=z.next,u+=4;h+=E}for(n=0;n<E;n++){for(w=x=k=_=d=p=v=f=0,g=I*(C=T[u=n<<2]),y=I*(S=T[u+1]),m=I*(O=T[u+2]),b=I*(P=T[u+3]),f+=R*C,d+=R*S,p+=R*O,v+=R*P,V=L,r=0;r<I;r++)V.r=C,V.g=S,V.b=O,V.a=P,V=V.next;for(c=E,r=1;r<=e;r++)u=c+n<<2,f+=(V.r=C=T[u])*(j=I-r),d+=(V.g=S=T[u+1])*j,p+=(V.b=O=T[u+2])*j,v+=(V.a=P=T[u+3])*j,_+=C,w+=S,x+=O,k+=P,V=V.next,r<D&&(c+=E);for(u=n,N=L,z=G,i=0;i<M;i++)T[(o=u<<2)+3]=P=v*U>>B,P>0?(P=255/P,T[o]=(f*U>>B)*P,T[o+1]=(d*U>>B)*P,T[o+2]=(p*U>>B)*P):T[o]=T[o+1]=T[o+2]=0,f-=g,d-=y,p-=m,v-=b,g-=N.r,y-=N.g,m-=N.b,b-=N.a,o=n+((o=i+I)<D?o:D)*E<<2,f+=_+=N.r=T[o],d+=w+=N.g=T[o+1],p+=x+=N.b=T[o+2],v+=k+=N.a=T[o+3],N=N.next,g+=C=z.r,y+=S=z.g,m+=O=z.b,b+=P=z.a,_-=C,w-=S,x-=O,k-=P,z=z.next,u+=E}}(t,e)},i.Factory.addGetterSetter(r.Node,"blurRadius",0,o.getNumberValidator(),i.Factory.afterSetFilter)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(4),o=n(2);e.Brighten=function(t){var e,n=255*this.brightness(),i=t.data,r=i.length;for(e=0;e<r;e+=4)i[e]+=n,i[e+1]+=n,i[e+2]+=n},i.Factory.addGetterSetter(r.Node,"brightness",0,o.getNumberValidator(),i.Factory.afterSetFilter)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(4),o=n(2);e.Contrast=function(t){var e,n=Math.pow((this.contrast()+100)/100,2),i=t.data,r=i.length,o=150,a=150,s=150;for(e=0;e<r;e+=4)o=i[e],a=i[e+1],s=i[e+2],o/=255,o-=.5,o*=n,o+=.5,a/=255,a-=.5,a*=n,a+=.5,s/=255,s-=.5,s*=n,s+=.5,o=(o*=255)<0?0:o>255?255:o,a=(a*=255)<0?0:a>255?255:a,s=(s*=255)<0?0:s>255?255:s,i[e]=o,i[e+1]=a,i[e+2]=s},i.Factory.addGetterSetter(r.Node,"contrast",0,o.getNumberValidator(),i.Factory.afterSetFilter)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(4),o=n(3),a=n(2);e.Emboss=function(t){var e=10*this.embossStrength(),n=255*this.embossWhiteLevel(),i=this.embossDirection(),r=this.embossBlend(),a=0,s=0,l=t.data,c=t.width,u=t.height,h=4*c,f=u;switch(i){case"top-left":a=-1,s=-1;break;case"top":a=-1,s=0;break;case"top-right":a=-1,s=1;break;case"right":a=0,s=1;break;case"bottom-right":a=1,s=1;break;case"bottom":a=1,s=0;break;case"bottom-left":a=1,s=-1;break;case"left":a=0,s=-1;break;default:o.Util.error("Unknown emboss direction: "+i)}do{var d=(f-1)*h,p=a;f+p<1&&(p=0),f+p>u&&(p=0);var v=(f-1+p)*c*4,g=c;do{var y=d+4*(g-1),m=s;g+m<1&&(m=0),g+m>c&&(m=0);var b=v+4*(g-1+m),_=l[y]-l[b],w=l[y+1]-l[b+1],x=l[y+2]-l[b+2],k=_,C=k>0?k:-k;if((w>0?w:-w)>C&&(k=w),(x>0?x:-x)>C&&(k=x),k*=e,r){var S=l[y]+k,O=l[y+1]+k,P=l[y+2]+k;l[y]=S>255?255:S<0?0:S,l[y+1]=O>255?255:O<0?0:O,l[y+2]=P>255?255:P<0?0:P}else{var j=n-k;j<0?j=0:j>255&&(j=255),l[y]=l[y+1]=l[y+2]=j}}while(--g)}while(--f)},i.Factory.addGetterSetter(r.Node,"embossStrength",.5,a.getNumberValidator(),i.Factory.afterSetFilter),i.Factory.addGetterSetter(r.Node,"embossWhiteLevel",.5,a.getNumberValidator(),i.Factory.afterSetFilter),i.Factory.addGetterSetter(r.Node,"embossDirection","top-left",null,i.Factory.afterSetFilter),i.Factory.addGetterSetter(r.Node,"embossBlend",!1,null,i.Factory.afterSetFilter)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(4),o=n(2);function a(t,e,n,i,r){var o=n-e,a=r-i;return 0===o?i+a/2:0===a?i:a*((t-e)/o)+i}e.Enhance=function(t){var e,n,i,r,o=t.data,s=o.length,l=o[0],c=l,u=o[1],h=u,f=o[2],d=f,p=this.enhance();if(0!==p){for(r=0;r<s;r+=4)(e=o[r+0])<l?l=e:e>c&&(c=e),(n=o[r+1])<u?u=n:n>h&&(h=n),(i=o[r+2])<f?f=i:i>d&&(d=i);var v,g,y,m,b,_,w,x,k;for(c===l&&(c=255,l=0),h===u&&(h=255,u=0),d===f&&(d=255,f=0),p>0?(g=c+p*(255-c),y=l-p*(l-0),b=h+p*(255-h),_=u-p*(u-0),x=d+p*(255-d),k=f-p*(f-0)):(g=c+p*(c-(v=.5*(c+l))),y=l+p*(l-v),b=h+p*(h-(m=.5*(h+u))),_=u+p*(u-m),x=d+p*(d-(w=.5*(d+f))),k=f+p*(f-w)),r=0;r<s;r+=4)o[r+0]=a(o[r+0],l,c,y,g),o[r+1]=a(o[r+1],u,h,_,b),o[r+2]=a(o[r+2],f,d,k,x)}},i.Factory.addGetterSetter(r.Node,"enhance",0,o.getNumberValidator(),i.Factory.afterSetFilter)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Grayscale=function(t){var e,n,i=t.data,r=i.length;for(e=0;e<r;e+=4)n=.34*i[e]+.5*i[e+1]+.16*i[e+2],i[e]=n,i[e+1]=n,i[e+2]=n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(4),o=n(2);i.Factory.addGetterSetter(r.Node,"hue",0,o.getNumberValidator(),i.Factory.afterSetFilter),i.Factory.addGetterSetter(r.Node,"saturation",0,o.getNumberValidator(),i.Factory.afterSetFilter),i.Factory.addGetterSetter(r.Node,"luminance",0,o.getNumberValidator(),i.Factory.afterSetFilter),e.HSL=function(t){var e,n,i,r,o,a=t.data,s=a.length,l=Math.pow(2,this.saturation()),c=Math.abs(this.hue()+360)%360,u=127*this.luminance(),h=1*l*Math.cos(c*Math.PI/180),f=1*l*Math.sin(c*Math.PI/180),d=.299+.701*h+.167*f,p=.587-.587*h+.33*f,v=.114-.114*h-.497*f,g=.299-.299*h-.328*f,y=.587+.413*h+.035*f,m=.114-.114*h+.293*f,b=.299-.3*h+1.25*f,_=.587-.586*h-1.05*f,w=.114+.886*h-.2*f;for(e=0;e<s;e+=4)n=a[e+0],i=a[e+1],r=a[e+2],o=a[e+3],a[e+0]=d*n+p*i+v*r+u,a[e+1]=g*n+y*i+m*r+u,a[e+2]=b*n+_*i+w*r+u,a[e+3]=o}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(4),o=n(2);e.HSV=function(t){var e,n,i,r,o,a=t.data,s=a.length,l=Math.pow(2,this.value()),c=Math.pow(2,this.saturation()),u=Math.abs(this.hue()+360)%360,h=l*c*Math.cos(u*Math.PI/180),f=l*c*Math.sin(u*Math.PI/180),d=.299*l+.701*h+.167*f,p=.587*l-.587*h+.33*f,v=.114*l-.114*h-.497*f,g=.299*l-.299*h-.328*f,y=.587*l+.413*h+.035*f,m=.114*l-.114*h+.293*f,b=.299*l-.3*h+1.25*f,_=.587*l-.586*h-1.05*f,w=.114*l+.886*h-.2*f;for(e=0;e<s;e+=4)n=a[e+0],i=a[e+1],r=a[e+2],o=a[e+3],a[e+0]=d*n+p*i+v*r,a[e+1]=g*n+y*i+m*r,a[e+2]=b*n+_*i+w*r,a[e+3]=o},i.Factory.addGetterSetter(r.Node,"hue",0,o.getNumberValidator(),i.Factory.afterSetFilter),i.Factory.addGetterSetter(r.Node,"saturation",0,o.getNumberValidator(),i.Factory.afterSetFilter),i.Factory.addGetterSetter(r.Node,"value",0,o.getNumberValidator(),i.Factory.afterSetFilter)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Invert=function(t){var e,n=t.data,i=n.length;for(e=0;e<i;e+=4)n[e]=255-n[e],n[e+1]=255-n[e+1],n[e+2]=255-n[e+2]}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(4),o=n(3),a=n(2);e.Kaleidoscope=function(t){var e,n,i,r,a,s,l,c,u,h=t.width,f=t.height,d=Math.round(this.kaleidoscopePower()),p=Math.round(this.kaleidoscopeAngle()),v=Math.floor(h*(p%360)/360);if(!(d<1)){var g=o.Util.createCanvasElement();g.width=h,g.height=f;var y=g.getContext("2d").getImageData(0,0,h,f);!function(t,e,n){var i,r,o,a,s=t.data,l=e.data,c=t.width,u=t.height,h=n.polarCenterX||c/2,f=n.polarCenterY||u/2,d=0,p=0,v=0,g=0,y=Math.sqrt(h*h+f*f);r=c-h,o=u-f,y=(a=Math.sqrt(r*r+o*o))>y?a:y;var m,b,_,w,x=u,k=c,C=360/k*Math.PI/180;for(b=0;b<k;b+=1)for(_=Math.sin(b*C),w=Math.cos(b*C),m=0;m<x;m+=1)r=Math.floor(h+y*m/x*w),d=s[(i=4*((o=Math.floor(f+y*m/x*_))*c+r))+0],p=s[i+1],v=s[i+2],g=s[i+3],l[(i=4*(b+m*c))+0]=d,l[i+1]=p,l[i+2]=v,l[i+3]=g}(t,y,{polarCenterX:h/2,polarCenterY:f/2});for(var m=h/Math.pow(2,d);m<=8;)m*=2,d-=1;var b=m=Math.ceil(m),_=0,w=b,x=1;for(v+m>h&&(_=b,w=0,x=-1),n=0;n<f;n+=1)for(e=_;e!==w;e+=x)c=4*(h*n+Math.round(e+v)%h),r=y.data[c+0],a=y.data[c+1],s=y.data[c+2],l=y.data[c+3],u=4*(h*n+e),y.data[u+0]=r,y.data[u+1]=a,y.data[u+2]=s,y.data[u+3]=l;for(n=0;n<f;n+=1)for(b=Math.floor(m),i=0;i<d;i+=1){for(e=0;e<b+1;e+=1)c=4*(h*n+e),r=y.data[c+0],a=y.data[c+1],s=y.data[c+2],l=y.data[c+3],u=4*(h*n+2*b-e-1),y.data[u+0]=r,y.data[u+1]=a,y.data[u+2]=s,y.data[u+3]=l;b*=2}!function(t,e,n){var i,r,o,a,s,l,c=t.data,u=e.data,h=t.width,f=t.height,d=n.polarCenterX||h/2,p=n.polarCenterY||f/2,v=0,g=0,y=0,m=0,b=Math.sqrt(d*d+p*p);r=h-d,o=f-p,b=(l=Math.sqrt(r*r+o*o))>b?l:b;var _,w,x,k=f,C=h,S=n.polarRotation||0;for(r=0;r<h;r+=1)for(o=0;o<f;o+=1)a=r-d,s=o-p,_=Math.sqrt(a*a+s*s)*k/b,w=(w=(180*Math.atan2(s,a)/Math.PI+360+S)%360)*C/360,x=Math.floor(w),v=c[(i=4*(Math.floor(_)*h+x))+0],g=c[i+1],y=c[i+2],m=c[i+3],u[(i=4*(o*h+r))+0]=v,u[i+1]=g,u[i+2]=y,u[i+3]=m}(y,t,{polarRotation:0})}},i.Factory.addGetterSetter(r.Node,"kaleidoscopePower",2,a.getNumberValidator(),i.Factory.afterSetFilter),i.Factory.addGetterSetter(r.Node,"kaleidoscopeAngle",0,a.getNumberValidator(),i.Factory.afterSetFilter)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(4),o=n(2);function a(t,e,n){var i=4*(n*t.width+e),r=[];return r.push(t.data[i++],t.data[i++],t.data[i++],t.data[i++]),r}function s(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)+Math.pow(t[2]-e[2],2))}e.Mask=function(t){var e=function(t,e){var n=a(t,0,0),i=a(t,t.width-1,0),r=a(t,0,t.height-1),o=a(t,t.width-1,t.height-1),l=e||10;if(s(n,i)<l&&s(i,o)<l&&s(o,r)<l&&s(r,n)<l){for(var c=function(t){for(var e=[0,0,0],n=0;n<t.length;n++)e[0]+=t[n][0],e[1]+=t[n][1],e[2]+=t[n][2];return e[0]/=t.length,e[1]/=t.length,e[2]/=t.length,e}([i,n,o,r]),u=[],h=0;h<t.width*t.height;h++){var f=s(c,[t.data[4*h],t.data[4*h+1],t.data[4*h+2]]);u[h]=f<l?0:255}return u}}(t,this.threshold());return e&&function(t,e){for(var n=0;n<t.width*t.height;n++)t.data[4*n+3]=e[n]}(t,e=function(t,e,n){for(var i=[1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9],r=Math.round(Math.sqrt(i.length)),o=Math.floor(r/2),a=[],s=0;s<n;s++)for(var l=0;l<e;l++){for(var c=s*e+l,u=0,h=0;h<r;h++)for(var f=0;f<r;f++){var d=s+h-o,p=l+f-o;if(d>=0&&d<n&&p>=0&&p<e){var v=i[h*r+f];u+=t[d*e+p]*v}}a[c]=u}return a}(e=function(t,e,n){for(var i=[1,1,1,1,1,1,1,1,1],r=Math.round(Math.sqrt(i.length)),o=Math.floor(r/2),a=[],s=0;s<n;s++)for(var l=0;l<e;l++){for(var c=s*e+l,u=0,h=0;h<r;h++)for(var f=0;f<r;f++){var d=s+h-o,p=l+f-o;if(d>=0&&d<n&&p>=0&&p<e){var v=i[h*r+f];u+=t[d*e+p]*v}}a[c]=u>=1020?255:0}return a}(e=function(t,e,n){for(var i=[1,1,1,1,0,1,1,1,1],r=Math.round(Math.sqrt(i.length)),o=Math.floor(r/2),a=[],s=0;s<n;s++)for(var l=0;l<e;l++){for(var c=s*e+l,u=0,h=0;h<r;h++)for(var f=0;f<r;f++){var d=s+h-o,p=l+f-o;if(d>=0&&d<n&&p>=0&&p<e){var v=i[h*r+f];u+=t[d*e+p]*v}}a[c]=2040===u?255:0}return a}(e,t.width,t.height),t.width,t.height),t.width,t.height)),t},i.Factory.addGetterSetter(r.Node,"threshold",0,o.getNumberValidator(),i.Factory.afterSetFilter)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(4),o=n(2);e.Noise=function(t){var e,n=255*this.noise(),i=t.data,r=i.length,o=n/2;for(e=0;e<r;e+=4)i[e+0]+=o-2*o*Math.random(),i[e+1]+=o-2*o*Math.random(),i[e+2]+=o-2*o*Math.random()},i.Factory.addGetterSetter(r.Node,"noise",.2,o.getNumberValidator(),i.Factory.afterSetFilter)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(3),o=n(4),a=n(2);e.Pixelate=function(t){var e,n,i,o,a,s,l,c,u,h,f,d,p,v,g=Math.ceil(this.pixelSize()),y=t.width,m=t.height,b=Math.ceil(y/g),_=Math.ceil(m/g),w=t.data;if(g<=0)r.Util.error("pixelSize value can not be <= 0");else for(d=0;d<b;d+=1)for(p=0;p<_;p+=1){for(o=0,a=0,s=0,l=0,u=(c=d*g)+g,f=(h=p*g)+g,v=0,e=c;e<u;e+=1)if(!(e>=y))for(n=h;n<f;n+=1)n>=m||(o+=w[(i=4*(y*n+e))+0],a+=w[i+1],s+=w[i+2],l+=w[i+3],v+=1);for(o/=v,a/=v,s/=v,l/=v,e=c;e<u;e+=1)if(!(e>=y))for(n=h;n<f;n+=1)n>=m||(w[(i=4*(y*n+e))+0]=o,w[i+1]=a,w[i+2]=s,w[i+3]=l)}},i.Factory.addGetterSetter(o.Node,"pixelSize",8,a.getNumberValidator(),i.Factory.afterSetFilter)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(4),o=n(2);e.Posterize=function(t){var e,n=Math.round(254*this.levels())+1,i=t.data,r=i.length,o=255/n;for(e=0;e<r;e+=1)i[e]=Math.floor(i[e]/o)*o},i.Factory.addGetterSetter(r.Node,"levels",.5,o.getNumberValidator(),i.Factory.afterSetFilter)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(4),o=n(2);e.RGB=function(t){var e,n,i=t.data,r=i.length,o=this.red(),a=this.green(),s=this.blue();for(e=0;e<r;e+=4)n=(.34*i[e]+.5*i[e+1]+.16*i[e+2])/255,i[e]=n*o,i[e+1]=n*a,i[e+2]=n*s,i[e+3]=i[e+3]},i.Factory.addGetterSetter(r.Node,"red",0,(function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)})),i.Factory.addGetterSetter(r.Node,"green",0,(function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)})),i.Factory.addGetterSetter(r.Node,"blue",0,o.RGBComponent,i.Factory.afterSetFilter)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(4),o=n(2);e.RGBA=function(t){var e,n,i=t.data,r=i.length,o=this.red(),a=this.green(),s=this.blue(),l=this.alpha();for(e=0;e<r;e+=4)n=1-l,i[e]=o*l+i[e]*n,i[e+1]=a*l+i[e+1]*n,i[e+2]=s*l+i[e+2]*n},i.Factory.addGetterSetter(r.Node,"red",0,(function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)})),i.Factory.addGetterSetter(r.Node,"green",0,(function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)})),i.Factory.addGetterSetter(r.Node,"blue",0,o.RGBComponent,i.Factory.afterSetFilter),i.Factory.addGetterSetter(r.Node,"alpha",1,(function(t){return this._filterUpToDate=!1,t>1?1:t<0?0:t}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Sepia=function(t){var e,n,i,r,o=t.data,a=o.length;for(e=0;e<a;e+=4)n=o[e+0],i=o[e+1],r=o[e+2],o[e+0]=Math.min(255,.393*n+.769*i+.189*r),o[e+1]=Math.min(255,.349*n+.686*i+.168*r),o[e+2]=Math.min(255,.272*n+.534*i+.131*r)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Solarize=function(t){var e=t.data,n=t.width,i=4*n,r=t.height;do{var o=(r-1)*i,a=n;do{var s=o+4*(a-1),l=e[s],c=e[s+1],u=e[s+2];l>127&&(l=255-l),c>127&&(c=255-c),u>127&&(u=255-u),e[s]=l,e[s+1]=c,e[s+2]=u}while(--a)}while(--r)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(4),o=n(2);e.Threshold=function(t){var e,n=255*this.threshold(),i=t.data,r=i.length;for(e=0;e<r;e+=1)i[e]=i[e]<n?0:255},i.Factory.addGetterSetter(r.Node,"threshold",.5,o.getNumberValidator(),i.Factory.afterSetFilter)},function(t,e,n){},function(t,e,n){"use strict";function i(t){return function(t){if(Array.isArray(t))return t}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}n.r(e);var o=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"string"==typeof e?(this.el=document.createElement(e),this.el.className=n):this.el=e,this.data={}}var e,n,o;return e=t,(n=[{key:"data",value:function(t,e){return void 0!==e?(this.data[t]=e,this):this.data[t]}},{key:"on",value:function(t,e){var n=i(t.split(".")),r=n[0],o=n.slice(1),a=r;return"mousewheel"===a&&/Firefox/i.test(window.navigator.userAgent)&&(a="DOMMouseScroll"),this.el.addEventListener(a,(function(t){e(t);for(var n=0;n<o.length;n+=1){var i=o[n];if("left"===i&&0!==t.button)return;if("right"===i&&2!==t.button)return;"stop"===i&&t.stopPropagation()}})),this}},{key:"offset",value:function(t){var e=this;if(void 0!==t)return Object.keys(t).forEach((function(n){e.css(n,"".concat(t[n],"px"))})),this;var n=this.el;return{top:n.offsetTop,left:n.offsetLeft,height:n.offsetHeight,width:n.offsetWidth}}},{key:"scroll",value:function(t){var e=this.el;return void 0!==t&&(void 0!==t.left&&(e.scrollLeft=t.left),void 0!==t.top&&(e.scrollTop=t.top)),{left:e.scrollLeft,top:e.scrollTop}}},{key:"box",value:function(){return this.el.getBoundingClientRect()}},{key:"parent",value:function(){return new t(this.el.parentNode)}},{key:"children",value:function(){for(var t=this,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return 0===arguments.length?this.el.childNodes:(n.forEach((function(e){return t.child(e)})),this)}},{key:"child",value:function(e){var n=e;return"string"==typeof e?n=document.createTextNode(e):e instanceof t&&(n=e.el),this.el.appendChild(n),this}},{key:"contains",value:function(t){return this.el.contains(t)}},{key:"className",value:function(t){return void 0!==t?(this.el.className=t,this):this.el.className}},{key:"addClass",value:function(t){return this.el.classList.add(t),this}},{key:"hasClass",value:function(t){return this.el.classList.contains(t)}},{key:"removeClass",value:function(t){return this.el.classList.remove(t),this}},{key:"toggle",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"active";return this.toggleClass(t)}},{key:"toggleClass",value:function(t){return this.el.classList.toggle(t)}},{key:"active",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"active";return t?this.addClass(e):this.removeClass(e),this}},{key:"checked",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.active(t,"checked"),this}},{key:"disabled",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return t?this.addClass("disabled"):this.removeClass("disabled"),this}},{key:"attr",value:function(t,e){var n=this;if(void 0!==e)this.el.setAttribute(t,e);else{if("string"==typeof t)return this.el.getAttribute(t);Object.keys(t).forEach((function(e){n.el.setAttribute(e,t[e])}))}return this}},{key:"removeAttr",value:function(t){return this.el.removeAttribute(t),this}},{key:"html",value:function(t){return void 0!==t?(this.el.innerHTML=t,this):this.el.innerHTML}},{key:"val",value:function(t){return void 0!==t?(this.el.value=t,this):this.el.value}},{key:"cssRemoveKeys",value:function(){for(var t=this,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return n.forEach((function(e){return t.el.style.removeProperty(e)})),this}},{key:"css",value:function(t,e){var n=this;return void 0===e&&"string"!=typeof t?(Object.keys(t).forEach((function(e){n.el.style[e]=t[e]})),this):void 0!==e?(this.el.style[t]=e,this):this.el.style[t]}},{key:"computedStyle",value:function(){return window.getComputedStyle(this.el,null)}},{key:"show",value:function(){return this.css("display","block"),this}},{key:"hide",value:function(){return this.css("display","none"),this}}])&&r(e.prototype,n),o&&r(e,o),t}(),a=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return new o(t,e)};function s(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var l=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"];function c(t){for(var e="",n=t;n>=l.length;)n/=l.length,n-=1,e+=l[parseInt(n,10)%l.length];var i=t%l.length;return e+=l[i]}function u(t){for(var e=0,n=0;n<t.length-1;n+=1){var i=t.charCodeAt(n)-65,r=t.length-1-n;e+=Math.pow(l.length,r)+l.length*i}return e+=t.charCodeAt(t.length-1)-65}function h(t){for(var e="",n="",i=0;i<t.length;i+=1)t.charAt(i)>="0"&&t.charAt(i)<="9"?n+=t.charAt(i):e+=t.charAt(i);return[u(e),parseInt(n,10)-1]}function f(t,e,n){var i=s(h(t),2),r=i[0],o=i[1];return c(r+e)+(o+n)}function d(t,e){return"".concat(c(t)).concat(e+1)}function p(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function v(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var g=function(){function t(e,n,i,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.sri=e,this.sci=n,this.eri=i,this.eci=r,this.w=o,this.h=a}var e,n,i;return e=t,i=[{key:"valueOf",value:function(e){var n=e.split(":"),i=p(h(n[0]),2),r=i[0],o=i[1],a=o,s=r;if(n.length>1){var l=p(h(n[1]),2);s=l[0],a=l[1]}return new t(o,r,a,s)}}],(n=[{key:"set",value:function(t,e,n,i){this.sri=t,this.sci=e,this.eri=n,this.eci=i}},{key:"multiple",value:function(){return this.eri-this.sri>0||this.eci-this.sci>0}},{key:"includes",value:function(){for(var t=0,e=0,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];if(1===i.length){var o=h(i[0]),a=p(o,2);e=a[0],t=a[1]}else 2===i.length&&(t=i[0],e=i[1]);var s=this.sri,l=this.sci,c=this.eri,u=this.eci;return s<=t&&t<=c&&l<=e&&e<=u}},{key:"each",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return!0},n=this.sri,i=this.sci,r=this.eri,o=this.eci,a=n;a<=r;a+=1)if(e(a))for(var s=i;s<=o;s+=1)t(a,s)}},{key:"contains",value:function(t){return this.sri<=t.sri&&this.sci<=t.sci&&this.eri>=t.eri&&this.eci>=t.eci}},{key:"within",value:function(t){return this.sri>=t.sri&&this.sci>=t.sci&&this.eri<=t.eri&&this.eci<=t.eci}},{key:"disjoint",value:function(t){return this.sri>t.eri||this.sci>t.eci||t.sri>this.eri||t.sci>this.eci}},{key:"intersects",value:function(t){return this.sri<=t.eri&&this.sci<=t.eci&&t.sri<=this.eri&&t.sci<=this.eci}},{key:"union",value:function(e){var n=this.sri,i=this.sci,r=this.eri,o=this.eci;return new t(e.sri<n?e.sri:n,e.sci<i?e.sci:i,e.eri>r?e.eri:r,e.eci>o?e.eci:o)}},{key:"difference",value:function(e){var n=[],i=function(e,i,r,o){n.push(new t(e,i,r,o))},r=this.sri,o=this.sci,a=this.eri,s=this.eci,l=e.sri-r,c=e.sci-o,u=a-e.eri,h=s-e.eci;return l>0?(i(r,o,e.sri-1,s),u>0?(i(e.eri+1,o,a,s),c>0&&i(e.sri,o,e.eri,e.sci-1),h>0&&i(e.sri,e.eci+1,e.eri,s)):(c>0&&i(e.sri,o,a,e.sci-1),h>0&&i(e.sri,e.eci+1,a,s))):u>0&&(i(e.eri+1,o,a,s),c>0&&i(r,o,e.eri,e.sci-1),h>0&&i(r,e.eci+1,e.eri,s)),c>0?(i(r,o,a,e.sci-1),h>0?(i(r,e.eri+1,a,s),l>0&&i(r,e.sci,e.sri-1,e.eci),u>0&&i(e.sri+1,e.sci,a,e.eci)):(l>0&&i(r,e.sci,e.sri-1,s),u>0&&i(e.sri+1,e.sci,a,s))):h>0&&(i(a,e.eci+1,a,s),l>0&&i(r,o,e.sri-1,e.eci),u>0&&i(e.eri+1,o,a,e.eci)),n}},{key:"size",value:function(){return[this.eri-this.sri+1,this.eci-this.sci+1]}},{key:"toString",value:function(){var t=this.sri,e=this.sci,n=this.eri,i=this.eci,r=d(e,t);return this.multiple()&&(r="".concat(r,":").concat(d(i,n))),r}},{key:"clone",value:function(){return new t(this.sri,this.sci,this.eri,this.eci,this.w,this.h)}},{key:"equals",value:function(t){return this.eri===t.eri&&this.eci===t.eci&&this.sri===t.sri&&this.sci===t.sci}}])&&v(e.prototype,n),i&&v(e,i),t}();function y(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var m=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.range=new g(0,0,0,0),this.ri=0,this.ci=0}var e,n,i;return e=t,(n=[{key:"multiple",value:function(){return this.range.multiple()}},{key:"setIndexes",value:function(t,e){this.ri=t,this.ci=e}},{key:"size",value:function(){return this.range.size()}}])&&y(e.prototype,n),i&&y(e,i),t}();var b=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=0,this.y=0,this.ri=0,this.ci=0};function _(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var w=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.undoItems=[],this.redoItems=[]}var e,n,i;return e=t,(n=[{key:"add",value:function(t){this.undoItems.push(JSON.stringify(t)),this.redoItems=[]}},{key:"canUndo",value:function(){return this.undoItems.length>0}},{key:"canRedo",value:function(){return this.redoItems.length>0}},{key:"undo",value:function(t,e){var n=this.undoItems,i=this.redoItems;this.canUndo()&&(i.push(JSON.stringify(t)),e(JSON.parse(n.pop())))}},{key:"redo",value:function(t,e){var n=this.undoItems,i=this.redoItems;this.canRedo()&&(n.push(JSON.stringify(t)),e(JSON.parse(i.pop())))}}])&&_(e.prototype,n),i&&_(e,i),t}();function x(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var k=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.range=null,this.state="clear"}var e,n,i;return e=t,(n=[{key:"copy",value:function(t){return this.range=t,this.state="copy",this}},{key:"cut",value:function(t){return this.range=t,this.state="cut",this}},{key:"isCopy",value:function(){return"copy"===this.state}},{key:"isCut",value:function(){return"cut"===this.state}},{key:"isClear",value:function(){return"clear"===this.state}},{key:"clear",value:function(){this.range=null,this.state="clear"}}])&&x(e.prototype,n),i&&x(e,i),t}();function C(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function S(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function O(t,e,n){return e&&S(t.prototype,e),n&&S(t,n),t}var P=function(){function t(e,n,i){C(this,t),this.ci=e,this.operator=n,this.value=i}return O(t,[{key:"set",value:function(t,e){this.operator=t,this.value=e}},{key:"includes",value:function(t){var e=this.operator,n=this.value;return"all"===e||"in"===e&&n.includes(t)}},{key:"vlength",value:function(){var t=this.operator,e=this.value;return"in"===t?e.length:0}},{key:"getData",value:function(){return{ci:this.ci,operator:this.operator,value:this.value}}}]),t}(),j=function(){function t(e,n){C(this,t),this.ci=e,this.order=n}return O(t,[{key:"asc",value:function(){return"asc"===this.order}},{key:"desc",value:function(){return"desc"===this.order}}]),t}(),T=function(){function t(){C(this,t),this.ref=null,this.filters=[],this.sort=null}return O(t,[{key:"setData",value:function(t){var e=t.ref,n=t.filters,i=t.sort;null!=e&&(this.ref=e,this.fitlers=n.map((function(t){return new P(t.ci,t.operator,t.value)})),i&&(this.sort=new j(i.ci,i.order)))}},{key:"getData",value:function(){if(this.active()){var t=this.ref,e=this.filters,n=this.sort;return{ref:t,filters:e.map((function(t){return t.getData()})),sort:n}}return{}}},{key:"addFilter",value:function(t,e,n){var i=this.getFilter(t);null==i?this.filters.push(new P(t,e,n)):i.set(e,n)}},{key:"setSort",value:function(t,e){this.sort=e?new j(t,e):null}},{key:"includes",value:function(t,e){return!!this.active()&&this.hrange().includes(t,e)}},{key:"getSort",value:function(t){var e=this.sort;return e&&e.ci===t?e:null}},{key:"getFilter",value:function(t){for(var e=this.filters,n=0;n<e.length;n+=1)if(e[n].ci===t)return e[n];return null}},{key:"filteredRows",value:function(t){var e=new Set,n=new Set;if(this.active())for(var i=this.range(),r=i.sri,o=i.eri,a=this.filters,s=r+1;s<=o;s+=1)for(var l=0;l<a.length;l+=1){var c=a[l],u=t(s,c.ci),h=u?u.text:"";if(!c.includes(h)){e.add(s);break}n.add(s)}return{rset:e,fset:n}}},{key:"items",value:function(t,e){var n={};if(this.active())for(var i=this.range(),r=i.sri,o=i.eri,a=r+1;a<=o;a+=1){var s=e(a,t);if(null===s||/^\s*$/.test(s.text))n[""]=(n[""]||0)+1;else{var l=s.text,c=(n[l]||0)+1;n[l]=c}}return n}},{key:"range",value:function(){return g.valueOf(this.ref)}},{key:"hrange",value:function(){var t=this.range();return t.eri=t.sri,t}},{key:"clear",value:function(){this.ref=null,this.filters=[],this.sort=null}},{key:"active",value:function(){return null!==this.ref}}]),t}();function E(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var M=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._=e}var e,n,i;return e=t,(n=[{key:"forEach",value:function(t){this._.forEach(t)}},{key:"deleteWithin",value:function(t){this._=this._.filter((function(e){return!e.within(t)}))}},{key:"getFirstIncludes",value:function(t,e){for(var n=0;n<this._.length;n+=1){var i=this._[n];if(i.includes(t,e))return i}return null}},{key:"filterIntersects",value:function(e){return new t(this._.filter((function(t){return t.intersects(e)})))}},{key:"intersects",value:function(t){for(var e=0;e<this._.length;e+=1)if(this._[e].intersects(t))return!0;return!1}},{key:"union",value:function(t){var e=t;return this._.forEach((function(t){t.intersects(e)&&(e=t.union(e))})),e}},{key:"add",value:function(t){this.deleteWithin(t),this._.push(t)}},{key:"shift",value:function(t,e,n,i){this._.forEach((function(r){var o=r.sri,a=r.sci,s=r.eri,l=r.eci,c=r;"row"===t?o>=e?(c.sri+=n,c.eri+=n):o<e&&e<=s&&(c.eri+=n,i(o,a,n,0)):"column"===t&&(a>=e?(c.sci+=n,c.eci+=n):a<e&&e<=l&&(c.eci+=n,i(o,a,0,n)))}))}},{key:"move",value:function(t,e,n){this._.forEach((function(i){var r=i;r.within(t)&&(r.eri+=e,r.sri+=e,r.sci+=n,r.eci+=n)}))}},{key:"setData",value:function(t){return this._=t.map((function(t){return g.valueOf(t)})),this}},{key:"getData",value:function(){return this._.map((function(t){return t.toString()}))}}])&&E(e.prototype,n),i&&E(e,i),t}();var A=function t(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return i.forEach((function(n){Object.keys(n).forEach((function(i){var r=n[i];"string"==typeof r||"number"==typeof r||"boolean"==typeof r?e[i]=r:"function"!=typeof r&&!Array.isArray(r)&&r instanceof Object?(e[i]=e[i]||{},t(e[i],r)):e[i]=r}))})),e};var F={cloneDeep:function(t){return JSON.parse(JSON.stringify(t))},merge:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return A.apply(void 0,[{}].concat(e))},equals:function t(e,n){var i=Object.keys(e);if(i.length!==Object.keys(n).length)return!1;for(var r=0;r<i.length;r+=1){var o=i[r],a=e[o],s=n[o];if(void 0===s)return!1;if("string"==typeof a||"number"==typeof a||"boolean"==typeof a){if(a!==s)return!1}else if(Array.isArray(a)){if(a.length!==s.length)return!1;for(var l=0;l<a.length;l+=1)if(!t(a[l],s[l]))return!1}else if("function"!=typeof a&&!Array.isArray(a)&&a instanceof Object&&!t(a,s))return!1}return!0},arrayEquals:function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n+=1)if(t[n]!==e[n])return!1;return!0},sum:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(t){return t},n=0,i=0;return Object.keys(t).forEach((function(r){n+=e(t[r],r),i+=1})),[n,i]},rangeEach:function(t,e,n){for(var i=t;i<e;i+=1)n(i)},rangeSum:function(t,e,n){for(var i=0,r=t;r<e;r+=1)i+=n(r);return i},rangeReduceIf:function(t,e,n,i,r,o){for(var a=n,s=i,l=t;l<e&&!(a>r);l+=1)a+=s=o(l);return[l,a-s,s]},deleteProperty:function(t,e){var n=t["".concat(e)];return delete t["".concat(e)],n}};function D(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function I(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var R=function(){function t(e){var n=e.len,i=e.height;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._={},this.len=n,this.height=i}var e,n,i;return e=t,(n=[{key:"getHeight",value:function(t){var e=this.get(t);return e&&e.height?e.height:this.height}},{key:"setHeight",value:function(t,e){this.getOrNew(t).height=e}},{key:"setStyle",value:function(t,e){this.getOrNew(t).style=e}},{key:"sumHeight",value:function(t,e,n){var i=this;return F.rangeSum(t,e,(function(t){return n&&n.has(t)?0:i.getHeight(t)}))}},{key:"totalHeight",value:function(){return this.sumHeight(0,this.len)}},{key:"get",value:function(t){return this._[t]}},{key:"getOrNew",value:function(t){return this._[t]=this._[t]||{cells:{}},this._[t]}},{key:"getCell",value:function(t,e){var n=this.get(t);return void 0!==n&&void 0!==n.cells&&void 0!==n.cells[e]?n.cells[e]:null}},{key:"getCellMerge",value:function(t,e){var n=this.getCell(t,e);return n&&n.merge?n.merge:[0,0]}},{key:"getCellOrNew",value:function(t,e){var n=this.getOrNew(t);return n.cells[e]=n.cells[e]||{},n.cells[e]}},{key:"setCell",value:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"all",r=this.getOrNew(t);"all"===i?r.cells[e]=n:"text"===i?(r.cells[e]=r.cells[e]||{},r.cells[e].text=n.text):"format"===i&&(r.cells[e]=r.cells[e]||{},r.cells[e].style=n.style,n.merge&&(r.cells[e].merge=n.merge))}},{key:"setCellText",value:function(t,e,n){this.getCellOrNew(t,e).text=n}},{key:"copyPaste",value:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){},o=t.sri,a=t.sci,s=t.eri,l=t.eci,c=e.sri,u=e.sci,h=e.eri,d=e.eci,p=t.size(),v=D(p,2),g=v[0],y=v[1],m=e.size(),b=D(m,2),_=b[0],w=b[1],x=!0,k=0;(h<o||d<a)&&(x=!1,k=h<o?_:w);for(var C=o;C<=s;C+=1)if(this._[C])for(var S=a;S<=l;S+=1)if(this._[C].cells&&this._[C].cells[S])for(var O=c;O<=h;O+=g)for(var P=u;P<=d;P+=y){var j=O+(C-o),T=P+(S-a),E=F.cloneDeep(this._[C].cells[S]);i&&E&&E.text&&E.text.length>0&&function(){var t=E.text,e=P-u+(O-c)+1;if(x||(e-=k+1),"="===t[0])E.text=t.replace(/\w{1,3}\d/g,(function(t){var n=0,i=0;return o===c?n=e:i=e,f(t,n,i)}));else{var n=/[\\.\d]+$/.exec(t);if(null!==n){var i=Number(n[0])+e;E.text=t.substring(0,n.index)+i}}}(),this.setCell(j,T,E,n),r(j,T,E)}}},{key:"cutPaste",value:function(t,e){var n=this,i={};this.each((function(r){n.eachCells(r,(function(o){var a=parseInt(r,10),s=parseInt(o,10);t.includes(r,o)&&(a=e.sri+(a-t.sri),s=e.sci+(s-t.sci)),i[a]=i[a]||{cells:{}},i[a].cells[s]=n._[r].cells[o]}))})),this._=i}},{key:"insert",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n={};this.each((function(i,r){var o=parseInt(i,10);o>=t&&(o+=e),n[o]=r})),this._=n,this.len+=e}},{key:"delete",value:function(t,e){var n=e-t+1,i={};this.each((function(r,o){var a=parseInt(r,10);a<t?i[a]=o:r>e&&(i[a-n]=o)})),this._=i,this.len-=n}},{key:"insertColumn",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.each((function(i,r){var o={};e.eachCells(i,(function(e,i){var r=parseInt(e,10);r>=t&&(r+=n),o[r]=i})),r.cells=o}))}},{key:"deleteColumn",value:function(t,e){var n=this,i=e-t+1;this.each((function(r,o){var a={};n.eachCells(r,(function(n,r){var o=parseInt(n,10);o<t?a[o]=r:o>e&&(a[o-i]=r)})),o.cells=a}))}},{key:"deleteCells",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all";t.each((function(t,i){e.deleteCell(t,i,n)}))}},{key:"deleteCell",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"all",i=this.get(t);if(null!==i){var r=this.getCell(t,e);null!==r&&("all"===n?delete i.cells[e]:"text"===n?(r.text&&delete r.text,r.value&&delete r.value):"format"===n?(void 0!==r.style&&delete r.style,r.merge&&delete r.merge):"merge"===n&&r.merge&&delete r.merge)}}},{key:"each",value:function(t){Object.entries(this._).forEach((function(e){var n=D(e,2),i=n[0],r=n[1];t(i,r)}))}},{key:"eachCells",value:function(t,e){this._[t]&&this._[t].cells&&Object.entries(this._[t].cells).forEach((function(t){var n=D(t,2),i=n[0],r=n[1];e(i,r)}))}},{key:"setData",value:function(t){t.len&&(this.len=t.len,delete t.len),this._=t}},{key:"getData",value:function(){var t=this.len;return Object.assign({len:t},this._)}}])&&I(e.prototype,n),i&&I(e,i),t}();function L(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var G=function(){function t(e){var n=e.len,i=e.width,r=e.indexWidth,o=e.minWidth;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._={},this.len=n,this.width=i,this.indexWidth=r,this.minWidth=o}var e,n,i;return e=t,(n=[{key:"setData",value:function(t){console.log("col setData:",t),t.len&&(this.len=t.len,delete t.len),this._=t}},{key:"getData",value:function(){var t=this.len;return Object.assign({len:t},this._)}},{key:"getWidth",value:function(t){var e=this._[t];return e&&e.width?e.width:this.width}},{key:"getOrNew",value:function(t){return this._[t]=this._[t]||{},this._[t]}},{key:"setWidth",value:function(t,e){console.log("col setWidth: ",t,e),this.getOrNew(t).width=e}},{key:"setStyle",value:function(t,e){this.getOrNew(t).style=e}},{key:"sumWidth",value:function(t,e){var n=this;return F.rangeSum(t,e,(function(t){return n.getWidth(t)}))}},{key:"totalWidth",value:function(){return this.sumWidth(0,this.len)}}])&&L(e.prototype,n),i&&L(e,i),t}(),V="en",N={en:{toolbar:{undo:"Undo",redo:"Redo",paintformat:"Paint format",clearformat:"Clear format",format:"Format",font:"Font",fontSize:"Font size",fontBold:"Font bold",fontItalic:"Font italic",underline:"Underline",strike:"Strike",textColor:"Text color",fillColor:"Fill color",border:"Borders",merge:"Merge cells",align:"Horizontal align",valign:"Vertical align",textwrap:"Text wrapping",freeze:"Freeze cell",overlayer:"OverLayer enable",autofilter:"Filter",formula:"Functions",more:"More"},contextmenu:{copy:"Copy",cut:"Cut",paste:"Paste",pasteValue:"Paste values only",pasteFormat:"Paste format only",insertRow:"Insert row",insertColumn:"Insert column",deleteRow:"Delete row",deleteColumn:"Delete column",deleteCell:"Delete cell",deleteCellText:"Delete cell text",validation:"Data validations"},format:{normal:"Normal",text:"Plain Text",number:"Number",percent:"Percent",rmb:"RMB",usd:"USD",date:"Date",time:"Time",datetime:"Date time",duration:"Duration"},formula:{sum:"Sum",average:"Average",max:"Max",min:"Min",concat:"Concat"},validation:{required:"it must be required",notMatch:"it not match its validation rule",between:"it is between {} and {}",notBetween:"it is not between {} and {}",notIn:"it is not in list",equal:"it equal to {}",notEqual:"it not equal to {}",lessThan:"it less than {}",lessThanEqual:"it less than or equal to {}",greaterThan:"it greater than {}",greaterThanEqual:"it greater than or equal to {}"},error:{pasteForMergedCell:"Unable to do this for merged cells"},calendar:{weeks:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"]},button:{cancel:"Cancel",remove:"Remove",save:"Save",ok:"OK"},sort:{desc:"Sort Z -> A",asc:"Sort A -> Z"},filter:{empty:"empty"},dataValidation:{mode:"Mode",range:"Cell Range",criteria:"Criteria",modeType:{cell:"Cell",column:"Colun",row:"Row"},type:{list:"List",number:"Number",date:"Date",phone:"Phone",email:"Email"},operator:{be:"between",nbe:"not betwwen",lt:"less than",lte:"less than or equal to",gt:"greater than",gte:"greater than or equal to",eq:"equal to",neq:"not equal to"}}}};function z(t,e){if(e&&e[V])for(var n=e[V],i=t.split("."),r=0;r<i.length;r+=1){var o=n[i[r]];if(r===i.length-1)return o;if(!o)return;n=o}}function U(t){var e=z(t,N);return!e&&window&&window.x&&window.x.spreadsheet&&window.x.spreadsheet.$messages&&(e=z(t,window.x.spreadsheet.$messages)),e||""}function B(t){return function(){return U(t)}}function H(t,e){V=t,e&&(N[t]=e)}function W(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function K(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var Y={phone:/^[1-9]\d{10}$/,email:/w+([-+.]w+)*@w+([-.]w+)*.w+([-.]w+)*/};function X(t,e){var n="";if(!t){for(var i=arguments.length,r=new Array(i>2?i-2:0),o=2;o<i;o++)r[o-2]=arguments[o];n=U.apply(void 0,["validation.".concat(e)].concat(r))}return[t,n]}var q=function(){function t(e,n,i,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.required=n,this.value=i,this.type=e,this.operator=r,this.message=""}var e,n,i;return e=t,(n=[{key:"parseValue",value:function(t){var e=this.type;return"date"===e?new Date(t):"number"===e?Number(t):t}},{key:"equals",value:function(t){var e=this.type===t.type&&this.required===t.required&&this.operator===t.operator;return e&&(e=Array.isArray(this.value)?F.arrayEquals(this.value,t.value):this.value===t.value),e}},{key:"values",value:function(){return this.value.split(",")}},{key:"validate",value:function(t){var e=this.required,n=this.operator,i=this.value,r=this.type;if(e&&/^\s*$/.test(t))return X(!1,"required");if(/^\s*$/.test(t))return[!0];if(Y[r]&&!Y[r].test(t))return X(!1,"notMatch");if("list"===r)return X(this.values().includes(t),"notIn");if(n){var o=this.parseValue(t);if("be"===n){var a=W(i,2),s=a[0],l=a[1];return X(o>=this.parseValue(s)&&o<=this.parseValue(l),"between",s,l)}if("nbe"===n){var c=W(i,2),u=c[0],h=c[1];return X(o<this.parseValue(u)||o>this.parseValue(h),"notBetween",u,h)}if("eq"===n)return X(o===this.parseValue(i),"equal",i);if("neq"===n)return X(o!==this.parseValue(i),"notEqual",i);if("lt"===n)return X(o<this.parseValue(i),"lessThan",i);if("lte"===n)return X(o<=this.parseValue(i),"lessThanEqual",i);if("gt"===n)return X(o>this.parseValue(i),"greaterThan",i);if("gte"===n)return X(o>=this.parseValue(i),"greaterThanEqual",i)}return[!0]}}])&&K(e.prototype,n),i&&K(e,i),t}();function J(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function $(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Q(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Z(t,e,n){return e&&Q(t.prototype,e),n&&Q(t,n),t}var tt=function(){function t(e,n,i){$(this,t),this.refs=n,this.mode=e,this.validator=i}return Z(t,[{key:"includes",value:function(t,e){for(var n=this.refs,i=0;i<n.length;i+=1){if(g.valueOf(n[i]).includes(t,e))return!0}return!1}},{key:"addRef",value:function(t){this.remove(g.valueOf(t)),this.refs.push(t)}},{key:"remove",value:function(t){var e=[];this.refs.forEach((function(n){var i=g.valueOf(n);i.intersects(t)?i.difference(t).forEach((function(t){return e.push(t.toString())})):e.push(n)})),this.refs=e}},{key:"getData",value:function(){var t=this.refs,e=this.mode,n=this.validator;return{refs:t,mode:e,type:n.type,required:n.required,operator:n.operator,value:n.value}}}],[{key:"valueOf",value:function(e){var n=e.refs,i=e.mode,r=e.type,o=e.required,a=e.operator,s=e.value;return new t(i,n,new q(r,o,s,a))}}]),t}(),et=function(){function t(){$(this,t),this._=[],this.errors=new Map}return Z(t,[{key:"getError",value:function(t,e){return this.errors.get("".concat(t,"_").concat(e))}},{key:"validate",value:function(t,e,n){var i=this.get(t,e),r="".concat(t,"_").concat(e),o=this.errors;if(null!==i){var a=J(i.validator.validate(n),2),s=a[0],l=a[1];s?o.delete(r):o.set(r,l)}else o.delete(r);return!0}},{key:"add",value:function(t,e,n){var i=n.type,r=n.required,o=n.value,a=n.operator,s=new q(i,r,o,a),l=this.getByValidator(s);null!==l?l.addRef(e):this._.push(new tt(t,[e],s))}},{key:"getByValidator",value:function(t){for(var e=0;e<this._.length;e+=1){var n=this._[e];if(n.validator.equals(t))return n}return null}},{key:"get",value:function(t,e){for(var n=0;n<this._.length;n+=1){var i=this._[n];if(i.includes(t,e))return i}return null}},{key:"remove",value:function(t){this.each((function(e){e.remove(t)}))}},{key:"each",value:function(t){this._.forEach((function(e){return t(e)}))}},{key:"getData",value:function(){return this._.filter((function(t){return t.refs.length>0})).map((function(t){return t.getData()}))}},{key:"setData",value:function(t){this._=t.map((function(t){return tt.valueOf(t)}))}}]),t}();function nt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var it=function(){function t(e){var n=e.draggable;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._={},this.draggable=n}var e,n,i;return e=t,(n=[{key:"setData",value:function(t){console.log("shapes setData:",t),this._=t}},{key:"getData",value:function(){return Object.assign(this._)}}])&&nt(e.prototype,n),i&&nt(e,i),t}();function rt(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function ot(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function at(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var st={view:{height:function(){return document.documentElement.clientHeight},width:function(){return document.documentElement.clientWidth}},showGrid:!0,showToolbar:!0,showContextmenu:!0,row:{len:1e3,height:20},col:{len:1e3,width:100,indexWidth:60,minWidth:60},shape:{draggable:!0},style:{bgcolor:"#ffffff",align:"left",valign:"middle",textwrap:!1,strike:!1,underline:!1,color:"#0a0a0a",font:{name:"Arial",size:10,bold:!1,italic:!1}}};function lt(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},i=this.merges,r=e.clone(),o=at(t.size(),2),a=o[0],s=o[1],l=at(e.size(),2),c=l[0],u=l[1];return a>c&&(r.eri=e.sri+a-1),s>u&&(r.eci=e.sci+s-1),!i.intersects(r)||(n(U("error.pasteForMergedCell")),!1)}function ct(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=this.rows,o=this.merges;"all"!==n&&"format"!==n||(r.deleteCells(e,n),o.deleteWithin(e)),r.copyPaste(t,e,n,i,(function(t,e,n){if(n&&n.merge){var i=at(n.merge,2),r=i[0],a=i[1];if(r<=0&&a<=0)return;o.add(new g(t,e,t+r,e+a))}}))}function ut(t,e){var n=this.clipboard,i=this.rows,r=this.merges;i.cutPaste(t,e),r.move(t,e.sri-t.sri,e.sci-t.sci),n.clear()}function ht(t,e,n){var i=this.styles,r=this.rows.getCellOrNew(t,e),o={};void 0!==r.style&&(o=F.cloneDeep(i[r.style])),Object.assign(o,{border:n}),r.style=this.addStyle(o)}function ft(t){var e=this,n=t.mode,i=t.style,r=t.color,o=this.styles,a=this.selector,s=this.rows,l=a.range,c=l.sri,u=l.sci,h=l.eri,f=l.eci,d=!this.isSignleSelected();if(d||"inside"!==n&&"horizontal"!==n&&"vertical"!==n)if("outside"!==n||d){if("none"===n)a.range.each((function(t,n){var i=s.getCell(t,n);if(i&&void 0!==i.style){var r=F.cloneDeep(o[i.style]);delete r.border,i.style=e.addStyle(r)}}));else if("all"===n||"inside"===n||"outside"===n||"horizontal"===n||"vertical"===n)!function(){for(var t=[],o=c;o<=h;o+=1)for(var a=u;a<=f;a+=1){for(var l=[],p=0;p<t.length;p+=1){var v=at(t[p],4),g=v[0],y=v[1],m=v[2],b=v[3];if(o===g+m+1&&l.push(p),g<=o&&o<=g+m&&a===y){a+=b+1;break}}if(l.forEach((function(e){return t.splice(e,1)})),a>f)break;var _=s.getCell(o,a),w=0,x=0;if(_&&_.merge){var k=at(_.merge,2);w=k[0],x=k[1],t.push([o,a,w,x])}var C=w>0&&o+w===h,S=x>0&&a+x===f,O={};"all"===n?O={bottom:[i,r],top:[i,r],left:[i,r],right:[i,r]}:"inside"===n?(!S&&a<f&&(O.right=[i,r]),!C&&o<h&&(O.bottom=[i,r])):"horizontal"===n?!C&&o<h&&(O.bottom=[i,r]):"vertical"===n?!S&&a<f&&(O.right=[i,r]):"outside"===n&&d&&(c===o&&(O.top=[i,r]),(C||h===o)&&(O.bottom=[i,r]),u===a&&(O.left=[i,r]),(S||f===a)&&(O.right=[i,r])),Object.keys(O).length>0&&ht.call(e,o,a,O),a+=x}}();else if("top"===n||"bottom"===n)for(var p=u;p<=f;p+=1)"top"===n&&(ht.call(this,c,p,{top:[i,r]}),p+=s.getCellMerge(c,p)[1]),"bottom"===n&&(ht.call(this,h,p,{bottom:[i,r]}),p+=s.getCellMerge(h,p)[1]);else if("left"===n||"right"===n)for(var v=c;v<=h;v+=1)"left"===n&&(ht.call(this,v,u,{left:[i,r]}),v+=s.getCellMerge(v,u)[0]),"right"===n&&(ht.call(this,v,f,{right:[i,r]}),v+=s.getCellMerge(v,f)[0])}else ht.call(this,c,u,{top:[i,r],bottom:[i,r],left:[i,r],right:[i,r]})}function dt(t,e){var n=this.rows,i=this.freezeTotalHeight(),r=n.height;i+n.height<t&&(r-=e);for(var o=this.exceptRowSet,a=0,s=r,l=n.height;a<n.len&&!(s>t);a+=1)o.has(a)||(s+=l=n.getHeight(a));return(s-=l)<=0?{ri:-1,top:0,height:l}:{ri:a-1,top:s,height:l}}function pt(t,e){var n=this.cols,i=this.freezeTotalWidth(),r=n.indexWidth;i+n.indexWidth<t&&(r-=e);var o=at(F.rangeReduceIf(0,n.len,r,n.indexWidth,t,(function(t){return n.getWidth(t)})),3),a=o[0],s=o[1],l=o[2];return s<=0?{ci:-1,left:0,width:n.indexWidth}:{ci:a-1,left:s,width:l}}var vt=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.settings=F.merge(st,n||{}),this.name=e||"sheet",this.freeze=[0,0],this.styles=[],this.merges=new M,this.rows=new R(this.settings.row),this.cols=new G(this.settings.col),this.shapes=new it(this.settings.shape),this.validations=new et,this.hyperlinks={},this.comments={},this.selector=new m,this.scroll=new b,this.history=new w,this.clipboard=new k,this.autoFilter=new T,this.change=function(){},this.exceptRowSet=new Set,this.sortedRowMap=new Map,this.unsortedRowMap=new Map,this.h_splitSheets=new Array,this.v_splitSheets=new Array}var e,n,i;return e=t,(n=[{key:"addValidation",value:function(t,e,n){var i=this;this.changeData((function(){i.validations.add(t,e,n)}))}},{key:"removeValidation",value:function(){var t=this,e=this.selector.range;this.changeData((function(){t.validations.remove(e)}))}},{key:"getSelectedValidator",value:function(){var t=this.selector,e=t.ri,n=t.ci,i=this.validations.get(e,n);return i?i.validator:null}},{key:"getSelectedValidation",value:function(){var t=this.selector,e=t.ri,n=t.ci,i=t.range,r=this.validations.get(e,n),o={ref:i.toString()};return null!==r&&(o.mode=r.mode,o.validator=r.validator),o}},{key:"canUndo",value:function(){return this.history.canUndo()}},{key:"canRedo",value:function(){return this.history.canRedo()}},{key:"undo",value:function(){var t=this;this.history.undo(this.getData(),(function(e){t.setData(e)}))}},{key:"redo",value:function(){var t=this;this.history.redo(this.getData(),(function(e){t.setData(e)}))}},{key:"copy",value:function(){this.clipboard.copy(this.selector.range)}},{key:"cut",value:function(){this.clipboard.cut(this.selector.range)}},{key:"paste",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},i=this.clipboard,r=this.selector;return!i.isClear()&&!!lt.call(this,i.range,r.range,n)&&(this.changeData((function(){i.isCopy()?ct.call(t,i.range,r.range,e):i.isCut()&&ut.call(t,i.range,r.range)})),!0)}},{key:"autofill",value:function(t,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},r=this.selector.range;return!!lt.call(this,r,t,i)&&(this.changeData((function(){ct.call(n,r,t,e,!0)})),!0)}},{key:"clearClipboard",value:function(){this.clipboard.clear()}},{key:"calSelectedRangeByEnd",value:function(t,e){var n=this.selector,i=this.rows,r=this.cols,o=this.merges,a=n.range,s=a.sri,l=a.sci,c=a.eri,u=a.eci,h=n.ri,f=n.ci,d=t,p=e;return t<0&&(d=i.len-1),e<0&&(p=r.len-1),d>h?(s=h,c=d):(s=d,c=h),p>f?(l=f,u=p):(l=p,u=f),n.range=o.union(new g(s,l,c,u)),n.range=o.union(n.range),n.range}},{key:"calSelectedRangeByStart",value:function(t,e){var n=this.selector,i=this.rows,r=this.cols,o=this.merges.getFirstIncludes(t,e);return null===o&&(o=new g(t,e,t,e),-1===t&&(o.sri=0,o.eri=i.len-1),-1===e&&(o.sci=0,o.eci=r.len-1)),n.range=o,o}},{key:"setSelectedCellAttr",value:function(t,e){var n=this;this.changeData((function(){var i=n.selector,r=n.styles,o=n.rows;"merge"===t?e?n.merge():n.unmerge():"border"===t?ft.call(n,e):"formula"===t?o.getCellOrNew(i.ri,i.ci).text="=".concat(e,"()"):i.range.each((function(i,a){var s=o.getCellOrNew(i,a),l={};if(void 0!==s.style&&(l=F.cloneDeep(r[s.style])),"format"===t)l.format=e,s.style=n.addStyle(l);else if("font-bold"===t||"font-italic"===t||"font-name"===t||"font-size"===t){var c={};c[t.split("-")[1]]=e,l.font=Object.assign(l.font||{},c),s.style=n.addStyle(l)}else"strike"!==t&&"textwrap"!==t&&"underline"!==t&&"align"!==t&&"valign"!==t&&"color"!==t&&"bgcolor"!==t||(l[t]=e,s.style=n.addStyle(l))}))}))}},{key:"setSelectedCellText",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"input",n=this.selector,i=n.ri,r=n.ci,o=i;this.unsortedRowMap.has(i)&&(o=this.unsortedRowMap.get(i)),this.setCellText(o,r,t,e),this.resetAutoFilter()}},{key:"getSelectedCell",value:function(){var t=this.selector,e=t.ri,n=t.ci,i=e;return this.unsortedRowMap.has(e)&&(i=this.unsortedRowMap.get(e)),this.rows.getCell(i,n)}},{key:"xyInSelectedRect",value:function(t,e){var n=this.getSelectedRect(),i=n.left,r=n.top,o=n.width,a=n.height,s=t-this.cols.indexWidth,l=e-this.rows.height;return s>i&&s<i+o&&l>r&&l<r+a}},{key:"getSelectedRect",value:function(){return this.getRect(this.selector.range)}},{key:"getClipboardRect",value:function(){var t=this.clipboard;return t.isClear()?{left:-100,top:-100}:this.getRect(t.range)}},{key:"getRect",value:function(t){var e=this.scroll,n=this.rows,i=this.cols,r=this.exceptRowSet,o=t.sri,a=t.sci,s=t.eri,l=t.eci;if(o<0&&a<0)return{left:0,l:0,top:0,t:0,scroll:e};var c=i.sumWidth(0,a),u=n.sumHeight(0,o,r),h=n.sumHeight(o,s+1,r),f=i.sumWidth(a,l+1),d=c-e.x,p=u-e.y,v=this.freezeTotalHeight(),g=this.freezeTotalWidth();return g>0&&g>c&&(d=c),v>0&&v>u&&(p=u),{l:c,t:u,left:d,top:p,height:h,width:f,scroll:e}}},{key:"getCellRectByXY",value:function(t,e){var n=this.scroll,i=this.merges,r=this.rows,o=this.cols,a=dt.call(this,e,n.y),s=a.ri,l=a.top,c=a.height,u=pt.call(this,t,n.x),h=u.ci,f=u.left,d=u.width;if(-1===h&&(d=o.totalWidth()),-1===s&&(c=r.totalHeight()),s>=0||h>=0){var p=i.getFirstIncludes(s,h);if(p){s=p.sri,h=p.sci;var v=this.cellRect(s,h);f=v.left,l=v.top,d=v.width,c=v.height}}return{ri:s,ci:h,left:f,top:l,width:d,height:c}}},{key:"isSignleSelected",value:function(){var t=this.selector.range,e=t.sri,n=t.sci,i=t.eri,r=t.eci,o=this.getCell(e,n);if(o&&o.merge){var a=at(o.merge,2),s=a[0],l=a[1];if(e+s===i&&n+l===r)return!0}return!this.selector.multiple()}},{key:"canUnmerge",value:function(){var t=this.selector.range,e=t.sri,n=t.sci,i=t.eri,r=t.eci,o=this.getCell(e,n);if(o&&o.merge){var a=at(o.merge,2),s=a[0],l=a[1];if(e+s===i&&n+l===r)return!0}return!1}},{key:"merge",value:function(){var t=this,e=this.selector,n=this.rows;if(!this.isSignleSelected()){var i=at(e.size(),2),r=i[0],o=i[1];if(r>1||o>1){var a=e.range,s=a.sri,l=a.sci;this.changeData((function(){var i=n.getCellOrNew(s,l);i.merge=[r-1,o-1],t.merges.add(e.range),t.rows.deleteCells(e.range),t.rows.setCell(s,l,i)}))}}}},{key:"unmerge",value:function(){var t=this,e=this.selector;if(this.isSignleSelected()){var n=e.range,i=n.sri,r=n.sci;this.changeData((function(){t.rows.deleteCell(i,r,"merge"),t.merges.deleteWithin(e.range)}))}}},{key:"canAutofilter",value:function(){return!this.autoFilter.active()}},{key:"autofilter",value:function(){var t=this,e=this.autoFilter,n=this.selector;this.changeData((function(){e.active()?(e.clear(),t.exceptRowSet=new Set,t.sortedRowMap=new Map,t.unsortedRowMap=new Map):e.ref=n.range.toString()}))}},{key:"setAutoFilter",value:function(t,e,n,i){var r=this.autoFilter;r.addFilter(t,n,i),r.setSort(t,e),this.resetAutoFilter()}},{key:"resetAutoFilter",value:function(){var t=this,e=this.autoFilter,n=this.rows;if(e.active()){var i=e.sort,r=e.filteredRows((function(t,e){return n.getCell(t,e)})),o=r.rset,a=r.fset,s=Array.from(a),l=Array.from(a);i&&s.sort((function(t,e){return"asc"===i.order?t-e:"desc"===i.order?e-t:0})),this.exceptRowSet=o,this.sortedRowMap=new Map,this.unsortedRowMap=new Map,s.forEach((function(e,n){t.sortedRowMap.set(l[n],e),t.unsortedRowMap.set(e,l[n])}))}}},{key:"deleteCell",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all",n=this.selector;this.changeData((function(){t.rows.deleteCells(n.range,e),"all"!==e&&"format"!==e||t.merges.deleteWithin(n.range)}))}},{key:"insert",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.changeData((function(){var i=e.selector.range,r=i.sri,o=i.sci,a=e.rows,s=e.merges,l=e.cols,c=r;"row"===t?a.insert(r,n):"column"===t&&(a.insertColumn(o,n),c=o,l.len+=1),s.shift(t,c,n,(function(t,e,n,i){var r=a.getCell(t,e);r.merge[0]+=n,r.merge[1]+=i}))}))}},{key:"delete",value:function(t){var e=this;this.changeData((function(){var n=e.rows,i=e.merges,r=e.selector,o=e.cols,a=r.range,s=r.range,l=s.sri,c=s.sci,u=s.eri,h=s.eci,f=at(r.range.size(),2),d=f[0],p=f[1],v=l,g=d;"row"===t?n.delete(l,u):"column"===t&&(n.deleteColumn(c,h),v=a.sci,g=p,o.len-=1),i.shift(t,v,-g,(function(t,e,i,r){var o=n.getCell(t,e);o.merge[0]+=i,o.merge[1]+=r,0===o.merge[0]&&0===o.merge[1]&&delete o.merge}))}))}},{key:"scrollx",value:function(t,e){console.log("scrollx: ");var n=this.scroll,i=this.freeze,r=this.cols,o=at(i,2)[1],a=at(F.rangeReduceIf(o,r.len,0,0,t,(function(t){return r.getWidth(t)})),3),s=a[0],l=a[1],c=a[2],u=l;t>0&&(u+=c),n.x!==u&&(n.ci=t>0?s:0,n.x=u,e()),this.v_splitSheets.forEach((function(e){console.log("movex: ",t),e.sync_movex(t)}))}},{key:"sync_scrollx",value:function(t,e){var n=this.scroll,i=this.freeze,r=this.cols,o=at(i,2)[1],a=at(F.rangeReduceIf(o,r.len,0,0,t,(function(t){return r.getWidth(t)})),3),s=a[0],l=a[1],c=a[2],u=l;t>0&&(u+=c),n.x!==u&&(n.ci=t>0?s:0,n.x=u,e())}},{key:"scrolly",value:function(t,e){console.log("scrolly: ");var n=this.scroll,i=this.freeze,r=this.rows,o=at(i,1)[0],a=at(F.rangeReduceIf(o,r.len,0,0,t,(function(t){return r.getHeight(t)})),3),s=a[0],l=a[1],c=a[2],u=l;t>0&&(u+=c),n.y!==u&&(n.ri=t>0?s:0,n.y=u,e()),this.h_splitSheets.forEach((function(e){console.log("movey: ",t),e.sync_movey(t)}))}},{key:"sync_scrolly",value:function(t,e){var n=this.scroll,i=this.freeze,r=this.rows,o=at(i,1)[0],a=at(F.rangeReduceIf(o,r.len,0,0,t,(function(t){return r.getHeight(t)})),3),s=a[0],l=a[1],c=a[2],u=l;t>0&&(u+=c),n.y!==u&&(n.ri=t>0?s:0,n.y=u,e())}},{key:"cellRect",value:function(t,e){var n=this.rows,i=this.cols,r=i.sumWidth(0,e),o=n.sumHeight(0,t),a=n.getCell(t,e),s=i.getWidth(e),l=n.getHeight(t);if(null!==a&&a.merge){var c=at(a.merge,2),u=c[0],h=c[1];if(u>0)for(var f=1;f<=u;f+=1)l+=n.getHeight(t+f);if(h>0)for(var d=1;d<=h;d+=1)s+=i.getWidth(e+d)}return{left:r,top:o,width:s,height:l,cell:a}}},{key:"getCell",value:function(t,e){return this.rows.getCell(t,e)}},{key:"getCellTextOrDefault",value:function(t,e){var n=this.getCell(t,e);return n&&n.text?n.text:""}},{key:"getCellStyle",value:function(t,e){var n=this.getCell(t,e);return n&&void 0!==n.style?this.styles[n.style]:null}},{key:"getCellStyleOrDefault",value:function(t,e){var n=this.styles,i=this.rows.getCell(t,e),r=i&&void 0!==i.style?n[i.style]:{};return F.merge(this.defaultStyle(),r)}},{key:"getSelectedCellStyle",value:function(){var t=this.selector,e=t.ri,n=t.ci;return this.getCellStyleOrDefault(e,n)}},{key:"setCellText",value:function(t,e,n,i){var r=this,o=this.rows,a=this.history,s=this.validations;"finished"===i?(o.setCellText(t,e,""),a.add(this.getData()),this.changeData((function(){r.rows.setCellText(t,e,n)}))):(o.setCellText(t,e,n),this.change(this.getData())),s.validate(t,e,n)}},{key:"freezeIsActive",value:function(){var t=at(this.freeze,2),e=t[0],n=t[1];return e>0||n>0}},{key:"setFreeze",value:function(t,e){var n=this;this.changeData((function(){n.freeze=[t,e]}))}},{key:"freezeTotalWidth",value:function(){return this.cols.sumWidth(0,this.freeze[1])}},{key:"freezeTotalHeight",value:function(){return this.rows.sumHeight(0,this.freeze[0])}},{key:"setRowHeight",value:function(t,e){var n=this;this.changeData((function(){n.rows.setHeight(t,e)}))}},{key:"setColWidth",value:function(t,e){var n=this;this.changeData((function(){n.cols.setWidth(t,e)}))}},{key:"viewHeight",value:function(){var t=this.settings,e=t.view,n=t.showToolbar,i=e.height();return n&&(i-=41),i}},{key:"viewWidth",value:function(){return this.settings.view.width()}},{key:"freezeViewRange",value:function(){var t=at(this.freeze,2),e=t[0],n=t[1];return new g(0,0,e-1,n-1,this.freezeTotalWidth(),this.freezeTotalHeight())}},{key:"viewRange",value:function(){var t=this.scroll,e=this.rows,n=this.cols,i=this.freeze,r=t.ri,o=t.ci;r<=0&&(r=at(i,1)[0]),o<=0&&(o=at(i,2)[1]);for(var a=0,s=0,l=[e.len,n.len],c=l[0],u=l[1],h=r;h<e.len&&(c=h,!((s+=e.getHeight(h))>this.viewHeight()));h+=1);for(var f=o;f<n.len&&(u=f,!((a+=n.getWidth(f))>this.viewWidth()));f+=1);return new g(r,o,c,u,a,s)}},{key:"eachMergesInView",value:function(t,e){this.merges.filterIntersects(t).forEach((function(t){return e(t)}))}},{key:"rowEach",value:function(t,e,n){for(var i=0,r=this.rows,o=this.exceptRowSet,a=rt(o),s=0,l=0;l<a.length;l+=1)a[l]<t&&(s+=1);for(var c=t+s;c<=e+s;c+=1)if(o.has(c))s+=1;else{var u=r.getHeight(c);if(n(c,i,u),(i+=u)>this.viewHeight())break}}},{key:"colEach",value:function(t,e,n){for(var i=0,r=this.cols,o=t;o<=e;o+=1){var a=r.getWidth(o);if(n(o,i,a),(i+=a)>this.viewWidth())break}}},{key:"defaultStyle",value:function(){return this.settings.style}},{key:"addStyle",value:function(t){for(var e=this.styles,n=0;n<e.length;n+=1){var i=e[n];if(F.equals(i,t))return n}return e.push(t),e.length-1}},{key:"changeData",value:function(t){this.history.add(this.getData()),t(),this.change(this.getData()),this.v_splitSheets.forEach((function(t){t.sync()})),this.h_splitSheets.forEach((function(t){t.sync()}))}},{key:"setData",value:function(t){var e=this;return Object.keys(t).forEach((function(n){if("merges"===n||"rows"===n||"cols"===n||"validations"===n||"shapes"===n)e[n].setData(t[n]);else if("freeze"===n){var i=at(h(t[n]),2),r=i[0],o=i[1];e.freeze=[o,r]}else void 0!==t[n]&&(e[n]=t[n])})),this}},{key:"getData",value:function(){var t=this.name,e=this.freeze,n=this.styles,i=this.merges,r=this.rows,o=this.cols,a=this.validations,s=this.autoFilter;return{name:t,freeze:d(e[1],e[0]),styles:n,merges:i.getData(),rows:r.getData(),cols:o.getData(),validations:a.getData(),autofilter:s.getData()}}},{key:"horizontalAddSplitSheet",value:function(t){this.h_splitSheets.push(t)}},{key:"verticalAddSplitSheet",value:function(t){this.v_splitSheets.push(t)}}])&&ot(e.prototype,n),i&&ot(e,i),t}();function gt(t,e,n){t.addEventListener(e,n)}function yt(t,e,n){t.removeEventListener(e,n)}function mt(t){t.xclickoutside&&(yt(window.document.body,"click",t.xclickoutside),delete t.xclickoutside)}function bt(t,e){t.xclickoutside=function(n){2===n.detail||t.contains(n.target)||(e?e(t):(t.hide(),mt(t)))},gt(window.document.body,"click",t.xclickoutside)}function _t(t,e,n){gt(t,"mousemove",e),t.xEvtUp=function(i){yt(t,"mousemove",e),yt(t,"mouseup",t.xEvtUp),n(i)},gt(t,"mouseup",t.xEvtUp)}function wt(t,e,n,i){Math.abs(t)>Math.abs(e)?i(t>0?"right":"left",t,n):i(e>0?"down":"up",e,n)}var xt="x-spreadsheet";window.devicePixelRatio;function kt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var Ct=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=arguments.length>1?arguments[1]:void 0;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.moving=!1,this.vertical=n,this.el=a("div","".concat(xt,"-resizer ").concat(n?"vertical":"horizontal")).children(this.hoverEl=a("div","".concat(xt,"-resizer-hover")).on("mousedown.stop",(function(t){return e.mousedownHandler(t)})),this.lineEl=a("div","".concat(xt,"-resizer-line")).hide()).hide(),this.cRect=null,this.finishedFn=null,this.minDistance=i}var e,n,i;return e=t,(n=[{key:"show",value:function(t,e){var n=this.moving,i=this.vertical,r=this.hoverEl,o=this.lineEl,a=this.el;if(!n){this.cRect=t;var s=t.left,l=t.top,c=t.width,u=t.height;a.offset({left:i?s+c-5:s,top:i?l:l+u-5}).show(),r.offset({width:i?5:c,height:i?u:5}),o.offset({width:i?0:e.width,height:i?e.height:0})}}},{key:"hide",value:function(){this.el.offset({left:0,top:0}).hide()}},{key:"mousedownHandler",value:function(t){var e=this,n=t,i=this.el,r=this.lineEl,o=this.cRect,a=this.vertical,s=this.minDistance,l=a?o.width:o.height;r.show(),_t(window,(function(t){e.moving=!0,null!==n&&1===t.buttons&&(a?(l+=t.movementX)>s&&i.css("left","".concat(o.left+l,"px")):(l+=t.movementY)>s&&i.css("top","".concat(o.top+l,"px")),n=t)}),(function(){n=null,r.hide(),e.moving=!1,e.hide(),e.finishedFn&&(l<s&&(l=s),e.finishedFn(o,l))}))}}])&&kt(e.prototype,n),i&&kt(e,i),t}();function St(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var Ot=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.vertical=e,this.moveFn=null,this.el=a("div","".concat(xt,"-scrollbar ").concat(e?"vertical":"horizontal")).child(this.contentEl=a("div","")).on("mousemove.stop",(function(){})).on("scroll.stop",(function(t){var e=t.target,i=e.scrollTop,r=e.scrollLeft;n.moveFn&&n.moveFn(n.vertical?i:r,t)}))}var e,n,i;return e=t,(n=[{key:"move",value:function(t){return this.el.scroll(t),this}},{key:"scroll",value:function(){return this.el.scroll()}},{key:"set",value:function(t,e){var n=t-1;if(e>n){var i=this.vertical?"height":"width";this.el.css(i,"".concat(n,"px")).show(),this.contentEl.css(this.vertical?"width":"height","1px").css(i,"".concat(e,"px"))}else this.el.hide();return this}}])&&St(e.prototype,n),i&&St(e,i),t}();function Pt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Tt(t,e,n){return e&&jt(t.prototype,e),n&&jt(t,n),t}var Et=10,Mt=function(){function t(){Pt(this,t),this.cornerEl=a("div","".concat(xt,"-selector-corner")),this.areaEl=a("div","".concat(xt,"-selector-area")).child(this.cornerEl).hide(),this.clipboardEl=a("div","".concat(xt,"-selector-clipboard")).hide(),this.autofillEl=a("div","".concat(xt,"-selector-autofill")).hide(),this.el=a("div","".concat(xt,"-selector")).css("z-index","".concat(Et)).children(this.areaEl,this.clipboardEl,this.autofillEl).hide(),Et+=1}return Tt(t,[{key:"setOffset",value:function(t){return this.el.offset(t).show(),this}},{key:"hide",value:function(){return this.el.hide(),this}},{key:"setAreaOffset",value:function(t){var e=t.left,n=t.top,i=t.width,r=t.height;this.areaEl.offset({width:i-3+.8,height:r-3+.8,left:e-.8,top:n-.8}).show()}},{key:"setClipboardOffset",value:function(t){var e=t.left,n=t.top,i=t.width,r=t.height;this.clipboardEl.offset({left:e,top:n,width:i-5,height:r-5})}},{key:"showAutofill",value:function(t){var e=t.left,n=t.top,i=t.width,r=t.height;this.autofillEl.offset({width:i-3,height:r-3,left:e,top:n}).show()}},{key:"hideAutofill",value:function(){this.autofillEl.hide()}},{key:"showClipboard",value:function(){this.clipboardEl.show()}},{key:"hideClipboard",value:function(){this.clipboardEl.hide()}}]),t}();function At(t){var e=this.data,n=t.left,i=t.top,r=t.width,o=t.height,a=t.scroll,s=t.l,l=t.t,c=e.freezeTotalWidth(),u=e.freezeTotalHeight(),h=n-c;c>s&&(h-=a.x);var f=i-u;return u>l&&(f-=a.y),{left:h,top:f,width:r,height:o}}function Ft(t){var e=this.data,n=t.left,i=t.width,r=t.height,o=t.l,a=t.t,s=t.scroll,l=e.freezeTotalWidth(),c=n-l;return l>o&&(c-=s.x),{left:c,top:a,width:i,height:r}}function Dt(t){var e=this.data,n=t.top,i=t.width,r=t.height,o=t.l,a=t.t,s=t.scroll,l=e.freezeTotalHeight(),c=n-l;return l>a&&(c-=s.y),{left:o,top:c,width:i,height:r}}function It(t){this.br.setAreaOffset(At.call(this,t))}function Rt(t){this.tl.setAreaOffset(t)}function Lt(t){this.t.setAreaOffset(Ft.call(this,t))}function Gt(t){this.l.setAreaOffset(Dt.call(this,t))}function Vt(t){this.l.setClipboardOffset(Dt.call(this,t))}function Nt(t){this.br.setClipboardOffset(At.call(this,t))}function zt(t){this.tl.setClipboardOffset(t)}function Ut(t){this.t.setClipboardOffset(Ft.call(this,t))}function Bt(t){It.call(this,t),Rt.call(this,t),Lt.call(this,t),Gt.call(this,t)}function Ht(t){Nt.call(this,t),zt.call(this,t),Ut.call(this,t),Vt.call(this,t)}var Wt=function(){function t(e){Pt(this,t),this.data=e,this.br=new Mt,this.t=new Mt,this.l=new Mt,this.tl=new Mt,this.br.el.show(),this.offset=null,this.areaOffset=null,this.indexes=null,this.range=null,this.arange=null,this.el=a("div","".concat(xt,"-selectors")).children(this.tl.el,this.t.el,this.l.el,this.br.el).hide(),this.lastri=-1,this.lastci=-1,Et+=1}return Tt(t,[{key:"hide",value:function(){this.el.hide()}},{key:"resetOffset",value:function(){var t=this.data,e=this.tl,n=this.t,i=this.l,r=this.br,o=t.freezeTotalHeight(),a=t.freezeTotalWidth();o>0||a>0?(e.setOffset({width:a,height:o}),n.setOffset({left:a,height:o}),i.setOffset({top:o,width:a}),r.setOffset({left:a,top:o})):(e.hide(),n.hide(),i.hide(),r.setOffset({left:0,top:0}))}},{key:"resetAreaOffset",value:function(){var t=this.data.getSelectedRect(),e=this.data.getClipboardRect();Bt.call(this,t),Ht.call(this,e),this.resetOffset()}},{key:"resetBRTAreaOffset",value:function(){var t=this.data.getSelectedRect(),e=this.data.getClipboardRect();It.call(this,t),Lt.call(this,t),Nt.call(this,e),Ut.call(this,e),this.resetOffset()}},{key:"resetBRLAreaOffset",value:function(){var t=this.data.getSelectedRect(),e=this.data.getClipboardRect();It.call(this,t),Gt.call(this,t),Nt.call(this,e),Vt.call(this,e),this.resetOffset()}},{key:"set",value:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=this.data,r=i.calSelectedRangeByStart(t,e),o=r.sri,a=r.sci;if(n){var s=t,l=e;t<0&&(s=0),e<0&&(l=0),i.selector.setIndexes(s,l),this.indexes=[s,l]}this.moveIndexes=[o,a],this.range=r,this.resetAreaOffset(),this.el.show()}},{key:"setEnd",value:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=this.data,r=this.lastri,o=this.lastci;if(n){if(t===r&&e===o)return;this.lastri=t,this.lastci=e}this.range=i.calSelectedRangeByEnd(t,e),Bt.call(this,this.data.getSelectedRect())}},{key:"reset",value:function(){var t=this.data.selector.range,e=t.eri,n=t.eci;this.setEnd(e,n)}},{key:"showAutofill",value:function(t,e){if(-1!==t||-1!==e){var n=this.range,i=n.sri,r=n.sci,o=n.eri,a=n.eci,s=t,l=e,c=i-t,u=o-t,h=a-e;if(r-e>0)this.arange=new g(i,l,o,r-1);else if(c>0)this.arange=new g(s,r,i-1,a);else if(h<0)this.arange=new g(i,a+1,o,l);else{if(!(u<0))return void(this.arange=null);this.arange=new g(o+1,r,s,a)}if(null!==this.arange){var f=this.data.getRect(this.arange);f.width+=2,f.height+=2;var d=this.br,p=this.l,v=this.t,y=this.tl;d.showAutofill(At.call(this,f)),p.showAutofill(Dt.call(this,f)),v.showAutofill(Ft.call(this,f)),y.showAutofill(f)}}}},{key:"hideAutofill",value:function(){var t=this;["br","l","t","tl"].forEach((function(e){t[e].hideAutofill()}))}},{key:"showClipboard",value:function(){var t=this,e=this.data.getClipboardRect();Ht.call(this,e),["br","l","t","tl"].forEach((function(e){t[e].showClipboard()}))}},{key:"hideClipboard",value:function(){var t=this;["br","l","t","tl"].forEach((function(e){t[e].hideClipboard()}))}}]),t}();function Kt(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Yt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Xt(t){t.preventDefault(),t.stopPropagation();var e=this.filterItems;e.length<=0||(this.itemIndex>=0&&e[this.itemIndex].toggle(),this.itemIndex-=1,this.itemIndex<0&&(this.itemIndex=e.length-1),e[this.itemIndex].toggle())}function qt(t){t.stopPropagation();var e=this.filterItems;e.length<=0||(this.itemIndex>=0&&e[this.itemIndex].toggle(),this.itemIndex+=1,this.itemIndex>e.length-1&&(this.itemIndex=0),e[this.itemIndex].toggle())}function Jt(t){t.preventDefault();var e=this.filterItems;e.length<=0||(t.stopPropagation(),this.itemIndex<0&&(this.itemIndex=0),e[this.itemIndex].el.click(),this.hide())}function $t(t){var e=t.keyCode;switch(t.ctrlKey&&t.stopPropagation(),e){case 37:t.stopPropagation();break;case 38:Xt.call(this,t);break;case 39:t.stopPropagation();break;case 40:qt.call(this,t);break;case 13:case 9:Jt.call(this,t);break;default:t.stopPropagation()}}var Qt=function(){function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"200px";!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.filterItems=[],this.items=e,this.el=a("div","".concat(xt,"-suggest")).css("width",i).hide(),this.itemClick=n,this.itemIndex=-1}var e,n,i;return e=t,(n=[{key:"setOffset",value:function(t){this.el.cssRemoveKeys("top","bottom").offset(t)}},{key:"hide",value:function(){var t=this.el;this.filterItems=[],this.itemIndex=-1,t.hide(),mt(this.el.parent())}},{key:"setItems",value:function(t){this.items=t}},{key:"search",value:function(t){var e,n=this,i=this.items;if(/^\s*$/.test(t)||(i=i.filter((function(e){return(e.key||e).startsWith(t.toUpperCase())}))),i=i.map((function(t){var e=t.title;e?"function"==typeof e&&(e=e()):e=t;var i=a("div","".concat(xt,"-item")).child(e).on("click.stop",(function(){n.itemClick(t),n.hide()}));return t.label&&i.child(a("div","label").html(t.label)),i})),this.filterItems=i,!(i.length<=0)){var r=this.el;(e=r.html("")).children.apply(e,Kt(i)).show(),bt(r.parent(),(function(){n.hide()}))}}},{key:"bindInputEvents",value:function(t){var e=this;t.on("keydown",(function(t){return $t.call(e,t)}))}}])&&Yt(e.prototype,n),i&&Yt(e,i),t}();function Zt(t){return(Zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function te(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function ee(t,e){return!e||"object"!==Zt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ne(t){return(ne=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ie(t,e){return(ie=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var re=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=ee(this,ne(e).call(this,"div","".concat(xt,"-icon")))).iconNameEl=a("div","".concat(xt,"-icon-img ").concat(t)),n.child(n.iconNameEl),n}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ie(t,e)}(e,t),n=e,(i=[{key:"setName",value:function(t){this.iconNameEl.className("".concat(xt,"-icon-img ").concat(t))}}])&&te(n.prototype,i),r&&te(n,r),e}(o);function oe(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function ae(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function se(t,e){t.setMonth(t.getMonth()+e)}function le(t,e){var n=new Date(t);return n.setDate(e-t.getDay()+1),n}var ce=function(){function t(e){var n,i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.value=e,this.cvalue=new Date(e),this.headerLeftEl=a("div","calendar-header-left"),this.bodyEl=a("tbody",""),this.buildAll(),this.el=a("div","x-spreadsheet-calendar").children(a("div","calendar-header").children(this.headerLeftEl,a("div","calendar-header-right").children(a("a","calendar-prev").on("click.stop",(function(){return i.prev()})).child(new re("chevron-left")),a("a","calendar-next").on("click.stop",(function(){return i.next()})).child(new re("chevron-right")))),a("table","calendar-body").children(a("thead","").child((n=a("tr","")).children.apply(n,oe(U("calendar.weeks").map((function(t){return a("th","cell").child(t)}))))),this.bodyEl)),this.selectChange=function(){}}var e,n,i;return e=t,(n=[{key:"setValue",value:function(t){this.value=t,this.cvalue=new Date(t),this.buildAll()}},{key:"prev",value:function(){se(this.value,-1),this.buildAll()}},{key:"next",value:function(){se(this.value,1),this.buildAll()}},{key:"buildAll",value:function(){this.buildHeaderLeft(),this.buildBody()}},{key:"buildHeaderLeft",value:function(){var t=this.value;this.headerLeftEl.html("".concat(U("calendar.months")[t.getMonth()]," ").concat(t.getFullYear()))}},{key:"buildBody",value:function(){var t,e=this,n=this.value,i=this.cvalue,r=this.bodyEl,o=function(t,e,n){for(var i=new Date(t,e,1,23,59,59),r=[[],[],[],[],[],[]],o=0;o<6;o+=1)for(var a=0;a<7;a+=1){var s=le(i,7*o+a),l=s.getMonth()!==e,c=s.getMonth()===n.getMonth()&&s.getDate()===n.getDate();r[o][a]={d:s,disabled:l,active:c}}return r}(n.getFullYear(),n.getMonth(),i).map((function(t){var n,i=t.map((function(t){var n="cell";return t.disabled&&(n+=" disabled"),t.active&&(n+=" active"),a("td","").child(a("div",n).on("click.stop",(function(){e.selectChange(t.d)})).child(t.d.getDate().toString()))}));return(n=a("tr","")).children.apply(n,oe(i))}));(t=r.html("")).children.apply(t,oe(o))}}])&&ae(e.prototype,n),i&&ae(e,i),t}();function ue(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var he=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.calendar=new ce(new Date),this.el=a("div","".concat(xt,"-datepicker")).child(this.calendar.el).hide()}var e,n,i;return e=t,(n=[{key:"setValue",value:function(t){var e=this.calendar;return"string"==typeof t?/^\d{4}-\d{1,2}-\d{1,2}$/.test(t)&&e.setValue(new Date(t.replace(new RegExp("-","g"),"/"))):t instanceof Date&&e.setValue(t),this}},{key:"change",value:function(t){var e=this;this.calendar.selectChange=function(n){t(n),e.hide()}}},{key:"show",value:function(){this.el.show()}},{key:"hide",value:function(){this.el.hide()}}])&&ue(e.prototype,n),i&&ue(e,i),t}();function fe(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function de(){var t=this.textlineEl,e=this.textEl,n=this.areaOffset,i=t.offset().width+9,r=this.viewFn().width-n.left-9;if(i>n.width){var o=i;if(i>r){o=r;var a=parseInt(i/r,10);a+=i%r>0?1:0,(a*=this.rowHeight)>n.height&&e.css("height","".concat(a,"px"))}e.css("width","".concat(o,"px"))}}function pe(t){var e=t.keyCode||t.which,n=(t.key,t.ctrlKey,t.shiftKey,t.altKey),i=(t.metaKey,t.target.value),r=t.target;if(n)switch(e){case 13:var o=String.fromCharCode(13,10);r.value=r.value+o}var a=this.suggest,s=this.textlineEl,l=this.validator;if(this.inputText=i,l)"list"===l.type?a.search(i):a.hide();else if("string"==typeof i||i instanceof String){var c=i.lastIndexOf("=");-1!==c?a.search(i.substring(c+1)):a.hide()}s.html(i),de.call(this),this.change("textarea",i);var u=t.target;u.style.height="",u.style.height=u.scrollHeight+"px"}function ve(t){var e=this.textEl.el;setTimeout((function(){e.focus(),e.setSelectionRange(t,t)}),0)}function ge(t,e){var n=this.textEl,i=this.textlineEl;n.el.blur(),n.val(t),i.html(t),ve.call(this,e)}function ye(t){var e=this.inputText,n=this.validator,i=0;if(n&&"list"===n.type)this.inputText=t,i=this.inputText.length;else{var r=e.lastIndexOf("="),o=e.substring(0,r+1),a=e.substring(r+1);a=-1!==a.indexOf(")")?a.substring(a.indexOf(")")):"",this.inputText="".concat(o+t.key,"("),i=this.inputText.length,this.inputText+=")".concat(a)}ge.call(this,this.inputText,i)}function me(){this.suggest.setItems(this.formulas)}var be=function(){function t(e,n,i){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.viewFn=n,this.rowHeight=i,this.formulas=e,this.suggest=new Qt(e,(function(t){ye.call(r,t)})),this.datepicker=new he,this.datepicker.change((function(t){r.setText(function(t){var e=t.getMonth()+1,n=t.getDate();return e<10&&(e="0".concat(e)),n<10&&(n="0".concat(n)),"".concat(t.getFullYear(),"-").concat(e,"-").concat(n)}(t)),r.clear()})),this.areaEl=a("div","".concat(xt,"-editor-area")).children(this.textEl=a("textarea","").on("keydown",(function(t){return pe.call(r,t)})),this.textlineEl=a("div","textline"),this.suggest.el,this.datepicker.el).on("mousemove.stop",(function(){})).on("mousedown.stop",(function(){})),this.el=a("div","".concat(xt,"-editor")).child(this.areaEl).hide(),this.suggest.bindInputEvents(this.textEl),this.areaOffset=null,this.freeze={w:0,h:0},this.cell=null,this.inputText="",this.change=function(){}}var e,n,i;return e=t,(n=[{key:"setFreezeLengths",value:function(t,e){this.freeze.w=t,this.freeze.h=e}},{key:"clear",value:function(){""!==this.inputText&&this.change("finished",this.inputText),this.cell=null,this.areaOffset=null,this.inputText="",this.el.hide(),this.textEl.val(""),this.textlineEl.html(""),me.call(this),this.datepicker.hide()}},{key:"setOffset",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top",n=this.textEl,i=this.areaEl,r=this.suggest,o=this.freeze,a=this.el;if(t){this.areaOffset=t;var s=t.left,l=t.top,c=t.width,u=t.height,h=t.l,f=t.t,d={left:0,top:0};o.w>h&&o.h>f||(o.w<h&&o.h<f?(d.left=o.w,d.top=o.h):o.w>h?d.top=o.h:o.h>f&&(d.left=o.w)),a.offset(d),i.offset({left:s-d.left-.8,top:l-d.top-.8}),n.offset({width:c-9+.8,height:u-3+.8});var p={left:0};p[e]=u,r.setOffset(p),r.hide()}}},{key:"setCell",value:function(t,e){var n=this.el,i=this.datepicker,r=this.suggest;n.show(),this.cell=t;var o=t&&t.text||"";if(this.setText(o),this.validator=e,e){var a=e.type;"date"===a&&(i.show(),/^\s*$/.test(o)||i.setValue(o)),"list"===a&&(r.setItems(e.values()),r.search(""))}}},{key:"setText",value:function(t){this.inputText=t,ge.call(this,t,t.length),de.call(this)}}])&&fe(e.prototype,n),i&&fe(e,i),t}();function _e(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function we(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var xe=[{key:"copy",title:B("contextmenu.copy"),label:"Ctrl+C"},{key:"cut",title:B("contextmenu.cut"),label:"Ctrl+X"},{key:"paste",title:B("contextmenu.paste"),label:"Ctrl+V"},{key:"paste-value",title:B("contextmenu.pasteValue"),label:"Ctrl+Shift+V"},{key:"paste-format",title:B("contextmenu.pasteFormat"),label:"Ctrl+Alt+V"},{key:"divider"},{key:"insert-row",title:B("contextmenu.insertRow")},{key:"insert-column",title:B("contextmenu.insertColumn")},{key:"divider"},{key:"delete-row",title:B("contextmenu.deleteRow")},{key:"delete-column",title:B("contextmenu.deleteColumn")},{key:"delete-cell-text",title:B("contextmenu.deleteCellText")},{key:"divider"},{key:"validation",title:B("contextmenu.validation")}];function ke(t){var e=this;return"divider"===t.key?a("div","".concat(xt,"-item divider")):a("div","".concat(xt,"-item")).on("click",(function(){e.itemClick(t.key),e.hide()})).children(t.title(),a("div","label").child(t.label||""))}function Ce(){var t=this;return xe.map((function(e){return ke.call(t,e)}))}var Se=function(){function t(e){var n,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.el=(n=a("div","".concat(xt,"-contextmenu"))).children.apply(n,_e(Ce.call(this))).hide(),this.viewFn=e,this.itemClick=function(){},this.isHide=i}var e,n,i;return e=t,(n=[{key:"hide",value:function(){var t=this.el;t.hide(),mt(t)}},{key:"setPosition",value:function(t,e){if(!this.isHide){var n=this.el,i=n.show().offset(),r=i.height,o=i.width,a=this.viewFn(),s=e,l=t;a.height-e<=r&&(s-=r),a.width-t<=o&&(l-=o),n.offset({left:l,top:s}),bt(n)}}}])&&we(e.prototype,n),i&&we(e,i),t}(),Oe=[{key:"Arial",title:"Arial"},{key:"Helvetica",title:"Helvetica"},{key:"Source Sans Pro",title:"Source Sans Pro"},{key:"Comic Sans MS",title:"Comic Sans MS"},{key:"Courier New",title:"Courier New"},{key:"Verdana",title:"Verdana"},{key:"Lato",title:"Lato"}],Pe=[{pt:7.5,px:10},{pt:8,px:11},{pt:9,px:12},{pt:10,px:13},{pt:10.5,px:14},{pt:11,px:15},{pt:12,px:16},{pt:14,px:18.7},{pt:15,px:20},{pt:16,px:21.3},{pt:18,px:24},{pt:22,px:29.3},{pt:24,px:32},{pt:26,px:34.7},{pt:36,px:48},{pt:42,px:56}];function je(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Te=function(t){for(var e=[],n=[],i=[],r=0,o=1,a=0;a<t.length;a+=1){var s=t.charAt(a);if(" "!==s)if(s>="a"&&s<="z")i.push(s.toUpperCase());else if(s>="0"&&s<="9"||s>="A"&&s<="Z"||"."===s)i.push(s);else if('"'===s){for(a+=1;'"'!==t.charAt(a);)i.push(t.charAt(a)),a+=1;n.push('"'.concat(i.join(""))),i=[]}else{if("("!==s&&i.length>0&&n.push(i.join("")),")"===s){var l=e.pop();if(2===r)try{for(var c=je(h(n.pop()),2),u=c[0],f=c[1],p=je(h(n.pop()),2),v=p[0],g=p[1],y=0,m=v;m<=u;m+=1)for(var b=g;b<=f;b+=1)n.push(d(m,b)),y+=1;n.push([l,y])}catch(t){}else if(1===r)n.push([l,o]),o=1;else for(;"("!==l&&(n.push(l),!(e.length<=0));)l=e.pop();r=0}else if(":"===s)r=2;else if(","===s)r=1,o+=1;else if("("===s&&i.length>0)e.push(i.join(""));else{if(e.length>0&&("+"===s||"-"===s)){var _=e[e.length-1];if("("!==_&&n.push(e.pop()),"*"===_||"/"===_)for(;e.length>0&&"("!==(_=e[e.length-1]);)n.push(e.pop())}e.push(s)}i=[]}}for(i.length>0&&n.push(i.join(""));e.length>0;)n.push(e.pop());return n},Ee=function(t,e){if(t[0]>="0"&&t[0]<="9")return Number(t);if('"'===t[0])return t.substring(1);var n=je(h(t),2);return e(n[0],n[1])},Me=function(t,e,n,i){for(var r=[],o=0;o<t.length;o+=1)if("+"===t[o]){var a=r.pop();r.push(Number(r.pop())+Number(a))}else if("-"===t[o]){var s=r.pop();r.push(Number(r.pop())-Number(s))}else if("*"===t[o])r.push(Number(r.pop())*Number(r.pop()));else if("/"===t[o]){var l=r.pop();r.push(Number(r.pop())/Number(l))}else if(Array.isArray(t[o])){for(var c=je(t[o],2),u=c[0],h=c[1],f=[],d=0;d<h;d+=1)f.push(r.pop());r.push(e[u].render(f.reverse()))}else{if(i.includes(t[o]))return 0;i.push(t[o]),r.push(Ee(t[o],n))}return r[0]},Ae={render:function t(e,n,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];if("="===e[0]){var o=Te(e.substring(1));return o.length<=0?e:Me(o,n,(function(e,o){return t(i(e,o),n,i,r)}),r)}return e}};function Fe(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var De=[{key:"SUM",title:B("formula.sum"),render:function(t){return t.reduce((function(t,e){return Number(t)+Number(e)}),0)}},{key:"AVERAGE",title:B("formula.average"),render:function(t){return t.reduce((function(t,e){return Number(t)+Number(e)}),0)/t.length}},{key:"MAX",title:B("formula.max"),render:function(t){return Math.max.apply(Math,Fe(t.map((function(t){return Number(t)}))))}},{key:"MIN",title:B("formula.min"),render:function(t){return Math.min.apply(Math,Fe(t.map((function(t){return Number(t)}))))}},{key:"CONCAT",title:B("formula.concat"),render:function(t){return t.join("")}}],Ie=De,Re={};function Le(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||Ve(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Ge(t){return function(t){if(Array.isArray(t))return t}(t)||Ve(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Ve(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}De.forEach((function(t){Re[t.key]=t}));var Ne=function(t){return t},ze=function(t){if(/^(-?\d*.?\d*)$/.test(t)){var e=Ge(Number(t).toFixed(2).toString().split("\\.")),n=e[0],i=e.slice(1);return[n.replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")].concat(Le(i))}return t},Ue=[{key:"normal",title:B("format.normal"),type:"string",render:Ne},{key:"text",title:B("format.text"),type:"string",render:Ne},{key:"number",title:B("format.number"),type:"number",label:"1,000.12",render:ze},{key:"percent",title:B("format.percent"),type:"number",label:"10.12%",render:function(t){return"".concat(t,"%")}},{key:"rmb",title:B("format.rmb"),type:"number",label:"￥10.00",render:function(t){return"￥".concat(ze(t))}},{key:"usd",title:B("format.usd"),type:"number",label:"$10.00",render:function(t){return"$".concat(ze(t))}},{key:"date",title:B("format.date"),type:"date",label:"26/09/2008",render:Ne},{key:"time",title:B("format.time"),type:"date",label:"15:59:00",render:Ne},{key:"datetime",title:B("format.datetime"),type:"date",label:"26/09/2008 15:59:00",render:Ne},{key:"duration",title:B("format.duration"),type:"date",label:"24:01:00",render:Ne}],Be={};Ue.forEach((function(t){Be[t.key]=t}));var He=n(6),We=n.n(He);function Ke(t){return(Ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ye(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Xe(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function qe(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Je(t,e){return(Je=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function $e(t,e,n){return($e="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Qe(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function Qe(t){return(Qe=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tn(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function en(t,e,n){return e&&tn(t.prototype,e),n&&tn(t,n),t}function nn(){return.5}function rn(t){return parseInt(1*t,10)}function on(t){var e=rn(t);return e>0?e-.5:.5}var an=function(){function t(e,n,i,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;Ze(this,t),this.x=e,this.y=n,this.width=i,this.height=r,this.padding=o,this.bgcolor="#ffffff",this.borderTop=null,this.borderRight=null,this.borderBottom=null,this.borderLeft=null}return en(t,[{key:"setBorders",value:function(t){var e=t.top,n=t.bottom,i=t.left,r=t.right;e&&(this.borderTop=e),r&&(this.borderRight=r),n&&(this.borderBottom=n),i&&(this.borderLeft=i)}},{key:"innerWidth",value:function(){return this.width-2*this.padding}},{key:"innerHeight",value:function(){return this.height-2*this.padding}},{key:"textx",value:function(t){var e=this.width,n=this.padding,i=this.x;return"left"===t?i+=n:"center"===t?i+=e/2:"right"===t&&(i+=e-n),i}},{key:"texty",value:function(t,e,n){var i=this.height,r=this.padding,o=this.y;return"top"===t?o+=r:"middle"===t?o=o+i/2-n:"bottom"===t&&(o+=i-2*n-r),o}},{key:"topxys",value:function(){var t=this.x,e=this.y;return[[t,e],[t+this.width,e]]}},{key:"rightxys",value:function(){var t=this.x,e=this.y,n=this.width;return[[t+n,e],[t+n,e+this.height]]}},{key:"bottomxys",value:function(){var t=this.x,e=this.y,n=this.width,i=this.height;return[[t,e+i],[t+n,e+i]]}},{key:"leftxys",value:function(){var t=this.x,e=this.y;return[[t,e],[t,e+this.height]]}}]),t}();function sn(t,e,n,i,r,o,a){var s={x:0,y:0};"underline"===t?s.y="bottom"===r?0:"top"===r?-(o+2):-o/2:"strike"===t&&("bottom"===r?s.y=o/2:"top"===r&&(s.y=-(o/2+2))),"center"===i?s.x=a/2:"right"===i&&(s.x=a),this.line([e-s.x,n-s.y],[e-s.x+a,n-s.y])}var ln=function(t){function e(t,n,i){var r;return Ze(this,e),(r=function(t,e){return!e||"object"!==Ke(e)&&"function"!=typeof e?qe(t):e}(this,Qe(e).call(this))).el=t,r.ctx=$e(Qe(e.prototype),"getContext",qe(r)).call(qe(r)),r.resize(n,i),r.scale(1,1),r.ctx.scale(1,1),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Je(t,e)}(e,t),en(e,[{key:"resize",value:function(t,n){$e(Qe(e.prototype),"size",this).call(this,{width:t,height:n}),this.el.style.width="".concat(t,"px"),this.el.style.height="".concat(n,"px"),this.el.width=rn(t),this.el.height=rn(n)}},{key:"clear",value:function(){var t=this.el,n=t.width,i=t.height;return this.ctx.clearRect(0,0,n,i),$e(Qe(e.prototype),"clear",this).call(this),this}},{key:"attr",value:function(t){return Object.assign(this.ctx,t),this}},{key:"save",value:function(){return this.ctx.save(),this.ctx.beginPath(),this}},{key:"restore",value:function(){return this.ctx.restore(),this}},{key:"beginPath",value:function(){return this.ctx.beginPath(),this}},{key:"translate",value:function(t,e){return this.ctx.translate(rn(t),rn(e)),this}},{key:"clearRect",value:function(t,e,n,i){return this.ctx.clearRect(t,e,n,i),this}},{key:"fillRect",value:function(t,e,n,i){return this.ctx.fillRect(rn(t)-.5,rn(e)-.5,rn(n),rn(i)),this}},{key:"fillText",value:function(t,e,n){return this.ctx.fillText(t,rn(e),rn(n)),this}},{key:"text",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=this.ctx,o=n.align,a=n.valign,s=n.font,l=n.color,c=n.strike,u=n.underline,h=e.textx(o);r.save(),r.beginPath(),this.attr({textAlign:o,textBaseline:a,font:"".concat(s.italic?"italic":""," ").concat(s.bold?"bold":""," ").concat(rn(s.size),"px ").concat(s.name),fillStyle:l,strokeStyle:l});var f=r.measureText(t).width,d=0;if(i){var p=Math.ceil(f/e.innerWidth());d=(p-1)*s.size/2}for(var v=e.texty(a,s.size,d),g={len:0,start:0},y=0;y<t.length;y+=1){var m=y-g.start;"\n"==t.substr(g.start+m,1)?(this.fillText(t.substring(g.start,y),h,v),c&&sn.call(this,"strike",h,v,o,a,s.size,g.len),u&&sn.call(this,"underline",h,v,o,a,s.size,g.len),v+=s.size+2,g.len=0,y++,g.start=y):g.len+=r.measureText(t[y]).width}return g.len>0&&(this.fillText(t.substring(g.start),h,v),c&&sn.call(this,"strike",h,v,o,a,s.size,g.len),u&&sn.call(this,"underline",h,v,o,a,s.size,g.len)),r.restore(),this}},{key:"border",value:function(t,e){var n=this.ctx;return n.lineWidth=nn,n.strokeStyle=e,"medium"===t?n.lineWidth=rn(2)-.5:"thick"===t?n.lineWidth=rn(3):"dashed"===t?n.setLineDash([rn(3),rn(2)]):"dotted"===t?n.setLineDash([rn(1),rn(1)]):"double"===t&&n.setLineDash([rn(2),0]),this}},{key:"line",value:function(){var t=this.ctx;if(arguments.length>1){var e=arguments.length<=0?void 0:arguments[0],n=Xe(e,2),i=n[0],r=n[1];t.moveTo(on(i),on(r));for(var o=1;o<arguments.length;o+=1){var a=o<0||arguments.length<=o?void 0:arguments[o],s=Xe(a,2),l=s[0],c=s[1];t.lineTo(on(l),on(c))}t.stroke()}return this}},{key:"strokeBorders",value:function(t){var e=this.ctx;e.save(),e.beginPath();var n=t.borderTop,i=t.borderRight,r=t.borderBottom,o=t.borderLeft;n&&(this.border.apply(this,Ye(n)),this.line.apply(this,Ye(t.topxys()))),i&&(this.border.apply(this,Ye(i)),this.line.apply(this,Ye(t.rightxys()))),r&&(this.border.apply(this,Ye(r)),this.line.apply(this,Ye(t.bottomxys()))),o&&(this.border.apply(this,Ye(o)),this.line.apply(this,Ye(t.leftxys()))),e.restore()}},{key:"dropdown",value:function(t){var e=this.ctx,n=t.x,i=t.y,r=n+t.width-15,o=i+t.height-15;e.save(),e.beginPath(),e.moveTo(rn(r),rn(o)),e.lineTo(rn(r+8),rn(o)),e.lineTo(rn(r+4),rn(o+6)),e.closePath(),e.fillStyle="rgba(0, 0, 0, .45)",e.fill(),e.restore()}},{key:"error",value:function(t){var e=this.ctx,n=t.x,i=t.y,r=n+t.width-1;e.save(),e.beginPath(),e.moveTo(rn(r-8),rn(i-1)),e.lineTo(rn(r),rn(i-1)),e.lineTo(rn(r),rn(i+8)),e.closePath(),e.fillStyle="rgba(255, 0, 0, .65)",e.fill(),e.restore()}},{key:"rect",value:function(t,e){var n=this.ctx,i=t.x,r=t.y,o=t.width,a=t.height,s=t.bgcolor;n.save(),n.beginPath(),n.fillStyle=s||"#fff",n.rect(on(i+1),on(r+1),rn(o-2),rn(a-2)),n.clip(),n.fill(),e(),n.restore()}}]),e}(We.a.Layer);function cn(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function un(t){return(un="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function hn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fn(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function dn(t,e,n){return e&&fn(t.prototype,e),n&&fn(t,n),t}function pn(t,e){return!e||"object"!==un(e)&&"function"!=typeof e?vn(t):e}function vn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gn(t,e,n){return(gn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=yn(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function yn(t){return(yn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function mn(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&bn(t,e)}function bn(t,e){return(bn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var _n=5,wn={fillStyle:"#f4f5f8"},xn={fillStyle:"#fff",lineWidth:nn,strokeStyle:"#e6e6e6"};function kn(t,e){var n=this.data.cellRect(t,e),i=n.left,r=n.top,o=n.width,a=n.height;return new an(i,r,o,a,_n)}function Cn(t,e,n){var i=e.match(/^[A-Z]*/),r=e.match(/[0-9]*$/),o=n.match(/^[A-Z]*/),a=n.match(/[0-9]*$/),s=u(i[0]),l=parseInt(r[0],10)-1,c=u(o[0]),h=parseInt(a[0],10)-1;Tn.call(this,t,l,s,h,c)}function Sn(t,e){var n=e.match(/^[A-Z]*/),i=e.match(/[0-9]*$/);console.log(t,e,n[0],i[0]);var r=u(n[0]),o=parseInt(i[0],10)-1;console.log(t,e,r,o),En.call(this,t,o,r)}function On(t,e,n,i,r,o){console.log(e),e.func1(e),t.some((function(t){if(t.shape===e){t.shape.children[0].width(n),t.shape.children[0].height(i),t.rindex=r,t.cindex=o;var a=c(o)+String(r+1);return t.shape.children[1].text(t.name+" / "+a),!0}}))}function Pn(t,e,n,i){console.log("move_layerd_Cell:",n,i);var r,o,a,s,l=this.data,c=(this.layer,this.layer_cell,this.layer_TOP_LEFT,this.layer_cell_TOP_LEFT),u=(this.layer_TOP_RIGHT,this.layer_cell_TOP_RIGHT),h=(this.layer_BOTTOM_LEFT,this.layer_cell_BOTTOM_LEFT),f=(this.layer_BOTTOM_RIGHT,this.layer_cell_BOTTOM_RIGHT),d=l.cellRect(n,i),p=(d.left,d.top,d.width),v=d.height;"BOTTOM_LEFT"==e.plain&&console.log("*** B L"),"BOTTOM_RIGHT"==e.plain&&console.log("*** B R"),"TOP_LEFT"==e.plain&&console.log("*** T L"),"TOP_RIGHT"==e.plain&&console.log("*** T R"),e.clones.forEach((function(t){"BOTTOM_LEFT"==t.plain&&(r=t),"BOTTOM_RIGHT"==t.plain&&(o=t),"TOP_LEFT"==t.plain&&(a=t),"TOP_RIGHT"==t.plain&&(s=t)})),On.call(this,f,o,p,v,n,i),On.call(this,h,r,p,v,n,i),On.call(this,u,s,p,v,n,i),On.call(this,c,a,p,v,n,i),this.render()}var jn=function(t){function e(t){var n;return hn(this,e),(n=pn(this,yn(e).call(this,t))).clones=[],n.clones.push(vn(n)),n.plain="",n}return mn(e,t),dn(e,[{key:"clone",value:function(){var t=gn(yn(e.prototype),"clone",this).call(this);return t.clones=this.clones,this.clones.push(t),t}},{key:"func1",value:function(){console.log("call func1")}}]),e}(We.a.Group);function Tn(t,e,n,i,r){var o=this.data,a=(this.layer,this.layer_cell,this.layer_TOP_LEFT),s=this.layer_line_TOP_LEFT,l=this.layer_TOP_RIGHT,c=this.layer_line_TOP_RIGHT,u=this.layer_BOTTOM_LEFT,h=this.layer_line_BOTTOM_LEFT,f=this.layer_BOTTOM_RIGHT,d=this.layer_line_BOTTOM_RIGHT;console.log("add_layerd_Line",t,e,n,i,r);var p=o.cellRect(e,n),v=p.left,g=p.top,y=p.width,m=p.height,b=o.cellRect(i,r),_=b.left,w=b.top,x=b.width,k=b.height;console.log(v,g,y,m),console.log(_,w,x,k);var C=o.cols.indexWidth,S=o.rows.height,O=[C+v+y,S+g+m/2,C+_,S+w+k/2],P=new We.a.Line({points:O,stroke:"red",strokeWidth:1,lineCap:"round",lineJoin:"round"}),j=P.clone(),T=P.clone(),E=P.clone();a.add(P),l.add(j),u.add(T),f.add(E),P.plain="TOP_LEFT",j.plain="TOP_RIGHT",T.plain="BOTTOM_LEFT",E.plain="BOTTOM_RIGHT",s.push({name:t,srindex:e,scindex:n,erindex:i,ecindex:r,line:P}),c.push({name:t,srindex:e,scindex:n,erindex:i,ecindex:r,line:j}),h.push({name:t,srindex:e,scindex:n,erindex:i,ecindex:r,line:T}),d.push({name:t,srindex:e,scindex:n,erindex:i,ecindex:r,line:E})}function En(t,e,n){var i=this.data,r=(this.layer,this.layer_cell,this.layer_TOP_LEFT),o=this.layer_cell_TOP_LEFT,a=this.layer_TOP_RIGHT,s=this.layer_cell_TOP_RIGHT,l=this.layer_BOTTOM_LEFT,u=this.layer_cell_BOTTOM_LEFT,h=this.layer_BOTTOM_RIGHT,f=this.layer_cell_BOTTOM_RIGHT,d=i.cellRect(e,n),p=d.left,v=d.top,g=d.width,y=d.height,m=i.cols.indexWidth,b=c(n)+String(e+1),_=new jn({x:p+m,y:v,draggable:!0,name:t}),w=new We.a.Text({x:10,y:3,text:t+" / "+b,fontSize:14,fontFamily:"Calibri",fill:"red"}),x=new We.a.Rect({x:0,y:0,width:g,height:y,fill:"green",stroke:"black",strokeWidth:0,cornerRadius:10,opacity:.5,shadowEnabled:!0});_.on("mouseover",(function(){document.body.style.cursor="pointer"})),_.on("mouseout",(function(){document.body.style.cursor="default"})),_.on("dragstart",(function(){console.log("dragstart")})),_.on("dragend",(function(t){console.log("dragend",t.target),console.log("dragend",t.target.attrs.name),console.log("dragend",t.target.attrs.x),console.log("dragend",t.target.attrs.y);var e=i.getCellRectByXY(t.target.attrs.x,t.target.attrs.y),n=t.target.parent.parent,r=t.target.attrs.name,o=t.target,a=e.ri,s=e.ci;Pn.call(n,r,o,a,s)})),_.add(x),_.add(w);var k=_.clone(),C=_.clone(),S=_.clone();r.add(_),a.add(k),l.add(C),h.add(S),_.plain="TOP_LEFT",k.plain="TOP_RIGHT",C.plain="BOTTOM_LEFT",S.plain="BOTTOM_RIGHT",o.push({name:t,rindex:e,cindex:n,shape:_}),s.push({name:t,rindex:e,cindex:n,shape:k}),u.push({name:t,rindex:e,cindex:n,shape:C}),f.push({name:t,rindex:e,cindex:n,shape:S})}function Mn(t,e,n,i,r,o,a){var s=this.data;this.data.cols.indexWidth;e.forEach((function(t){if(t.rindex>=n.sri&&t.rindex<=n.eri&&t.cindex>=n.sci&&t.cindex<=n.eci){var e=s.cellRect(t.rindex,t.cindex),l=e.left,c=e.top;e.width,e.height;t.shape.absolutePosition({x:l+i+o,y:c+r+a}),t.shape.show()}else t.shape.hide()}))}function An(t,e){var n=this.draw,i=this.data,r=i.sortedRowMap,o=t;r.has(t)&&(o=r.get(t));var a=i.getCell(o,e);if(null!==a){var s=i.getCellStyleOrDefault(o,e),l=kn.call(this,t,e);l.bgcolor=s.bgcolor,void 0!==s.border&&(l.setBorders(s.border),n.strokeBorders(l)),n.rect(l,(function(){var r=Ae.render(a.text||"",Re,(function(t,e){return i.getCellTextOrDefault(e,t)}));s.format&&(r=Be[s.format].render(r));var o=Object.assign({},s.font);o.size=function(t){for(var e=0;e<Pe.length;e+=1){var n=Pe[e];if(n.pt===t)return n.px}return t}(o.size),n.text(r,l,{align:s.align,valign:s.valign,font:o,color:s.color,strike:s.strike,underline:s.underline},s.textwrap),i.validations.getError(t,e)&&n.error(l)}))}}function Fn(t){var e=this,n=this.data,i=this.draw;if(t){var r=n.autoFilter;if(!r.active())return;var o=r.hrange();t.intersects(o)&&o.each((function(t,n){var r=kn.call(e,t,n);i.dropdown(r)}))}}function Dn(t,e,n,i,r){var o=this,a=this.draw,s=this.data;this.layer;a.save(),a.translate(e,n).translate(i,r);var l=s.exceptRowSet;a.save(),t.each((function(t,e){An.call(o,t,e)}),(function(t){return function(t){var e=l.has(t);if(e){var n=s.rows.getHeight(t);a.translate(0,-n)}return!e}(t)})),a.restore();var c=new Set;a.save(),s.eachMergesInView(t,(function(t){var e=t.sri,n=t.sci,i=t.eri;if(l.has(e)){if(!c.has(e)){c.add(e);var r=s.rows.sumHeight(e,i+1);a.translate(0,-r)}}else An.call(o,e,n)})),a.restore(),Fn.call(this,t),a.restore()}function In(t,e,n,i){var r=this.draw;r.save(),r.attr({fillStyle:"rgba(75, 137, 255, 0.08)"}).fillRect(t,e,n,i),r.restore()}function Rn(t,e,n,i,r,o){var a=this,s=this.draw,l=this.data,u=e.h,h=e.w,f=o+i,d=r+n;s.save(),s.attr(wn),"all"!==t&&"left"!==t||s.fillRect(0,f,n,u),"all"!==t&&"top"!==t||s.fillRect(d,0,h,i);var p=l.selector.range,v=p.sri,g=p.sci,y=p.eri,m=p.eci;s.attr({textAlign:"center",textBaseline:"middle",font:"500 ".concat(rn(12),"px Source Sans Pro"),fillStyle:"#585757",lineWidth:.5,strokeStyle:"#e6e6e6"}),"all"!==t&&"left"!==t||(l.rowEach(e.sri,e.eri,(function(t,e,i){var r=f+e,o=t;s.line([0,r],[n,r]),v<=o&&o<y+1&&In.call(a,0,r,n,i),s.fillText(o+1,n/2,r+i/2)})),s.line([0,u+f],[n,u+f]),s.line([n,f],[n,u+f])),"all"!==t&&"top"!==t||(l.colEach(e.sci,e.eci,(function(t,e,n){var r=d+e,o=t;s.line([r,0],[r,i]),g<=o&&o<m+1&&In.call(a,r,0,n,i),s.fillText(c(o),r+n/2,i/2)})),s.line([h+d,0],[h+d,i]),s.line([0,i],[h+d,i])),s.restore()}function Ln(t,e){var n=this.draw;n.save(),n.attr({fillStyle:"#f4f5f8"}).fillRect(0,0,t,e),n.restore()}function Gn(t,e,n,i,r){var o=t.sri,a=t.sci,s=t.eri,l=t.eci,c=t.w,u=t.h,h=this.draw,f=this.data,d=f.settings;h.save(),h.attr(xn).translate(e+i,n+r),h.clearRect(0,0,c,u),d.showGrid?(f.rowEach(o,s,(function(t,e,n){t!==o&&h.line([0,e],[c,e]),t===s&&h.line([0,e+n],[c,e+n])})),f.colEach(a,l,(function(t,e,n){t!==a&&h.line([e,0],[e,u]),t===l&&h.line([e+n,0],[e+n,u])})),h.restore()):h.restore()}function Vn(t,e,n,i){var r=this.draw,o=this.data,a=o.viewWidth()-t,s=o.viewHeight()-e;r.save().translate(t,e).attr({strokeStyle:"rgba(75, 137, 255, .6)"}),r.line([0,i],[a,i]),r.line([n,0],[n,s]),r.restore()}var Nn=function(t){function e(t,n){var i;hn(this,e),(i=pn(this,yn(e).call(this,{container:t,width:n.viewWidth(),height:n.viewHeight(),scaleX:window.devicePixelRatio,scaleY:window.devicePixelRatio}))).el=t,i.draw=new ln(t,n.viewWidth(),n.viewHeight()),gn(yn(e.prototype),"add",vn(i)).call(vn(i),i.draw),i.draw.draw(),i.data=n,i.layer_cell=[],i.layer_cell_TOP_LEFT=[],i.layer_cell_TOP_RIGHT=[],i.layer_cell_BOTTOM_LEFT=[],i.layer_cell_BOTTOM_RIGHT=[],i.layer_line_TOP_LEFT=[],i.layer_line_TOP_RIGHT=[],i.layer_line_BOTTOM_LEFT=[],i.layer_line_BOTTOM_RIGHT=[],i.layer=new We.a.Layer,i.layer_TOP_LEFT=new We.a.Layer,i.layer_TOP_RIGHT=new We.a.Layer,i.layer_BOTTOM_LEFT=new We.a.Layer,i.layer_BOTTOM_RIGHT=new We.a.Layer;var r=new We.a.Circle({x:170,y:170,radius:30,fill:"red",stroke:"black",strokeWidth:2,draggable:!0});return r.on("mouseover",(function(){document.body.style.cursor="pointer"})),r.on("mouseout",(function(){document.body.style.cursor="default"})),i.layer.add(r),gn(yn(e.prototype),"add",vn(i)).call(vn(i),i.layer),gn(yn(e.prototype),"add",vn(i)).call(vn(i),i.layer_TOP_LEFT),gn(yn(e.prototype),"add",vn(i)).call(vn(i),i.layer_TOP_RIGHT),gn(yn(e.prototype),"add",vn(i)).call(vn(i),i.layer_BOTTOM_LEFT),gn(yn(e.prototype),"add",vn(i)).call(vn(i),i.layer_BOTTOM_RIGHT),i.layer.draw(),i.layer_TOP_LEFT.draw(),i.layer_TOP_RIGHT.draw(),i.layer_BOTTOM_LEFT.draw(),i.layer_BOTTOM_RIGHT.draw(),i}return mn(e,t),dn(e,[{key:"setlayer",value:function(){Sn.call(this,"xxx","A1"),En.call(this,"yyy",1,10),En.call(this,"AAA",10,0),En.call(this,"BBB",10,10),En.call(this,"CCC",13,10),En.call(this,"START",6,2),Sn.call(this,"END","E10"),Cn.call(this,"555","C7","E10")}},{key:"render",value:function(){var t=this.data,e=t.rows,n=t.cols.indexWidth,i=e.height;this.draw.resize(t.viewWidth(),t.viewHeight()),this.clear();var r=t.viewRange(),o=t.freezeTotalWidth(),a=t.freezeTotalHeight(),s=t.scroll,l=s.x,c=s.y;Gn.call(this,r,n,i,o,a),Dn.call(this,r,n,i,-l,-c),Rn.call(this,"all",r,n,i,o,a),Ln.call(this,n,i),Mn.call(this,this.layer_BOTTOM_RIGHT,this.layer_cell_BOTTOM_RIGHT,r,n,i,-l,-c);var u=cn(t.freeze,2),h=u[0],f=u[1];if(h>0||f>0){if(h>0){var d=r.clone();d.sri=0,d.eri=h-1,d.h=a,Gn.call(this,d,n,i,o,0),Dn.call(this,d,n,i,-l,0),Rn.call(this,"top",d,n,i,o,0),Mn.call(this,this.layer_TOP_RIGHT,this.layer_cell_TOP_RIGHT,d,n,i,-l,0)}if(f>0){var p=r.clone();p.sci=0,p.eci=f-1,p.w=o,Gn.call(this,p,n,i,0,a),Rn.call(this,"left",p,n,i,0,a),Dn.call(this,p,n,i,0,-c),Mn.call(this,this.layer_BOTTOM_LEFT,this.layer_cell_BOTTOM_LEFT,p,n,i,0,-c)}var v=t.freezeViewRange();Gn.call(this,v,n,i,0,0),Rn.call(this,"all",v,n,i,0,0),Dn.call(this,v,n,i,0,0),Vn.call(this,n,i,o,a),Mn.call(this,this.layer_TOP_LEFT,this.layer_cell_TOP_LEFT,v,n,i,0,0)}this.layer.draw(),this.layer_TOP_LEFT.draw(),this.layer_TOP_RIGHT.draw(),this.layer_BOTTOM_LEFT.draw(),this.layer_BOTTOM_RIGHT.draw()}},{key:"clear",value:function(){this.draw.clear()}}]),e}(We.a.Stage);function zn(t){return(zn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Un(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Bn(t,e){return!e||"object"!==zn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Hn(t){return(Hn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Wn(t,e){return(Wn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Kn=function(t){function e(t,n,i,r){var o,s;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(s=Bn(this,Hn(e).call(this,"div","".concat(xt,"-dropdown ").concat(r)))).title=t,s.change=function(){},"string"==typeof t?s.title=a("div","".concat(xt,"-dropdown-title")).child(t):i&&s.title.addClass("arrow-left");for(var l=arguments.length,c=new Array(l>4?l-4:0),u=4;u<l;u++)c[u-4]=arguments[u];return s.contentEl=(o=a("div","".concat(xt,"-dropdown-content"))).children.apply(o,c).css("width",n).hide(),s.headerEl=a("div","".concat(xt,"-dropdown-header")),s.headerEl.on("click",(function(){"block"!==s.contentEl.css("display")?s.show():s.hide()})).children(s.title,i?a("div","".concat(xt,"-icon arrow-right")).child(a("div","".concat(xt,"-icon-img arrow-down"))):""),s.children(s.headerEl,s.contentEl),s}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Wn(t,e)}(e,t),n=e,(i=[{key:"setTitle",value:function(t){this.title.html(t),this.hide()}},{key:"show",value:function(){var t=this;this.contentEl.show(),this.parent().active(),bt(this.parent(),(function(){t.hide()}))}},{key:"hide",value:function(){this.parent().active(!1),this.contentEl.hide(),mt(this.parent())}}])&&Un(n.prototype,i),r&&Un(n,r),e}(o);function Yn(t){return(Yn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xn(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function qn(t,e){return!e||"object"!==Yn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Jn(t){return(Jn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function $n(t,e){return($n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Qn=function(t){function e(){var t,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=Oe.map((function(t){return a("div","".concat(xt,"-item")).on("click",(function(){n.setTitle(t.title),n.change(t)})).child(t.title)}));return n=qn(this,(t=Jn(e)).call.apply(t,[this,Oe[0].title,"160px",!0,"bottom-left"].concat(Xn(i))))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$n(t,e)}(e,t),e}(Kn);function Zn(t){return(Zn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ti(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function ei(t,e){return!e||"object"!==Zn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ni(t){return(ni=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ii(t,e){return(ii=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ri=function(t){function e(){var t,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=Pe.map((function(t){return a("div","".concat(xt,"-item")).on("click",(function(){n.setTitle("".concat(t.pt)),n.change(t)})).child("".concat(t.pt))}));return n=ei(this,(t=ni(e)).call.apply(t,[this,"10","60px",!0,"bottom-left"].concat(ti(i))))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ii(t,e)}(e,t),e}(Kn);function oi(t){return(oi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ai(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function si(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function li(t,e){return!e||"object"!==oi(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ci(t){return(ci=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ui(t,e){return(ui=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var hi=function(t){function e(){var t,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=Ue.slice(0);return i.splice(2,0,{key:"divider"}),i.splice(7,0,{key:"divider"}),i=i.map((function(t){var e=a("div","".concat(xt,"-item"));return"divider"===t.key?e.addClass("divider"):(e.child(t.title()).on("click",(function(){n.setTitle(t.title()),n.change(t)})),t.label&&e.child(a("div","label").html(t.label))),e})),n=li(this,(t=ci(e)).call.apply(t,[this,"Normal","220px",!0,"bottom-left"].concat(ai(i))))}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ui(t,e)}(e,t),n=e,(i=[{key:"setTitle",value:function(t){for(var e=0;e<Ue.length;e+=1)Ue[e].key===t&&this.title.html(Ue[e].title);this.hide()}}])&&si(n.prototype,i),r&&si(n,r),e}(Kn);function fi(t){return(fi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function di(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function pi(t,e){return!e||"object"!==fi(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function vi(t){return(vi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function gi(t,e){return(gi=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var yi=function(t){function e(){var t,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=De.map((function(t){return a("div","".concat(xt,"-item")).on("click",(function(){n.hide(),n.change(t)})).child(t.key)}));return n=pi(this,(t=vi(e)).call.apply(t,[this,new re("formula"),"180px",!0,"bottom-left"].concat(di(i))))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&gi(t,e)}(e,t),e}(Kn);function mi(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var bi=["#ffffff","#000100","#e7e5e6","#445569","#5b9cd6","#ed7d31","#a5a5a5","#ffc001","#4371c6","#71ae47"],_i=[["#f2f2f2","#7f7f7f","#d0cecf","#d5dce4","#deeaf6","#fce5d5","#ededed","#fff2cd","#d9e2f3","#e3efd9"],["#d8d8d8","#595959","#afabac","#adb8ca","#bdd7ee","#f7ccac","#dbdbdb","#ffe59a","#b3c6e7","#c5e0b3"],["#bfbfbf","#3f3f3f","#756f6f","#8596b0","#9cc2e6","#f4b184","#c9c9c9","#fed964","#8eaada","#a7d08c"],["#a5a5a5","#262626","#3a3839","#333f4f","#2e75b5","#c45a10","#7b7b7b","#bf8e01","#2f5596","#538136"],["#7f7f7f","#0c0c0c","#171516","#222a35","#1f4e7a","#843c0a","#525252","#7e6000","#203864","#365624"]],wi=["#c00000","#fe0000","#fdc101","#ffff01","#93d051","#00b04e","#01b0f1","#0170c1","#012060","#7030a0"];function xi(t){var e=this;return a("td","").child(a("div","".concat(xt,"-color-palette-cell")).on("click.stop",(function(){return e.change(t)})).css("background-color",t))}var ki=function t(){var e,n,i,r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.el=a("div","".concat(xt,"-color-palette")),this.change=function(){};var o=a("table","").children((e=a("tbody","")).children.apply(e,[(n=a("tr","".concat(xt,"-theme-color-placeholders"))).children.apply(n,mi(bi.map((function(t){return xi.call(r,t)}))))].concat(mi(_i.map((function(t){var e;return(e=a("tr","".concat(xt,"-theme-colors"))).children.apply(e,mi(t.map((function(t){return xi.call(r,t)}))))}))),[(i=a("tr","".concat(xt,"-standard-colors"))).children.apply(i,mi(wi.map((function(t){return xi.call(r,t)}))))])));this.el.child(o)};function Ci(t){return(Ci="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Si(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Oi(t,e){return!e||"object"!==Ci(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Pi(t){return(Pi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ji(t,e){return(ji=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ti=function(t){function e(t,n){var i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=new re(t).css("height","16px").css("border-bottom","3px solid ".concat(n)),o=new ki;return o.change=function(t){i.setTitle(t),i.change(t)},i=Oi(this,Pi(e).call(this,r,"auto",!1,"bottom-left",o.el))}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ji(t,e)}(e,t),n=e,(i=[{key:"setTitle",value:function(t){this.title.css("border-color",t),this.hide()}}])&&Si(n.prototype,i),r&&Si(n,r),e}(Kn);function Ei(t){return(Ei="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Mi(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Ai(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Fi(t,e){return!e||"object"!==Ei(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Di(t){return(Di=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ii(t,e){return(Ii=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ri=function(t){function e(t,n){var i,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=new re("align-".concat(n)),s=t.map((function(t){return(e="align-".concat(t),a("div","".concat(xt,"-item")).child(new re(e))).on("click",(function(){r.setTitle(t),r.change(t)}));var e}));return r=Fi(this,(i=Di(e)).call.apply(i,[this,o,"auto",!0,"bottom-left"].concat(Mi(s))))}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ii(t,e)}(e,t),n=e,(i=[{key:"setTitle",value:function(t){this.title.setName("align-".concat(t)),this.hide()}}])&&Ai(n.prototype,i),r&&Ai(n,r),e}(Kn);function Li(t){return(Li="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Gi(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Vi(t,e){return!e||"object"!==Li(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ni(t){return(Ni=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function zi(t,e){return(zi=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ui=[["thin",'<svg xmlns="http://www.w3.org/2000/svg" width="50" height="1" style="user-select: none;"><line x1="0" y1="0.5" x2="50" y2="0.5" stroke-width="1" stroke="black" style="user-select: none;"></line></svg>'],["medium",'<svg xmlns="http://www.w3.org/2000/svg" width="50" height="2" style="user-select: none;"><line x1="0" y1="1.0" x2="50" y2="1.0" stroke-width="2" stroke="black" style="user-select: none;"></line></svg>'],["thick",'<svg xmlns="http://www.w3.org/2000/svg" width="50" height="3" style="user-select: none;"><line x1="0" y1="1.5" x2="50" y2="1.5" stroke-width="3" stroke="black" style="user-select: none;"></line></svg>'],["dashed",'<svg xmlns="http://www.w3.org/2000/svg" width="50" height="1" style="user-select: none;"><line x1="0" y1="0.5" x2="50" y2="0.5" stroke-width="1" stroke="black" stroke-dasharray="2" style="user-select: none;"></line></svg>'],["dotted",'<svg xmlns="http://www.w3.org/2000/svg" width="50" height="1" style="user-select: none;"><line x1="0" y1="0.5" x2="50" y2="0.5" stroke-width="1" stroke="black" stroke-dasharray="1" style="user-select: none;"></line></svg>']],Bi=function(t){function e(t){var n,i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=new re("line-type"),o=0,s=Ui.map((function(e,n){return a("div","".concat(xt,"-item state ").concat(t===e[0]?"checked":"")).on("click",(function(){s[o].toggle("checked"),s[n].toggle("checked"),o=n,i.hide(),i.change(e)})).child(a("div","".concat(xt,"-line-type")).html(e[1]))}));return i=Vi(this,(n=Ni(e)).call.apply(n,[this,r,"auto",!1,"bottom-left"].concat(Gi(s))))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&zi(t,e)}(e,t),e}(Kn);function Hi(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Wi(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Ki(){var t;return a("table","").child((t=a("tbody","")).children.apply(t,arguments))}function Yi(t){var e=this;return a("td","").child(a("div","".concat(xt,"-border-palette-cell")).child(new re("border-".concat(t))).on("click",(function(){e.mode=t;var n=e.mode,i=e.style,r=e.color;e.change({mode:n,style:i,color:r})})))}var Xi=function t(){var e,n,i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.color="#000",this.style="thin",this.mode="all",this.change=function(){},this.ddColor=new Ti("line-color",this.color),this.ddColor.change=function(t){i.color=t},this.ddType=new Bi(this.style),this.ddType.change=function(t){var e=Wi(t,1)[0];i.style=e},this.el=a("div","".concat(xt,"-border-palette"));var r=Ki(a("tr","").children(a("td","".concat(xt,"-border-palette-left")).child(Ki((e=a("tr","")).children.apply(e,Hi(["all","inside","horizontal","vertical","outside"].map((function(t){return Yi.call(i,t)})))),(n=a("tr","")).children.apply(n,Hi(["left","top","right","bottom","none"].map((function(t){return Yi.call(i,t)})))))),a("td","".concat(xt,"-border-palette-right")).children(a("div","".concat(xt,"-toolbar-btn")).child(this.ddColor.el),a("div","".concat(xt,"-toolbar-btn")).child(this.ddType.el))));this.el.child(r)};function qi(t){return(qi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ji(t,e){return!e||"object"!==qi(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function $i(t){return($i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Qi(t,e){return(Qi=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Zi=function(t){function e(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=new re("border-all"),i=new Xi;return i.change=function(e){t.change(e),t.hide()},t=Ji(this,$i(e).call(this,n,"auto",!1,"bottom-left",i.el))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Qi(t,e)}(e,t),e}(Kn);function tr(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function er(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function nr(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function ir(t){return(ir="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function rr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function or(t,e){return!e||"object"!==ir(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ar(t){return(ar=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function sr(t,e){return(sr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function lr(t){return a("div","".concat(xt,"-toolbar-btn")).on("mouseenter",(function(e){!function(t,e){if(!e.classList.contains("active")){var n=e.getBoundingClientRect(),i=n.left,r=n.top,o=n.width,s=n.height,l=a("div","".concat(xt,"-tooltip")).html(t).show();document.body.appendChild(l.el);var c=l.box();l.css("left","".concat(i+o/2-c.width/2,"px")).css("top","".concat(r+s+2,"px")),gt(e,"mouseleave",(function(){document.body.contains(l.el)&&document.body.removeChild(l.el)})),gt(e,"click",(function(){document.body.contains(l.el)&&document.body.removeChild(l.el)}))}}(t,e.target)})).attr("data-tooltip",t)}function cr(){return a("div","".concat(xt,"-toolbar-divider"))}function ur(t,e){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};return lr(t).child((n=e,new re(n))).on("click",(function(){return i()}))}function hr(){var t=this;this.ddFormat.change=function(e){return t.change("format",e.key)},this.ddFont.change=function(e){return t.change("font-name",e.key)},this.ddFormula.change=function(e){return t.change("formula",e.key)},this.ddFontSize.change=function(e){return t.change("font-size",e.pt)},this.ddTextColor.change=function(e){return t.change("color",e)},this.ddFillColor.change=function(e){return t.change("bgcolor",e)},this.ddAlign.change=function(e){return t.change("align",e)},this.ddVAlign.change=function(e){return t.change("valign",e)},this.ddBorder.change=function(e){return t.change("border",e)}}function fr(t){var e=t,n=t.split("-");n.length>1&&n.forEach((function(t,n){0===n?e=t:e+=t[0].toUpperCase()+t.substring(1)}));var i=this["".concat(e,"El")];i.toggle(),this.change(t,i.hasClass("active"))}var dr=function(t){function e(){var t;rr(this,e);var n=new re("ellipsis"),i=a("div","".concat(xt,"-toolbar-more"));return(t=or(this,ar(e).call(this,n,"auto",!1,"bottom-right",i))).moreBtns=i,t.contentEl.css("max-width","420px"),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&sr(t,e)}(e,t),e}(Kn);function pr(){this.btns2=this.btnChildren.map((function(t){var e=t.box(),n=t.computedStyle(),i=n.marginLeft,r=n.marginRight;return[t,e.width+parseInt(i,10)+parseInt(r,10)]}))}function vr(){var t,e,n=this.el,i=this.btns,r=this.moreEl,o=this.ddMore,a=this.btns2,s=o.moreBtns,l=o.contentEl;n.css("width","".concat(this.widthFn()-60,"px"));var c=n.box(),u=160,h=12,f=[],d=[];a.forEach((function(t,e){var n=nr(t,2),i=n[0],r=n[1];u+=r,e===a.length-1||u<c.width?f.push(i):(h+=r,d.push(i))})),(t=i.html("")).children.apply(t,f),(e=s.html("")).children.apply(e,d),l.css("width","".concat(h,"px")),d.length>0?r.show():r.hide()}var gr=function(){function t(e,n){var i,r=this,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];rr(this,t),this.data=e,this.change=function(){},this.widthFn=n;var s=e.defaultStyle();this.ddFormat=new hi,this.ddFont=new Qn,this.ddFormula=new yi,this.ddFontSize=new ri,this.ddTextColor=new Ti("text-color",s.color),this.ddFillColor=new Ti("fill-color",s.bgcolor),this.ddAlign=new Ri(["left","center","right"],s.align),this.ddVAlign=new Ri(["top","middle","bottom"],s.valign),this.ddBorder=new Zi,this.ddMore=new dr,this.btnChildren=[this.undoEl=ur("".concat(U("toolbar.undo")," (Ctrl+Z)"),"undo",(function(){return r.change("undo")})),this.redoEl=ur("".concat(U("toolbar.undo")," (Ctrl+Y)"),"redo",(function(){return r.change("redo")})),this.paintformatEl=ur("".concat(U("toolbar.paintformat")),"paintformat",(function(){return fr.call(r,"paintformat")})),this.clearformatEl=ur("".concat(U("toolbar.clearformat")),"clearformat",(function(){return r.change("clearformat")})),cr(),lr("".concat(U("toolbar.format"))).child(this.ddFormat.el),cr(),lr("".concat(U("toolbar.font"))).child(this.ddFont.el),lr("".concat(U("toolbar.fontSize"))).child(this.ddFontSize.el),cr(),this.fontBoldEl=ur("".concat(U("toolbar.fontBold")," (Ctrl+B)"),"bold",(function(){return fr.call(r,"font-bold")})),this.fontItalicEl=ur("".concat(U("toolbar.fontItalic")," (Ctrl+I)"),"italic",(function(){return fr.call(r,"font-italic")})),this.underlineEl=ur("".concat(U("toolbar.underline")," (Ctrl+U)"),"underline",(function(){return fr.call(r,"underline")})),this.strikeEl=ur("".concat(U("toolbar.strike")),"strike",(function(){return fr.call(r,"strike")})),lr("".concat(U("toolbar.textColor"))).child(this.ddTextColor.el),cr(),lr("".concat(U("toolbar.fillColor"))).child(this.ddFillColor.el),lr("".concat(U("toolbar.border"))).child(this.ddBorder.el),this.mergeEl=ur("".concat(U("toolbar.merge")),"merge",(function(){return fr.call(r,"merge")})),cr(),lr("".concat(U("toolbar.align"))).child(this.ddAlign.el),lr("".concat(U("toolbar.valign"))).child(this.ddVAlign.el),this.textwrapEl=ur("".concat(U("toolbar.textwrap")),"textwrap",(function(){return fr.call(r,"textwrap")})),cr(),this.freezeEl=ur("".concat(U("toolbar.freeze")),"freeze",(function(){return fr.call(r,"freeze")})),this.overlayerEl=ur("".concat(U("toolbar.overlayer")),"overlayer",(function(){return fr.call(r,"overlayer")})),this.autofilterEl=ur("".concat(U("toolbar.autofilter")),"autofilter",(function(){return fr.call(r,"autofilter")})),lr("".concat(U("toolbar.formula"))).child(this.ddFormula.el),this.moreEl=lr("".concat(U("toolbar.more"))).child(this.ddMore.el).hide()],this.el=a("div","".concat(xt,"-toolbar")),this.btns=(i=a("div","".concat(xt,"-toolbar-btns"))).children.apply(i,tr(this.btnChildren)),this.el.child(this.btns),o&&this.el.hide(),hr.call(this),this.reset(),setTimeout((function(){pr.call(r),vr.call(r)}),0),gt(window,"resize",(function(){vr.call(r)}))}var e,n,i;return e=t,(n=[{key:"paintformatActive",value:function(){return this.paintformatEl.hasClass("active")}},{key:"paintformatToggle",value:function(){this.paintformatEl.toggle()}},{key:"trigger",value:function(t){fr.call(this,t)}},{key:"reset",value:function(){var t=this.data,e=t.getSelectedCellStyle(),n=t.getSelectedCell();this.undoEl.disabled(!t.canUndo()),this.redoEl.disabled(!t.canRedo()),this.mergeEl.active(t.canUnmerge()).disabled(!t.selector.multiple()),this.autofilterEl.active(!t.canAutofilter());var i=e.font;this.ddFont.setTitle(i.name),this.ddFontSize.setTitle(i.size),this.fontBoldEl.active(i.bold),this.fontItalicEl.active(i.italic),this.underlineEl.active(e.underline),this.strikeEl.active(e.strike),this.ddTextColor.setTitle(e.color),this.ddFillColor.setTitle(e.bgcolor),this.ddAlign.setTitle(e.align),this.ddVAlign.setTitle(e.valign),this.textwrapEl.active(e.textwrap),this.freezeEl.active(t.freezeIsActive()),n&&n.format&&this.ddFormat.setTitle(n.format),this.overlayerEl.active(!0)}}])&&er(e.prototype,n),i&&er(e,i),t}();function yr(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function mr(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var br=function(){function t(e,n){var i,r=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"600px";!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.title=e,this.el=a("div","".concat(xt,"-modal")).css("width",o).children(a("div","".concat(xt,"-modal-header")).children(new re("close").on("click.stop",(function(){return r.hide()})),this.title),(i=a("div","".concat(xt,"-modal-content"))).children.apply(i,yr(n))).hide()}var e,n,i;return e=t,(n=[{key:"show",value:function(){var t=this;this.dimmer=a("div","".concat(xt,"-dimmer active")),document.body.appendChild(this.dimmer.el);var e=this.el.show().box(),n=e.width,i=e.height,r=document.documentElement,o=r.clientHeight,s=r.clientWidth;this.el.offset({left:(s-n)/2,top:(o-i)/3}),window.xkeydownEsc=function(e){27===e.keyCode&&t.hide()},gt(window,"keydown",window.xkeydownEsc)}},{key:"hide",value:function(){this.el.hide(),document.body.removeChild(this.dimmer.el),yt(window,"keydown",window.xkeydownEsc),delete window.xkeydownEsc}}])&&mr(e.prototype,n),i&&mr(e,i),t}();function _r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var wr=function(){function t(e,n){var i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.vchange=function(){},this.el=a("div","".concat(xt,"-form-input")),this.input=a("input","").css("width",e).on("input",(function(t){return i.vchange(t)})).attr("placeholder",n),this.el.child(this.input)}var e,n,i;return e=t,(n=[{key:"hint",value:function(t){this.input.attr("placeholder",t)}},{key:"val",value:function(t){return this.input.val(t)}}])&&_r(e.prototype,n),i&&_r(e,i),t}();function xr(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var kr=function(){function t(e,n,i){var r=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(t){return t},s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.key=e,this.getTitle=o,this.vchange=function(){},this.el=a("div","".concat(xt,"-form-select")),this.suggest=new Qt(n.map((function(t){return{key:t,title:r.getTitle(t)}})),(function(t){r.itemClick(t.key),s(t.key),r.vchange(t.key)}),i,this.el),this.el.children(this.itemEl=a("div","input-text").html(this.getTitle(e)),this.suggest.el).on("click",(function(){return r.show()}))}var e,n,i;return e=t,(n=[{key:"show",value:function(){this.suggest.search("")}},{key:"itemClick",value:function(t){this.key=t,this.itemEl.html(this.getTitle(t))}},{key:"val",value:function(t){return void 0!==t?(this.key=t,this.itemEl.html(this.getTitle(t)),this):this.key}}])&&xr(e.prototype,n),i&&xr(e,i),t}();function Cr(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var Sr={number:/(^\d+$)|(^\d+(\.\d{0,4})?$)/,date:/^\d{4}-\d{1,2}-\d{1,2}$/},Or=function(){function t(e,n,i,r){var o=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.label="",this.rule=n,i&&(this.label=a("label","label").css("width","".concat(r,"px")).html(i)),this.tip=a("div","tip").child("tip").hide(),this.input=e,this.input.vchange=function(){return o.validate()},this.el=a("div","".concat(xt,"-form-field")).children(this.label,e.el,this.tip)}var e,n,i;return e=t,(n=[{key:"isShow",value:function(){return"none"!==this.el.css("display")}},{key:"show",value:function(){this.el.show()}},{key:"hide",value:function(){return this.el.hide(),this}},{key:"val",value:function(t){return this.input.val(t)}},{key:"hint",value:function(t){this.input.hint(t)}},{key:"validate",value:function(){var t=this.input,e=this.rule,n=this.tip,i=this.el,r=t.val();return e.required&&/^\s*$/.test(r)?(n.html(U("validation.required")),i.addClass("error"),!1):!e.type&&!e.pattern||(e.pattern||Sr[e.type]).test(r)?(i.removeClass("error"),!0):(n.html(U("validation.notMatch")),i.addClass("error"),!1)}}])&&Cr(e.prototype,n),i&&Cr(e,i),t}();function Pr(t){return(Pr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function jr(t,e){return!e||"object"!==Pr(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Tr(t){return(Tr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Er(t,e){return(Er=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Mr=function(t){function e(t){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=jr(this,Tr(e).call(this,"div","".concat(xt,"-button ").concat(i)))).child(U("button.".concat(t))),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Er(t,e)}(e,t),e}(o);function Ar(t){return(Ar="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Fr(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Dr(t,e){return!e||"object"!==Ar(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ir(t){return(Ir=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Rr(t,e){return(Rr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Lr=100,Gr=function(t){function e(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=new Or(new kr("cell",["cell"],"100%",(function(t){return U("dataValidation.modeType.".concat(t))})),{required:!0},"".concat(U("dataValidation.range"),":"),Lr),i=new Or(new wr("120px","E3 or E3:F12"),{required:!0,pattern:/^([A-Z]{1,2}[1-9]\d*)(:[A-Z]{1,2}[1-9]\d*)?$/}),r=new Or(new kr("list",["list","number","date","phone","email"],"100%",(function(t){return U("dataValidation.type.".concat(t))}),(function(e){return t.criteriaSelected(e)})),{required:!0},"".concat(U("dataValidation.criteria"),":"),Lr),o=new Or(new kr("be",["be","nbe","eq","neq","lt","lte","gt","gte"],"160px",(function(t){return U("dataValidation.operator.".concat(t))}),(function(e){return t.criteriaOperatorSelected(e)})),{required:!0}).hide(),s=new Or(new wr("70px","10"),{required:!0}).hide(),l=new Or(new wr("70px","100"),{required:!0,type:"number"}).hide(),c=new Or(new wr("120px","a,b,c"),{required:!0}),u=new Or(new wr("70px","10"),{required:!0,type:"number"}).hide();return(t=Dr(this,Ir(e).call(this,U("contextmenu.validation"),[a("div","".concat(xt,"-form-fields")).children(n.el,i.el),a("div","".concat(xt,"-form-fields")).children(r.el,o.el,s.el,l.el,u.el,c.el),a("div","".concat(xt,"-buttons")).children(new Mr("cancel").on("click",(function(){return t.btnClick("cancel")})),new Mr("remove").on("click",(function(){return t.btnClick("remove")})),new Mr("save","primary").on("click",(function(){return t.btnClick("save")})))]))).mf=n,t.rf=i,t.cf=r,t.of=o,t.minvf=s,t.maxvf=l,t.vf=u,t.svf=c,t.change=function(){},t}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Rr(t,e)}(e,t),n=e,(i=[{key:"showVf",value:function(t){var e="date"===t?"2018-11-12":"10",n=this.vf;n.input.hint(e),n.show()}},{key:"criteriaSelected",value:function(t){var e=this.of,n=this.minvf,i=this.maxvf,r=this.vf,o=this.svf;"date"===t||"number"===t?(e.show(),n.rule.type=t,i.rule.type=t,"date"===t?(n.hint("2018-11-12"),i.hint("2019-11-12")):(n.hint("10"),i.hint("100")),n.show(),i.show(),r.hide(),o.hide()):("list"===t?o.show():o.hide(),r.hide(),e.hide(),n.hide(),i.hide())}},{key:"criteriaOperatorSelected",value:function(t){if(t){var e=this.minvf,n=this.maxvf,i=this.vf;if("be"===t||"nbe"===t)e.show(),n.show(),i.hide();else{var r=this.cf.val();i.rule.type=r,"date"===r?i.hint("2018-11-12"):i.hint("10"),i.show(),e.hide(),n.hide()}}}},{key:"btnClick",value:function(t){if("cancel"===t)this.hide();else if("remove"===t)this.change("remove"),this.hide();else if("save"===t){for(var e=["mf","rf","cf","of","svf","vf","minvf","maxvf"],n=0;n<e.length;n+=1){var i=this[e[n]];if(i.isShow()&&!i.validate())return}var r=this.mf.val(),o=this.rf.val(),a=this.cf.val(),s=this.of.val(),l=this.svf.val();"number"!==a&&"date"!==a||(l="be"===s||"nbe"===s?[this.minvf.val(),this.maxvf.val()]:this.vf.val()),this.change("save",r,o,{type:a,operator:s,required:!1,value:l}),this.hide()}}},{key:"setValue",value:function(t){if(t){var e=this.mf,n=this.rf,i=this.cf,r=this.of,o=this.svf,a=this.vf,s=this.minvf,l=this.maxvf,c=t.mode,u=t.ref,h=t.validator||{type:"list"},f=h.type,d=h.operator,p=h.value;e.val(c||"cell"),n.val(u),i.val(f),r.val(d),Array.isArray(p)?(s.val(p[0]),l.val(p[1])):(o.val(p||""),a.val(p||"")),this.criteriaSelected(f),this.criteriaOperatorSelected(d)}this.show()}}])&&Fr(n.prototype,i),r&&Fr(n,r),e}(br);function Vr(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Nr(t){return a("div","".concat(xt,"-item ").concat(t))}function zr(t){var e=this;return Nr("state").child(U("sort.".concat(t))).on("click.stop",(function(){return e.itemClick(t)}))}function Ur(t){var e=this,n=this.filterbEl,i=this.filterValues;n.html(""),Object.keys(t).forEach((function(r,o){var s=t[r],l=i.includes(r)?"checked":"";n.child(a("div","".concat(xt,"-item state ").concat(l)).on("click.stop",(function(){return e.filterClick(o,r)})).children(""===r?U("filter.empty"):r,a("div","label").html("(".concat(s,")"))))}))}function Br(){var t=this.filterhEl,e=this.filterValues,n=this.values;t.html("".concat(e.length," / ").concat(n.length)),t.checked(e.length===n.length)}var Hr=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.filterbEl=a("div","".concat(xt,"-body")),this.filterhEl=a("div","".concat(xt,"-header state")).on("click.stop",(function(){return e.filterClick(0,"all")})),this.el=a("div","".concat(xt,"-sort-filter")).children(this.sortAscEl=zr.call(this,"asc"),this.sortDescEl=zr.call(this,"desc"),Nr("divider"),a("div","".concat(xt,"-filter")).children(this.filterhEl,this.filterbEl),a("div","".concat(xt,"-buttons")).children(new Mr("cancel").on("click",(function(){return e.btnClick("cancel")})),new Mr("ok","primary").on("click",(function(){return e.btnClick("ok")})))).hide(),this.ci=null,this.sortDesc=null,this.values=null,this.filterValues=[]}var e,n,i;return e=t,(n=[{key:"btnClick",value:function(t){if("ok"===t){var e=this.ci,n=this.sort,i=this.filterValues;this.ok&&this.ok(e,n,"in",i)}this.hide()}},{key:"itemClick",value:function(t){this.sort=t;var e=this.sortAscEl,n=this.sortDescEl;e.checked("asc"===t),n.checked("desc"===t)}},{key:"filterClick",value:function(t,e){var n=this.filterbEl,i=this.filterValues,r=this.values,o=n.children();"all"===e?o.length===i.length?(this.filterValues=[],o.forEach((function(t){return a(t).checked(!1)}))):(this.filterValues=Array.from(r),o.forEach((function(t){return a(t).checked(!0)}))):a(o[t]).toggle("checked")?i.push(e):i.splice(i.findIndex((function(t){return t===e})),1),Br.call(this)}},{key:"set",value:function(t,e,n,i){this.ci=t;var r=this.sortAscEl,o=this.sortDescEl;null!==i?(this.sort=i.order,r.checked(i.asc()),o.checked(i.desc())):(this.sortDesc=null,r.checked(!1),o.checked(!1)),this.values=Object.keys(e),this.filterValues=n?Array.from(n.value):Object.keys(e),Ur.call(this,e,n),Br.call(this)}},{key:"setOffset",value:function(t){var e=this;this.el.offset(t).show();var n=1;bt(this.el,(function(){n<=0&&e.hide(),n-=1}))}},{key:"show",value:function(){this.el.show()}},{key:"hide",value:function(){this.el.hide(),mt(this.el)}}])&&Vr(e.prototype,n),i&&Vr(e,i),t}();function Wr(t,e){var n=a("div","".concat(xt,"-toast")),i=a("div","".concat(xt,"-dimmer active"));n.children(a("div","".concat(xt,"-toast-header")).children(new re("close").on("click.stop",(function(){return document.body.removeChild(n.el),void document.body.removeChild(i.el)})),t),a("div","".concat(xt,"-toast-content")).html(e)),document.body.appendChild(n.el),document.body.appendChild(i.el);var r=n.box(),o=r.width,s=r.height,l=document.documentElement,c=l.clientHeight,u=l.clientWidth;n.offset({left:(u-o)/2,top:(c-s)/3})}function Kr(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Yr(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Xr(){var t=this.data,e=this.verticalScrollbar,n=this.horizontalScrollbar,i=t.getSelectedRect(),r=i.l,o=i.t,a=i.left,s=i.top,l=i.width,c=i.height,u=this.getTableOffset();if(Math.abs(a)+l>u.width)n.move({left:r+l-u.width});else{var h=t.freezeTotalWidth();a<h&&n.move({left:r-1-h})}if(Math.abs(s)+c>u.height)e.move({top:o+c-u.height-1});else{var f=t.freezeTotalHeight();s<f&&e.move({top:o-1-f})}}function qr(t,e,n){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(-1!==e||-1!==n){var o=this.table,a=this.selector,s=this.toolbar;t?a.setEnd(e,n,r):a.set(e,n,i),s.reset(),o.render()}}function Jr(t,e){var n=this.selector,i=this.data,r=i.rows,o=i.cols,a=Yr(n.indexes,2),s=a[0],l=a[1],c=n.range,u=c.eri,h=c.eci;if(t){var f=Yr(n.moveIndexes,2);s=f[0],l=f[1]}"left"===e?l>0&&(l-=1):"right"===e?(h!==l&&(l=h),l<o.len-1&&(l+=1)):"up"===e?s>0&&(s-=1):"down"===e?(u!==s&&(s=u),s<r.len-1&&(s+=1)):"row-first"===e?l=0:"row-last"===e?l=o.len-1:"col-first"===e?s=0:"col-last"===e&&(s=r.len-1),t&&(n.moveIndexes=[s,l]),qr.call(this,t,s,l),Xr.call(this)}function $r(t){if(0===t.buttons&&t.target.className!=="".concat(xt,"-resizer-hover")){var e=t.offsetX,n=t.offsetY,i=this.rowResizer,r=this.colResizer,o=this.tableEl,a=this.data,s=a.rows,l=a.cols;if(e>l.indexWidth&&n>s.height)return i.hide(),void r.hide();var c=o.box(),u=a.getCellRectByXY(t.offsetX,t.offsetY);u.ri>=0&&-1===u.ci?(u.width=l.indexWidth,i.show(u,{width:c.width})):i.hide(),-1===u.ri&&u.ci>=0?(u.height=s.height,r.show(u,{height:c.height})):r.hide()}}function Qr(t){var e=this.verticalScrollbar,n=this.data,i=e.scroll().top,r=t.deltaY,o=n.rows;if(t.detail&&(r=40*t.detail),r>0){var a=n.scroll.ri+1;a<o.len&&e.move({top:i+o.getHeight(a)-1})}else{var s=n.scroll.ri-1;s>=0&&e.move({top:0===s?0:i-o.getHeight(s)})}}function Zr(t,e){var n=this.verticalScrollbar,i=this.horizontalScrollbar,r=n.scroll().top,o=i.scroll().left;"left"===t||"right"===t?i.move({left:o-e}):"up"!==t&&"down"!==t||n.move({top:r-e})}function to(){var t=this.data,e=this.verticalScrollbar,n=this.getTableOffset().height;e.set(n,t.rows.totalHeight())}function eo(){var t=this.data,e=this.horizontalScrollbar,n=this.getTableOffset().width;t&&e.set(n,t.cols.totalWidth())}function no(){var t=this.selector,e=this.data,n=this.editor,i=Yr(e.freeze,2),r=i[0],o=i[1];if(r>0||o>0){var a=e.freezeTotalWidth(),s=e.freezeTotalHeight();n.setFreezeLengths(a,s)}t.resetAreaOffset()}function io(){this.table.render()}function ro(){var t=this.tableEl,e=this.overlayerEl,n=this.overlayerCEl,i=this.table,r=this.toolbar,o=this.selector,a=this.el,s=this.getTableOffset(),l=this.getRect();t.attr(l),e.offset(l),n.offset(s),a.css("width","".concat(l.width,"px")),to.call(this),eo.call(this),no.call(this),i.render(),r.reset(),o.reset()}function oo(){var t=this.data,e=this.selector;t.clearClipboard(),e.hideClipboard()}function ao(){var t=this.data,e=this.selector;t.copy(),e.showClipboard()}function so(){var t=this.data,e=this.selector;t.cut(),e.showClipboard()}function lo(t){this.data.paste(t,(function(t){return Wr("Tip",t)}))&&ro.call(this)}function co(){this.data.autofilter(),ro.call(this)}function uo(){var t=this.toolbar;t.paintformatActive()&&(lo.call(this,"format"),oo.call(this),t.paintformatToggle())}function ho(t){var e=this,n=this.selector,i=this.data,r=this.table,o=this.sortFilter,a=t.offsetX,s=t.offsetY,l=t.target.className==="".concat(xt,"-selector-corner"),c=i.getCellRectByXY(a,s),u=c.left,h=c.top,f=c.width,d=c.height,p=c.ri,v=c.ci,g=i.autoFilter;if(g.includes(p,v)&&u+f-20<a&&h+d-20<s){var y=g.items(v,(function(t,e){return i.rows.getCell(t,e)}));return o.set(v,y,g.getFilter(v),g.getSort(v)),void o.setOffset({left:u,top:h+d+2})}t.shiftKey||(l?n.showAutofill(p,v):qr.call(this,!1,p,v),_t(window,(function(t){var r=i.getCellRectByXY(t.offsetX,t.offsetY);p=r.ri,v=r.ci,l?n.showAutofill(p,v):1!==t.buttons||t.shiftKey||qr.call(e,!0,p,v,!0,!0)}),(function(){l&&i.autofill(n.arange,"all",(function(t){return Wr("Tip",t)}))&&r.render(),n.hideAutofill(),uo.call(e)}))),l||1!==t.buttons||t.shiftKey&&qr.call(this,!0,p,v)}function fo(){var t=this.editor,e=this.data.getSelectedRect(),n=this.getTableOffset(),i="top";e.top>n.height/2&&(i="bottom"),t.setOffset(e,i)}function po(){var t=this.editor,e=this.data;fo.call(this),t.setCell(e.getSelectedCell(),e.getSelectedValidator()),oo.call(this)}function vo(t){var e=this,n=this.data,i=this.table,r=this.selector;n.scrolly(t,(function(){r.resetBRLAreaOffset(),fo.call(e),i.render()}))}function go(t){var e=this,n=this.data,i=this.table,r=this.selector;n.scrollx(t,(function(){r.resetBRTAreaOffset(),fo.call(e),i.render()}))}function yo(t){var e=this,n=this.data,i=this.table,r=this.selector;n.sync_scrolly(t,(function(){r.resetBRLAreaOffset(),fo.call(e),i.render()}))}function mo(t){var e=this,n=this.data,i=this.table,r=this.selector;n.sync_scrollx(t,(function(){r.resetBRTAreaOffset(),fo.call(e),i.render()}))}function bo(t,e){var n=t.ri,i=this.table,r=this.selector,o=this.data;o.rows.setHeight(n,e),o.setRowHeight(n,e),i.render(),r.resetAreaOffset(),to.call(this),fo.call(this)}function _o(t,e){var n=t.ci,i=this.table,r=this.selector,o=this.data;o.cols.setWidth(n,e),o.setColWidth(n,e),i.render(),r.resetAreaOffset(),eo.call(this),fo.call(this)}function wo(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"finished",n=this.data,i=this.table;n.setSelectedCellText(t,e),"finished"===e&&i.render()}function xo(t){var e=this.data;"insert-row"===t?e.insert("row"):"delete-row"===t?e.delete("row"):"insert-column"===t?e.insert("column"):"delete-column"===t?e.delete("column"):"delete-cell"===t?e.deleteCell():"delete-cell-format"===t?e.deleteCell("format"):"delete-cell-text"===t&&e.deleteCell("text"),oo.call(this),ro.call(this)}function ko(t,e){var n=this.data;if("undo"===t)this.undo();else if("redo"===t)this.redo();else if("print"===t);else if("paintformat"===t)!0===e?ao.call(this):oo.call(this);else if("clearformat"===t)xo.call(this,"delete-cell-format");else if("link"===t);else if("chart"===t);else if("autofilter"===t)co.call(this);else if("freeze"===t)if(e){var i=n.selector,r=i.ri,o=i.ci;this.freeze(r,o)}else this.freeze(0,0);else"overlayer"===t?this.enableOverlayer(e):(n.setSelectedCellAttr(t,e),"formula"===t&&po.call(this),ro.call(this))}function Co(t,e,n,i){this.data.setAutoFilter(t,e,n,i),ro.call(this)}function So(){var t=this,e=this.overlayerEl,n=this.rowResizer,i=this.colResizer,r=this.verticalScrollbar,o=this.horizontalScrollbar,a=this.editor,s=this.contextMenu,l=this.data,c=this.toolbar,u=this.modalValidation,h=this.sortFilter;e.on("mousemove",(function(e){$r.call(t,e)})).on("mousedown",(function(e){2===e.buttons?l.xyInSelectedRect(e.offsetX,e.offsetY)?(s.setPosition(e.offsetX,e.offsetY),e.stopPropagation()):s.hide():2===e.detail?po.call(t):(a.clear(),ho.call(t,e))})).on("mousewheel.stop",(function(e){Qr.call(t,e)})),function(t,e){var n=e.move,i=e.end,r=0,o=0;gt(t,"touchstart",(function(t){var e=t.touches[0],n=e.pageX,i=e.pageY;r=n,o=i})),gt(t,"touchmove",(function(t){if(n){var e=t.changedTouches[0],i=e.pageX,a=e.pageY,s=i-r,l=a-o;(Math.abs(s)>10||Math.abs(l)>10)&&(wt(s,l,t,n),r=i,o=a),t.preventDefault()}})),gt(t,"touchend",(function(t){if(i){var e=t.changedTouches[0],n=e.pageX,a=e.pageY;wt(n-r,a-o,t,i)}}))}(e.el,{move:function(e,n){Zr.call(t,e,n)}}),c.change=function(e,n){return ko.call(t,e,n)},h.ok=function(e,n,i,r){return Co.call(t,e,n,i,r)},n.finishedFn=function(e,n){bo.call(t,e,n)},i.finishedFn=function(e,n){_o.call(t,e,n)},r.moveFn=function(e,n){vo.call(t,e,n)},o.moveFn=function(e,n){go.call(t,e,n)},a.change=function(e,n){wo.call(t,n,e)},u.change=function(t){if("save"===t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];l.addValidation.apply(l,n)}else l.removeValidation()},s.itemClick=function(e){"validation"===e?u.setValue(l.getSelectedValidation()):"copy"===e?ao.call(t):"cut"===e?so.call(t):"paste"===e?lo.call(t,"all"):"paste-value"===e?lo.call(t,"text"):"paste-format"===e?lo.call(t,"format"):xo.call(t,e)},gt(window,"resize",(function(){t.reload()})),gt(window,"click",(function(n){t.focusing=e.contains(n.target)})),gt(window,"keydown",(function(e){if(t.focusing){var n=e.keyCode||e.which,i=e.key,r=e.ctrlKey,o=e.shiftKey,u=e.altKey,h=e.metaKey;if(r||h){var f="all";switch(o&&(f="text"),u&&(f="format"),n){case 90:t.undo(),e.preventDefault();break;case 89:t.redo(),e.preventDefault();break;case 67:ao.call(t),e.preventDefault();break;case 88:so.call(t),e.preventDefault();break;case 85:c.trigger("underline"),e.preventDefault();break;case 86:lo.call(t,f),e.preventDefault();break;case 37:Jr.call(t,o,"row-first"),e.preventDefault();break;case 38:Jr.call(t,o,"col-first"),e.preventDefault();break;case 39:Jr.call(t,o,"row-last"),e.preventDefault();break;case 40:Jr.call(t,o,"col-last"),e.preventDefault();break;case 32:qr.call(t,!1,-1,l.selector.ci,!1),e.preventDefault();break;case 66:c.trigger("font-bold");break;case 73:c.trigger("font-italic")}}else{switch(n){case 32:o&&qr.call(t,!1,l.selector.ri,-1,!1);break;case 27:s.hide(),oo.call(t);break;case 37:Jr.call(t,o,"left"),e.preventDefault();break;case 38:Jr.call(t,o,"up"),e.preventDefault();break;case 39:Jr.call(t,o,"right"),e.preventDefault();break;case 40:Jr.call(t,o,"down"),e.preventDefault();break;case 9:a.clear(),Jr.call(t,!1,o?"left":"right"),e.preventDefault();break;case 13:u||(a.clear(),Jr.call(t,!1,o?"up":"down"),e.preventDefault());break;case 8:xo.call(t,"delete-cell-text"),e.preventDefault()}"Delete"===i?(xo.call(t,"delete-cell-text"),e.preventDefault()):n>=65&&n<=90||n>=48&&n<=57||n>=96&&n<=105||"="===e.key?(wo.call(t,e.key,"input"),po.call(t)):113===n&&po.call(t)}}}))}var Oo=function(){function t(e,n){var i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var r=n.settings,o=r.view,s=r.showToolbar,l=r.showContextmenu;this.el=a("div","".concat(xt,"-sheet")),this.toolbar=new gr(n,o.width,!s),e.children(this.toolbar.el,this.el),this.data=n,this.tableEl=a("div","".concat(xt,"-table")),this.rowResizer=new Ct(!1,n.rows.height),this.colResizer=new Ct(!0,n.cols.minWidth),this.verticalScrollbar=new Ot(!0),this.horizontalScrollbar=new Ot(!1),this.editor=new be(Ie,(function(){return i.getTableOffset()}),n.rows.height),this.modalValidation=new Gr,this.contextMenu=new Se((function(){return i.getTableOffset()}),!l),this.selector=new Wt(n),this.overlayerCEl=a("div","".concat(xt,"-overlayer-content")).children(this.editor.el,this.selector.el),this.overlayerEl=a("div","".concat(xt,"-overlayer")).child(this.overlayerCEl),this.sortFilter=new Hr,this.el.children(this.tableEl,this.overlayerEl.el,this.rowResizer.el,this.colResizer.el,this.verticalScrollbar.el,this.horizontalScrollbar.el,this.contextMenu.el,this.modalValidation.el,this.sortFilter.el),this.table=new Nn(this.tableEl.el,n),So.call(this),ro.call(this),qr.call(this,!1,0,0),this.sync_sheets=[]}var e,n,i;return e=t,(n=[{key:"exportData",value:function(){return this.data.getData()}},{key:"setLayer",value:function(){this.table.setlayer()}},{key:"loadData",value:function(t){return this.data.setData(t),this.setLayer(),ro.call(this),console.log("loadData end"),this}},{key:"freeze",value:function(t,e){return this.data.setFreeze(t,e),ro.call(this),this}},{key:"undo",value:function(){this.data.undo(),ro.call(this)}},{key:"redo",value:function(){this.data.redo(),ro.call(this)}},{key:"reload",value:function(){return ro.call(this),this}},{key:"sync",value:function(){io.call(this)}},{key:"sync_movex",value:function(t){mo.call(this,t)}},{key:"sync_movey",value:function(t){yo.call(this,t)}},{key:"getRect",value:function(){var t=this.data;return{width:t.viewWidth(),height:t.viewHeight()}}},{key:"getTableOffset",value:function(){var t=this.data,e=t.rows,n=t.cols,i=this.getRect(),r=i.width,o=i.height;return{width:r-n.indexWidth,height:o-e.height,left:n.indexWidth,top:e.height}}},{key:"enableOverlayer",value:function(t){t?this.overlayerEl.show():this.overlayerEl.hide()}}])&&Kr(e.prototype,n),i&&Kr(e,i),t}(),Po=(n(59),n(19)),jo=n.n(Po);function To(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}n.d(e,"spreadsheet",(function(){return Mo}));var Eo=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var i=e,r=e;"string"==typeof e&&(i=document.querySelector(e),r=document.querySelector(e+"2")),this.data=new vt("sheet1",n),this.data2=new vt("sheet2",n);var o=a("div","".concat(xt)).on("contextmenu",(function(t){return t.preventDefault()})),s=a("div","".concat(xt)).on("contextmenu",(function(t){return t.preventDefault()}));i.appendChild(o.el),r.appendChild(s.el),this.sheet=new Oo(o,this.data),this.sheet2=new Oo(s,this.data2),this.data.verticalAddSplitSheet(this.sheet2),this.data2.verticalAddSplitSheet(this.sheet)}var e,n,i;return e=t,i=[{key:"locale",value:function(t,e){H(t,e)}}],(n=[{key:"getEl",value:function(){return this.rootEl2}},{key:"loadData",value:function(t){return this.sheet.loadData(t),this.sheet2.loadData(t),this}},{key:"getData",value:function(){return this.data.getData()}},{key:"validate",value:function(){return this.data.validations.errors.size<=0}},{key:"change",value:function(t){return console.log("Spreadsheet change"),this.data.change=t,this}}])&&To(e.prototype,n),i&&To(e,i),t}(),Mo=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Eo(t,e)};window&&(window.x=window.x||{},window.x.spreadsheet=Mo,window.x.spreadsheet.locale=function(t,e){return H(t,e)});var Ao=new jo.a,Fo={b:!0,c:"#ff8800",n:50,s:"string"},Do=Ao.addFolder({title:"Number"});Do.addInput(Fo,"n",{label:"text"}),Do.addInput(Fo,"n",{label:"slider",max:100,min:0}),Do.addInput(Fo,"n",{label:"list",options:{low:0,medium:50,high:100}});var Io=Ao.addFolder({title:"String"});Io.addInput(Fo,"s",{label:"text"}),Io.addInput(Fo,"s",{label:"list",options:{dark:"Dark",light:"Light"}}),Ao.addFolder({title:"Boolean"}).addInput(Fo,"b",{label:"checkbox"}),Ao.addFolder({title:"Color"}).addInput(Fo,"c",{label:"text"});e.default=Eo}]);
//# sourceMappingURL=xspreadsheet.js.map